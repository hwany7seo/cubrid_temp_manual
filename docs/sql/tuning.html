

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Updating Statistics &mdash; CUBRID 11.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'11.3.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Partitioning" href="partition_index.html" />
    <link rel="prev" title="Query Optimization" href="tuning_index.html" />

    <!-- meta-tags -->
      
      
      
        
        
          
        
        
          
        
      

      <!-- keywords & description -->
      <meta name="keywords" content="Updating Statistics, CUBRID 11.3.0 documentation, cubrid update statistics, cubrid check statistics, query plan, query profiling, sql hint, cubrid index hint, cubrid special index, cubrid using index" />
      <meta name="description" content = "Updating Statistics &mdash; CUBRID 11.3.0 documentation. How to optimize query execution in CUBRID database. " />
    
      <!-- og -->
      <meta property="og:title" content="Updating Statistics &mdash; CUBRID 11.3.0 documentation"/>
      <meta property="og:keywords" content="Updating Statistics, CUBRID 11.3.0 documentation, cubrid update statistics, cubrid check statistics, query plan, query profiling, sql hint, cubrid index hint, cubrid special index, cubrid using index" />
      <meta property="og:description" content = "Updating Statistics &mdash; CUBRID 11.3.0 documentation. How to optimize query execution in CUBRID database. " />
      <meta property="og:type" content="website"/>
      <meta property="og:site" content="Updating Statistics &mdash; CUBRID 11.3.0 documentation"/>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CUBRID
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../toc.html">Introduction to Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../toc.html#manual-contents">Manual Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc.html#manual-conventions">Manual Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc.html#version-name-and-version-string-conventions">Version Name and Version String Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction to CUBRID</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#system-architecture">System Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#process-structure">Process Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#database-volume-structure">Database Volume Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../intro.html#permanent-volume">Permanent Volume</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intro.html#temporary-volume">Temporary Volume</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intro.html#backup-volume">Backup Volume</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#database-server">Database Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#broker">Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#interface-module">Interface Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#cubrid-characteristics">CUBRID Characteristics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install_upgrade.html">Installing and Upgrading</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html">Installing and Running CUBRID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#supported-platforms-and-system-requirements">Supported Platforms and System Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#compatibility">Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-and-running-cubrid-on-linux">Installing and Running CUBRID on Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-and-running-cubrid-on-windows">Installing and Running CUBRID on Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-with-a-compressed-package">Installing with a Compressed Package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install.html#installing-cubrid-with-tar-gz-on-linux">Installing CUBRID with tar.gz on Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#installing-cubrid-with-zip-on-windows">Installing CUBRID with zip on Windows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../env.html">Configuring Environment Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env.html#cubrid-environment-variables">CUBRID Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#os-environment-and-java-environment-variables">OS Environment and Java Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#configuring-the-environment-variable">Configuring the Environment Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#language-charset-setting">Language &amp; Charset Setting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../env.html#port-setting">Port Setting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../env.html#default-ports-for-cubrid">Default Ports for CUBRID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#ports-for-cubrid-ha">Ports for CUBRID HA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#ports-for-cubrid-manager-server">Ports for CUBRID Manager Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html#ports-for-cubrid-java-stored-procedure-server">Ports for CUBRID Java Stored Procedure Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html">Upgrade</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#cautions-during-upgrade">Cautions during upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#upgrading-from-cubrid-9-2-9-3-10-0-10-1-10-2-11-0-11-2-to-cubrid-11-3">Upgrading from CUBRID 9.2/9.3/10.0/10.1/10.2/11.0/11.2 to CUBRID 11.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#db-migration">DB migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#parameter-configuration">Parameter configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#upgrading-from-cubrid-9-1-to-cubrid-11-3">Upgrading from CUBRID 9.1 to CUBRID 11.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#migration-from-91">DB migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#conf-from-91">Parameter configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#upgrading-from-cubrid-2008-r4-1-r4-3-r4-4-to-cubrid-11-3">Upgrading From CUBRID 2008 R4.1/R4.3/R4.4 To CUBRID 11.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#migration-from-41">DB migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#conf-from-41">Parameter configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#upgrading-from-cubrid-2008-r4-0-or-earlier-versions-to-cubrid-11-3">Upgrading From CUBRID 2008 R4.0 or Earlier Versions To CUBRID 11.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#id6">DB migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../upgrade.html#id7">Parameter configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade.html#database-migration-under-ha-environment">Database Migration under HA Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#ha-migration-from-cubrid-2008-r2-2-or-higher-to-cubrid-11-3">HA migration from CUBRID 2008 R2.2 or higher to CUBRID 11.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade.html#ha-migration-from-cubrid-2008-r2-0-r2-1-to-cubrid-11-3">HA Migration from CUBRID 2008 R2.0/R2.1 to CUBRID 11.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uninstall.html">Uninstalling CUBRID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uninstall.html#uninstalling-cubrid-in-linux">Uninstalling CUBRID in Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uninstall.html#uninstalling-cubrid-in-windows">Uninstalling CUBRID in Windows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quick_start.html">Starting the CUBRID Service</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../quick_start.html#shell-command">Shell Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quick_start.html#cubridservice-or-cubrid-service-tray">CUBRIDService or CUBRID Service Tray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quick_start.html#creating-databases">Creating Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quick_start.html#starting-database">Starting Database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../qrytool.html">Query Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../qrytool.html#csql-interpreter">CSQL Interpreter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../qrytool.html#management-tools">Management Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../qrytool.html#running-sql-with-cubrid-manager">Running SQL with CUBRID Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../qrytool.html#migrating-schema-data-with-cubrid-migration-toolkit">Migrating schema/data with CUBRID Migration Toolkit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../qrytool.html#drivers">Drivers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../csql.html">CSQL Interpreter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../csql.html#introduction-to-the-csql-interpreter">Introduction to the CSQL Interpreter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../csql.html#executing-csql">Executing CSQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../csql.html#csql-execution-mode">CSQL Execution Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../csql.html#using-csql-syntax">Using CSQL (Syntax)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../csql.html#csql-options">CSQL Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../csql.html#session-commands">Session Commands</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">CUBRID SQL</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="syntax.html">Writing Rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="identifier.html">Identifier</a><ul>
<li class="toctree-l4"><a class="reference internal" href="identifier.html#guidelines-for-creating-identifiers">Guidelines for Creating Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="identifier.html#legal-identifiers">Legal Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="identifier.html#illegal-identifiers">Illegal Identifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="identifier.html#the-maximum-length-of-an-identifier-name">The maximum length of an identifier name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="keyword.html">Reserved Words</a></li>
<li class="toctree-l3"><a class="reference internal" href="comment.html">Comment</a></li>
<li class="toctree-l3"><a class="reference internal" href="literal.html">Literal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="literal.html#number">Number</a></li>
<li class="toctree-l4"><a class="reference internal" href="literal.html#date-time">Date/Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="literal.html#bit-string">Bit String</a></li>
<li class="toctree-l4"><a class="reference internal" href="literal.html#character-string">Character String</a></li>
<li class="toctree-l4"><a class="reference internal" href="literal.html#collection">Collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="literal.html#null">NULL</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="datatype_index.html">Data Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="datatype.html">Data Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#numeric-types">Numeric Types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#int-integer">INT/INTEGER</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#short-smallint">SHORT/SMALLINT</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#bigint">BIGINT</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#numeric-decimal">NUMERIC/DECIMAL</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#float-real">FLOAT/REAL</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#double-double-precision">DOUBLE/DOUBLE PRECISION</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#date-time-types">Date/Time Types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#date">DATE</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#time">TIME</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#timestamp">TIMESTAMP</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#datetime">DATETIME</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#casting-a-string-to-date-time-type">CASTing a String to Date/Time Type</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#date-time-types-with-timezone">Date/Time Types with Timezone</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#timezone-configuration">Timezone Configuration</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#timezone-function">Timezone Function</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#functions-with-a-timezone-type">Functions with a Timezone Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#conversion-functions-for-timezone-types">Conversion Functions for Timezone Types</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#iana-timezone">IANA Timezone</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#bit-strings">Bit Strings</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#bit-n">BIT(n)</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#bit-varying-n">BIT VARYING(n)</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#character-strings">Character Strings</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#char-n">CHAR(n)</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#varchar-n-char-varying-n">VARCHAR(n)/CHAR VARYING(n)</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#string">STRING</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#escape-special-characters">Escape Special Characters</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#comparison-rules">Comparison Rules</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#enum-data-type">ENUM Data Type</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#enum-type-comparisons">ENUM Type Comparisons</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#enum-type-ordering">ENUM Type Ordering</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#blob-clob-data-types">BLOB/CLOB Data Types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#blob">BLOB</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#clob">CLOB</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#to-create-and-alter-lob">To Create and alter LOB</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#to-store-and-update-lob">To store and update LOB</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#to-access-lob">To access LOB</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#functions-and-operators-for-lob">Functions and Operators for LOB</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#to-create-and-manage-lob-storage">To create and manage LOB storage</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#transaction-and-recovery">Transaction and Recovery</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#collection-types">Collection Types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#set">SET</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#multiset">MULTISET</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#list-sequence">LIST/SEQUENCE</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#json-data-type">JSON Data Type</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#creating-json-data">Creating JSON data</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#json-validation">JSON Validation</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#json-value-types">JSON Value Types</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#json-data-conversions">JSON Data Conversions</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#json-paths">JSON Paths</a></li>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#json-pointers">JSON Pointers</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="datatype.html#implicit-type-conversion">Implicit Type Conversion</a><ul>
<li class="toctree-l5"><a class="reference internal" href="datatype.html#conversion-rules">Conversion Rules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="schema/index.html">Data Definition Statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="schema/table_stmt.html">TABLE DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/table_stmt.html#create-table">CREATE TABLE</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#table-definition">Table Definition</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#column-definition">Column Definition</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#on-update">ON UPDATE</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#id2">Constraint Definition</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#column-option">Column Option</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#table-option">Table Option</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#create-table-like">CREATE TABLE LIKE</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#create-table-as-select">CREATE TABLE AS SELECT</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/table_stmt.html#alter-table">ALTER TABLE</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#add-column-clause">ADD COLUMN Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#add-constraint-clause">ADD CONSTRAINT Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#add-index-clause">ADD INDEX Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#alter-column-set-default-clause">ALTER COLUMN … SET DEFAULT Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#auto-increment-clause">AUTO_INCREMENT Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#change-modify-clauses">CHANGE/MODIFY Clauses</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#column-s-comment">Column’s COMMENT</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#rename-column-clause">RENAME COLUMN Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#drop-column-clause">DROP COLUMN Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#drop-constraint-clause">DROP CONSTRAINT Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#drop-index-clause">DROP INDEX Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#drop-primary-key-clause">DROP PRIMARY KEY Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/table_stmt.html#drop-foreign-key-clause">DROP FOREIGN KEY Clause</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/table_stmt.html#drop-table">DROP TABLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/table_stmt.html#rename-table">RENAME TABLE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schema/index_stmt.html">INDEX DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/index_stmt.html#create-index">CREATE INDEX</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/index_stmt.html#comment-of-index">COMMENT of Index</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/index_stmt.html#online-index-creation">Online index creation</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/index_stmt.html#displaying-online-index-from-other-transactions">Displaying online index from other transactions</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/index_stmt.html#online-unique-index-while-other-transactions-inserts-violates-uniqueness">Online unique index while other transactions inserts violates uniqueness</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/index_stmt.html#deduplicate">DEDUPLICATE</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/index_stmt.html#alter-index">ALTER INDEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/index_stmt.html#drop-index">DROP INDEX</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schema/view_stmt.html">VIEW DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/view_stmt.html#create-view">CREATE VIEW</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#condition-for-creating-updatable-view">Condition for Creating Updatable VIEW</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#view-s-comment">View’s COMMENT</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/view_stmt.html#alter-view">ALTER VIEW</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#add-query-clause">ADD QUERY Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#as-select-clause">AS SELECT Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#change-query-clause">CHANGE QUERY Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#drop-query-clause">DROP QUERY Clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/view_stmt.html#comment-clause">COMMENT Clause</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/view_stmt.html#drop-view">DROP VIEW</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/view_stmt.html#rename-view">RENAME VIEW</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schema/serial_stmt.html">SERIAL DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/serial_stmt.html#create-serial">CREATE SERIAL</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/serial_stmt.html#comment-of-serial">COMMENT of Serial</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/serial_stmt.html#alter-serial">ALTER SERIAL</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/serial_stmt.html#drop-serial">DROP SERIAL</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/serial_stmt.html#accessing-serial">Accessing Serial</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/serial_stmt.html#pseudocolumns">Pseudocolumns</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/serial_stmt.html#functions">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schema/synonym_stmt.html">SYNONYM DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/synonym_stmt.html#create-synonym">CREATE SYNONYM</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#private-synonym">1. Private synonym</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#synonym-information">2. Synonym information</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#synonym-name">3. Synonym name</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#synonym-for-synonym">4. Synonym for synonym</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#creating-schema-specified-synonyms">5. Creating schema-specified synonyms</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/synonym_stmt.html#alter-synonym">ALTER SYNONYM</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#change-target-object">Change target object</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#change-comment">Change comment</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/synonym_stmt.html#drop-synonym">DROP SYNONYM</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/synonym_stmt.html#rename-synonym">RENAME SYNONYM</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#cannot-change-schema">1. Cannot change schema</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#name-already-in-use">2. Name already in use</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/synonym_stmt.html#use-synonym">USE SYNONYM</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#use-synonyms-from-other-schemas">1. Use synonyms from other schemas</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/synonym_stmt.html#statements-where-synonyms-cannot-be-used">2. Statements where synonyms cannot be used</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schema/server_stmt.html">SERVER DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/server_stmt.html#create-server">CREATE SERVER</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/server_stmt.html#server-definition">Server Definition</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/server_stmt.html#rename-server">RENAME SERVER</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/server_stmt.html#drop-server">DROP SERVER</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/server_stmt.html#alter-server">ALTER SERVER</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/server_stmt.html#owner-to-clause">OWNER TO clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/server_stmt.html#change-clause">CHANGE clause</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="schema/stored_routine_stmt.html">STORED FUNCTION/PROCEDURE DEFINITION STATEMENTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="schema/stored_routine_stmt.html#create-procedure">CREATE PROCEDURE</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/stored_routine_stmt.html#comment-of-java-stored-procedure">COMMENT of Java Stored Procedure</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/stored_routine_stmt.html#checking-the-published-java-stored-procedure-information">Checking the Published Java Stored Procedure Information</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/stored_routine_stmt.html#drop-procedure">DROP PROCEDURE</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/stored_routine_stmt.html#create-function">CREATE FUNCTION</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/stored_routine_stmt.html#comment-of-java-stored-function">COMMENT of Java Stored Function</a></li>
<li class="toctree-l5"><a class="reference internal" href="schema/stored_routine_stmt.html#checking-the-published-java-stored-function-information">Checking the Published Java Stored Function Information</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="schema/stored_routine_stmt.html#drop-function">DROP FUNCTION</a></li>
<li class="toctree-l4"><a class="reference internal" href="schema/stored_routine_stmt.html#java-call-specification">Java Call Specification</a><ul>
<li class="toctree-l5"><a class="reference internal" href="schema/stored_routine_stmt.html#data-type-mapping">Data Type Mapping</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="function/index.html">Operators and Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="function/logical_op.html">Logical Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="function/comparison_op.html">Comparison Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="function/arithmetic_op.html">Arithmetic Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/arithmetic_op.html#arithmetic-operations-and-type-casting-of-numeric-data-types">Arithmetic Operations and Type Casting of Numeric Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/arithmetic_op.html#arithmetic-operations-and-type-casting-of-date-time-data-types">Arithmetic Operations and Type Casting of DATE/TIME Data Types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="function/arithmetic_op.html#behavior-related-to-timezone-parameters">Behavior related to timezone parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/set_op.html">Set Arithmetic Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/set_op.html#set-multiset-list">SET, MULTISET, LIST</a><ul>
<li class="toctree-l5"><a class="reference internal" href="function/set_op.html#assigning-collection-value-to-variable">Assigning Collection Value to Variable</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/stmt_set_op.html">Statement Set Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/stmt_set_op.html#union-difference-intersection">UNION, DIFFERENCE, INTERSECTION</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/containment_op.html">Containment Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/containment_op.html#seteq">SETEQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/containment_op.html#setneq">SETNEQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/containment_op.html#superset">SUPERSET</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/containment_op.html#superseteq">SUPERSETEQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/containment_op.html#subset">SUBSET</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/containment_op.html#subseteq">SUBSETEQ</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/bit_fn.html">BIT Functions and Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/bit_fn.html#bitwise-operator">Bitwise Operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/bit_fn.html#bit-and">BIT_AND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/bit_fn.html#bit-or">BIT_OR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/bit_fn.html#bit-xor">BIT_XOR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/bit_fn.html#bit-count">BIT_COUNT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/string_fn.html">String Functions and Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#concatenation-operator">Concatenation Operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#ascii">ASCII</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#bin">BIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#bit-length">BIT_LENGTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#char-length-character-length-lengthb-length">CHAR_LENGTH, CHARACTER_LENGTH, LENGTHB, LENGTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#chr">CHR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#concat">CONCAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#concat-ws">CONCAT_WS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#elt">ELT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#field">FIELD</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#find-in-set">FIND_IN_SET</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#from-base64">FROM_BASE64</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#insert">INSERT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#instr">INSTR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#lcase-lower">LCASE, LOWER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#left">LEFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#locate">LOCATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#lpad">LPAD</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#ltrim">LTRIM</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#mid">MID</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#octet-length">OCTET_LENGTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#position">POSITION</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#repeat">REPEAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#replace">REPLACE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#reverse">REVERSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#right">RIGHT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#rpad">RPAD</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#rtrim">RTRIM</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#space">SPACE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#strcmp">STRCMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#substr">SUBSTR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#substring">SUBSTRING</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#substring-index">SUBSTRING_INDEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#to-base64">TO_BASE64</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#translate">TRANSLATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#trim">TRIM</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/string_fn.html#ucase-upper">UCASE, UPPER</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/regex_fn.html">Regular Expressions Functions and Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regular-expressions-pattern-syntax">Regular Expressions Pattern Syntax</a><ul>
<li class="toctree-l5"><a class="reference internal" href="function/regex_fn.html#special-pattern-characters">Special Pattern Characters</a></li>
<li class="toctree-l5"><a class="reference internal" href="function/regex_fn.html#quantifiers">Quantifiers</a></li>
<li class="toctree-l5"><a class="reference internal" href="function/regex_fn.html#groups">Groups</a></li>
<li class="toctree-l5"><a class="reference internal" href="function/regex_fn.html#assertions">Assertions</a></li>
<li class="toctree-l5"><a class="reference internal" href="function/regex_fn.html#alternatives">Alternatives</a></li>
<li class="toctree-l5"><a class="reference internal" href="function/regex_fn.html#character-classes">Character classes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regexp-rlike">REGEXP, RLIKE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regexp-count">REGEXP_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regexp-instr">REGEXP_INSTR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regexp-like">REGEXP_LIKE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regexp-replace">REGEXP_REPLACE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/regex_fn.html#regexp-substr">REGEXP_SUBSTR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/numeric_fn.html">Numeric/Mathematical Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#abs">ABS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#acos">ACOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#asin">ASIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#atan">ATAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#atan2">ATAN2</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#ceil">CEIL</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#conv">CONV</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#cos">COS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#cot">COT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#crc32">CRC32</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#degrees">DEGREES</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#drandom-drand">DRANDOM, DRAND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#exp">EXP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#floor">FLOOR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#hex">HEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#ln">LN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#log2">LOG2</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#log10">LOG10</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#mod">MOD</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#pi">PI</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#pow-power">POW, POWER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#radians">RADIANS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#random-rand">RANDOM, RAND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#round">ROUND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#sign">SIGN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#sin">SIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#sqrt">SQRT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#tan">TAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#trunc-truncate">TRUNC, TRUNCATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/numeric_fn.html#width-bucket">WIDTH_BUCKET</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/datetime_fn.html">Date/Time Functions and Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#adddate-date-add">ADDDATE, DATE_ADD</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#addtime">ADDTIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#add-months">ADD_MONTHS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#curdate-current-date">CURDATE, CURRENT_DATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#current-datetime-now">CURRENT_DATETIME, NOW</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#curtime-current-time">CURTIME, CURRENT_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#current-timestamp-localtime-localtimestamp">CURRENT_TIMESTAMP, LOCALTIME, LOCALTIMESTAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#date">DATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#datediff">DATEDIFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#date-sub-subdate">DATE_SUB, SUBDATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#day-dayofmonth">DAY, DAYOFMONTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#dayofweek">DAYOFWEEK</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#dayofyear">DAYOFYEAR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#extract">EXTRACT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#from-days">FROM_DAYS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#from-tz">FROM_TZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#from-unixtime">FROM_UNIXTIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#hour">HOUR</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#last-day">LAST_DAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#makedate">MAKEDATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#maketime">MAKETIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#minute">MINUTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#month">MONTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#months-between">MONTHS_BETWEEN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#new-time">NEW_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#quarter">QUARTER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#round">ROUND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#sec-to-time">SEC_TO_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#second">SECOND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#sys-date-sysdate">SYS_DATE, SYSDATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#sys-datetime-sysdatetime">SYS_DATETIME, SYSDATETIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#sys-time-systime">SYS_TIME, SYSTIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#sys-timestamp-systimestamp">SYS_TIMESTAMP, SYSTIMESTAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#time">TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#time-to-sec">TIME_TO_SEC</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#timediff">TIMEDIFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#timestamp">TIMESTAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#to-days">TO_DAYS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#trunc">TRUNC</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#tz-offset">TZ_OFFSET</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#unix-timestamp">UNIX_TIMESTAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#utc-date">UTC_DATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#utc-time">UTC_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#week">WEEK</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#weekday">WEEKDAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/datetime_fn.html#year">YEAR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/json_fn.html">JSON functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#introduction-to-json-functions">Introduction to JSON functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-array">JSON_ARRAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-object">JSON_OBJECT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-keys">JSON_KEYS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-depth">JSON_DEPTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-length">JSON_LENGTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-valid">JSON_VALID</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-type">JSON_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-quote">JSON_QUOTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-unquote">JSON_UNQUOTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-pretty">JSON_PRETTY</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-search">JSON_SEARCH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-extract">JSON_EXTRACT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#fn-json-arrow">-&gt;</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#fn-json-double-arrow">-&gt;&gt;</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-contains-path">JSON_CONTAINS_PATH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-contains">JSON_CONTAINS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-merge-patch">JSON_MERGE_PATCH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-merge-preserve">JSON_MERGE_PRESERVE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-merge">JSON_MERGE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-array-append">JSON_ARRAY_APPEND</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-array-insert">JSON_ARRAY_INSERT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-insert">JSON_INSERT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-set">JSON_SET</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-replace">JSON_REPLACE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-remove">JSON_REMOVE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/json_fn.html#json-table">JSON_TABLE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/lob_fn.html">LOB Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#bit-to-blob">BIT_TO_BLOB</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#blob-from-file">BLOB_FROM_FILE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#blob-length">BLOB_LENGTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#blob-to-bit">BLOB_TO_BIT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#char-to-blob">CHAR_TO_BLOB</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#char-to-clob">CHAR_TO_CLOB</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#clob-from-file">CLOB_FROM_FILE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#clob-length">CLOB_LENGTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/lob_fn.html#clob-to-char">CLOB_TO_CHAR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/typecast_fn.html">Data Type Casting Functions and Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#cast">CAST</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#date-format">DATE_FORMAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#format">FORMAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#str-to-date">STR_TO_DATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#time-format">TIME_FORMAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-char-date-time">TO_CHAR(date_time)</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-char-number">TO_CHAR(number)</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-date">TO_DATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-datetime">TO_DATETIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-datetime-tz">TO_DATETIME_TZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-number">TO_NUMBER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-time">TO_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-timestamp">TO_TIMESTAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/typecast_fn.html#to-timestamp-tz">TO_TIMESTAMP_TZ</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/analysis_fn.html">Aggregate/Analytic Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#aggregate-vs-analytic">Aggregate vs. Analytic</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#analytic-functions-which-order-by-clause-must-be-specified-in-over-function">Analytic functions which “ORDER BY” clause must be specified in OVER function</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#avg">AVG</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#count">COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#cume-dist">CUME_DIST</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#dense-rank">DENSE_RANK</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#first-value">FIRST_VALUE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#group-concat">GROUP_CONCAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#lag">LAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#last-value">LAST_VALUE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#lead">LEAD</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#max">MAX</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#median">MEDIAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#min">MIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#nth-value">NTH_VALUE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#ntile">NTILE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#percent-rank">PERCENT_RANK</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#percentile-cont">PERCENTILE_CONT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#percentile-disc">PERCENTILE_DISC</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#rank">RANK</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#row-number">ROW_NUMBER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#stddev-stddev-pop">STDDEV, STDDEV_POP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#stddev-samp">STDDEV_SAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#sum">SUM</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#variance-var-pop">VARIANCE, VAR_POP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#var-samp">VAR_SAMP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#json-arrayagg">JSON_ARRAYAGG</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/analysis_fn.html#json-objectagg">JSON_OBJECTAGG</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/clickcounter_fn.html">Click Counter Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/clickcounter_fn.html#incr-decr">INCR, DECR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/rownum_fn.html">ROWNUM Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/rownum_fn.html#rownum-inst-num">ROWNUM, INST_NUM</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/rownum_fn.html#orderby-num">ORDERBY_NUM</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/rownum_fn.html#groupby-num">GROUPBY_NUM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/information_fn.html">Information Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#charset">CHARSET</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#coercibility">COERCIBILITY</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#collation">COLLATION</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#current-user-user">CURRENT_USER, USER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#database-schema">DATABASE, SCHEMA</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#dbtimezone">DBTIMEZONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#default">DEFAULT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#disk-size">DISK_SIZE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#index-cardinality">INDEX_CARDINALITY</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#inet-aton">INET_ATON</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#inet-ntoa">INET_NTOA</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#last-insert-id">LAST_INSERT_ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#list-dbs">LIST_DBS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#row-count">ROW_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#sessiontimezone">SESSIONTIMEZONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#user-system-user">USER, SYSTEM_USER</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/information_fn.html#version">VERSION</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/encryption_fn.html">Encryption Function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/encryption_fn.html#md5">MD5</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/encryption_fn.html#sha1">SHA1</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/encryption_fn.html#sha2">SHA2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/condition_op.html">Comparison Expression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#simple-comparison-expression">Simple Comparison Expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#any-some-all-quantifiers">ANY/SOME/ALL quantifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#between">BETWEEN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#exists">EXISTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#in">IN</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#is-null">IS NULL</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#like">LIKE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_op.html#case">CASE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/condition_fn.html">Comparison Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#coalesce">COALESCE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#decode">DECODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#greatest">GREATEST</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#if">IF</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#ifnull-nvl">IFNULL, NVL</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#isnull">ISNULL</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#least">LEAST</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#nullif">NULLIF</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/condition_fn.html#nvl2">NVL2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="function/other_fn.html">Other functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="function/other_fn.html#sleep">SLEEP</a></li>
<li class="toctree-l4"><a class="reference internal" href="function/other_fn.html#sys-guid">SYS_GUID</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="query/index.html">Data Manipulation Statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="query/select.html">SELECT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#from-clause">FROM Clause</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#derived-table">Derived Table</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#subquery-derived-table">Subquery Derived Table</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#remote-table">Remote Table</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#dblink">DBLINK</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#where-clause">WHERE Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#group-by-having-clause">GROUP BY … HAVING Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#order-by-clause">ORDER BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#limit-clause">LIMIT Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#join-query">Join Query</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#inner-join">Inner Join</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#outer-join">Outer Join</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#cross-join">Cross Join</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#natural-join">Natural Join</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#subquery">Subquery</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#single-row-subquery">Single-Row Subquery</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/select.html#multiple-row-subquery">Multiple-Row Subquery</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#values">VALUES</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/select.html#for-update">FOR UPDATE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/hq.html">Hierarchical Query</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#start-with-clause">START WITH Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#connect-by-clause">CONNECT BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#hierarchical-query-execution">Hierarchical Query Execution</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#hierarchical-query-for-table-join">Hierarchical Query for Table Join</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#query-results">Query Results</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#ordering-data-with-the-hierarchical-query">Ordering Data with the Hierarchical Query</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#pseudo-columns-for-hierarchical-query">Pseudo Columns for Hierarchical Query</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#level">LEVEL</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#connect-by-isleaf">CONNECT_BY_ISLEAF</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#connect-by-iscycle">CONNECT_BY_ISCYCLE</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#operators-for-hierarchical-query">Operators for Hierarchical Query</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#connect-by-root">CONNECT_BY_ROOT</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#prior">PRIOR</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#functions-for-hierarchical-query">Functions for Hierarchical Query</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/hq.html#sys-connect-by-path">SYS_CONNECT_BY_PATH</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#examples-of-hierarchical-query">Examples of Hierarchical Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/hq.html#performance-of-hierarchical-query">Performance of Hierarchical Query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/insert.html">INSERT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/insert.html#insert-select-statement">INSERT … SELECT Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/insert.html#insert-into-remote-table-spec-select-statement">INSERT INTO &lt;remote-table-spec&gt;… SELECT statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/insert.html#on-duplicate-key-update-clause">ON DUPLICATE KEY UPDATE Clause</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/update.html">UPDATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="query/replace.html">REPLACE</a></li>
<li class="toctree-l3"><a class="reference internal" href="query/delete.html">DELETE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/delete.html#caution">Caution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/merge.html">MERGE</a></li>
<li class="toctree-l3"><a class="reference internal" href="query/truncate.html">TRUNCATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="query/prepare.html">PREPARED STATEMENT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/prepare.html#prepare-statement">PREPARE Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/prepare.html#execute-statement">EXECUTE Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/prepare.html#deallocate-prepare-drop-prepare-statements">DEALLOCATE PREPARE/DROP PREPARE Statements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/do.html">DO</a></li>
<li class="toctree-l3"><a class="reference internal" href="query/cte.html">CTE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/cte.html#cte-column-names">CTE column names</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/cte.html#recursive-clause">RECURSIVE clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/cte.html#cte-usage-in-dmls-and-create">CTE Usage in DMLs and CREATE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/call.html">CALL</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="tuning_index.html">Query Optimization</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Updating Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checking-statistics-information">Checking Statistics Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viewing-query-plan">Viewing Query Plan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-profiling">Query Profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-sql-hint">Using SQL Hint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#index-hint">Index Hint</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-index">USING INDEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#use-force-ignore-index">USE, FORCE, IGNORE INDEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples-of-index-hint">Examples of index hint</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#special-indexes">Special Indexes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#filtered-index">Filtered Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function-based-index">Function-based Index</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#optimization-using-indexes">Optimization Using Indexes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#covering-index">Covering Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimizing-order-by-clause">Optimizing ORDER BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-scan-in-descending-order">Index Scan in Descending Order</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimizing-group-by-clause">Optimizing GROUP BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multiple-key-ranges-optimization">Multiple Key Ranges Optimization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-skip-scan">Index Skip Scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loose-index-scan">Loose Index Scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#in-memory-sort">In Memory Sort</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sort-limit-optimization">SORT-LIMIT optimization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#optimization-using-rewrite">Optimization Using Rewrite</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#join-elimination-optimization">Join Elimination Optimization</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#eliminating-inner-join">Eliminating <strong>INNER JOIN</strong></a></li>
<li class="toctree-l5"><a class="reference internal" href="#eliminating-left-outer-join">Eliminating <strong>LEFT OUTER JOIN</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#view-merging-optimization">View Merging Optimization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#predicate-push">Predicate Push</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#query-cache">QUERY CACHE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subquery-cache-correlated">SUBQUERY CACHE (correlated)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="partition_index.html">Partitioning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="partition.html">Partitioning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="partition.html#partitioning-key">Partitioning key</a></li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#range-partitioning">Range Partitioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#hash-partitioning">Hash Partitioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#list-partitioning">List Partitioning</a><ul>
<li class="toctree-l5"><a class="reference internal" href="partition.html#comment-of-partition">COMMENT of Partition</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#partition-pruning">Partition Pruning</a></li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#partitioning-management">Partitioning Management</a><ul>
<li class="toctree-l5"><a class="reference internal" href="partition.html#modifying-a-partitioned-table-into-a-regular-table">Modifying a Partitioned Table into a Regular Table</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#partition-reorganization">Partition Reorganization</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#adding-partitions">Adding Partitions</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#dropping-partitions">Dropping Partitions</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#hash-partitioning-reorganization">Hash Partitioning Reorganization</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#partition-promotion">Partition Promotion</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#indexes-on-partitioned-tables">Indexes on Partitioned Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="partition.html#notes-on-partitioning">Notes on Partitioning</a><ul>
<li class="toctree-l5"><a class="reference internal" href="partition.html#statistics-on-partitioning-tables">Statistics on Partitioning Tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#restrictions-on-partitioned-tables">Restrictions on Partitioned Tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="partition.html#partitioning-key-and-charset-collation">Partitioning Key and Charset, Collation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="i18n_index.html">Globalization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="i18n.html">An Overview of Globalization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#character-data">Character data</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#related-terms">Related Terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#locale-attributes">Locale Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#collation-properties">Collation Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#collation-naming-rules">Collation Naming Rules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#cubrid-collation">CUBRID Collation</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#files-for-locale-setting">Files For Locale Setting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#locale-setting">Locale Setting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#step-1-selecting-a-locale">Step 1: Selecting a Locale</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#step-2-compiling-locale">Step 2: Compiling Locale</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#step-3-setting-cubrid-to-use-a-specific-locale">Step 3: Setting CUBRID to Use a Specific Locale</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#built-in-locale-and-library-locale">Built-in Locale and Library Locale</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#the-month-day-in-korean-and-turkish-characters-for-iso-8859-1-charset">The Month/Day in Korean and Turkish Characters for ISO-8859-1 Charset</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#step-4-creating-a-database-with-the-selected-locale-setting">Step 4: Creating a Database with the Selected Locale Setting</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#step-5-optional-manually-verifying-the-locale-file">Step 5 (optional): Manually Verifying the Locale File</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#step-6-starting-cubrid-related-processes">Step 6: Starting CUBRID-Related Processes</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#synchronization-of-database-collations-with-system-collations">Synchronization of Database Collations with System Collations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#collation">Collation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#charset-and-collation-of-column">Charset and Collation of Column</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#charset">Charset</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#string-check">String Check</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#charset-conversion">Charset Conversion</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#collation-setting">Collation</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#charset-and-collate-modifier">CHARSET and COLLATE modifier</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#how-to-determine-collation-among-columns-with-different-collation">How to Determine Collation among Columns with Different Collation</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#charset-and-collation-of-an-enum-type-column">Charset and Collation of an ENUM type column</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#charset-and-collation-of-tables">Charset and Collation of Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#charset-and-collation-of-string-literals">Charset and Collation of String Literals</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#set-names-statement">SET NAMES Statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#charset-introducer">Charset Introducer</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#charset-and-collation-of-expressions">Charset and Collation of Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#charset-and-collation-of-system-data">Charset and Collation of System Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#impact-of-charset-specified-when-creating-db">Impact of Charset Specified When Creating DB</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#casing-and-identifiers">Casing and identifiers</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#string-literal-input-and-output">String literal input and output</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#text-conversion-for-csql">Text Conversion for CSQL</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#unicode-normalization">Unicode Normalization</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#contraction-and-expansion-of-collation">Contraction and Expansion of Collation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#contraction">Contraction</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#expansion">Expansion</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#operations-requiring-collation-and-charset">Operations Requiring Collation and Charset</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#id14">Charset</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#id15">Collation</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#id16">Charset conversion</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#collation-settings-impacting-cubrid-features">Collation settings impacting CUBRID features</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#like-conditional-optimization">LIKE Conditional Optimization</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#index-covering">Index Covering</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#summary-of-cubrid-features-for-each-collation">Summary of CUBRID Features for Each Collation</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#viewing-collation-information">Viewing Collation Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#using-i18n-characters-with-jdbc">Using i18n characters with JDBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#timezone-setting">Timezone Setting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#compiling-timezone-library">Compiling Timezone Library</a><ul>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#windows">Windows</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#linux">Linux</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#timezone-library-and-database-compatibility">Timezone library and database compatibility</a></li>
<li class="toctree-l5"><a class="reference internal" href="i18n.html#usage-of-timezone-data-types-with-jdbc">Usage of timezone data types with JDBC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#configuration-guide-for-characters">Configuration Guide for Characters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#locale">Locale</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#char-and-varchar">CHAR and VARCHAR</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#choosing-charset">Choosing Charset</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#choosing-collation">Choosing Collation</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#normalization">Normalization</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#cast-vs-collate">CAST vs COLLATE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#remark">Remark</a></li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html#guide-for-adding-locales-and-collations">Guide for Adding Locales and Collations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#ldml-calendar-information">LDML Calendar Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#ldml-numbers-information">LDML Numbers information</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#ldml-alphabet">LDML Alphabet</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#ldml-console-conversion">LDML Console Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="i18n.html#ldml-collation">LDML Collation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="transaction_index.html">Transaction and Lock</a><ul>
<li class="toctree-l3"><a class="reference internal" href="transaction.html">Database Transaction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#transaction-commit">Transaction Commit</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#transaction-rollback">Transaction Rollback</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#savepoint-and-partial-rollback">Savepoint and Partial Rollback</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="transaction.html#cursor-holdability">Cursor Holdability</a></li>
<li class="toctree-l3"><a class="reference internal" href="transaction.html#database-concurrency">Database Concurrency</a></li>
<li class="toctree-l3"><a class="reference internal" href="transaction.html#multiversion-concurrency-control">Multiversion Concurrency Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#versioning-visibility-and-snapshot">Versioning, visibility and snapshot</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#vacuum">VACUUM</a><ul>
<li class="toctree-l5"><a class="reference internal" href="transaction.html#vacuum-parallel-execution">VACUUM Parallel Execution</a></li>
<li class="toctree-l5"><a class="reference internal" href="transaction.html#vacuum-data">VACUUM Data</a></li>
<li class="toctree-l5"><a class="reference internal" href="transaction.html#vacuum-jobs">VACUUM jobs</a></li>
<li class="toctree-l5"><a class="reference internal" href="transaction.html#tracking-dropped-files">Tracking dropped files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="transaction.html#lock-protocol">Lock Protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#granularity-locking">Granularity Locking</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#lock-mode-types-and-compatibility">Lock Mode Types And Compatibility</a><ul>
<li class="toctree-l5"><a class="reference internal" href="transaction.html#examples-using-locks">Examples using locks</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#locking-to-protect-unique-constraint">Locking to protect unique constraint</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#transaction-deadlock">Transaction Deadlock</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#transaction-lock-timeout">Transaction Lock Timeout</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="transaction.html#transaction-isolation-level">Transaction Isolation Level</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#set-transaction-isolation-level">SET TRANSACTION ISOLATION LEVEL</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#get-transaction-isolation-level">GET TRANSACTION ISOLATION LEVEL</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#read-committed-isolation-level">READ COMMITTED Isolation Level</a><ul>
<li class="toctree-l5"><a class="reference internal" href="transaction.html#read-committed-update-re-evaluation">READ COMMITTED UPDATE RE-EVALUATION</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#repeatable-read-isolation-level">REPEATABLE READ Isolation Level</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#serializable-isolation-level">SERIALIZABLE Isolation Level</a></li>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#how-to-handle-dirty-record">How to Handle Dirty Record</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="transaction.html#transaction-termination-and-restoration">Transaction Termination and Restoration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="transaction.html#restarting-database">Restarting Database</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="trigger.html">Trigger</a><ul>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#create-trigger">CREATE TRIGGER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#guidelines-for-trigger-definition">Guidelines for Trigger Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-definition">Trigger Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#event-time">Event Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-type">Trigger Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-event-type">Trigger Event Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-event-target">Trigger Event Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#combination-of-event-type-and-target">Combination of Event Type and Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-condition">Trigger Condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#correlation-name">Correlation Name</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-action">Trigger Action</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#trigger-s-comment">Trigger’s COMMENT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#alter-trigger">ALTER TRIGGER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#id7">Trigger’s COMMENT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#drop-trigger">DROP TRIGGER</a></li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#rename-trigger">RENAME TRIGGER</a></li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#deferred-condition-and-action">Deferred Condition and Action</a><ul>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#executing-deferred-condition-and-action">Executing Deferred Condition and Action</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#dropping-deferred-condition-and-action">Dropping Deferred Condition and Action</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#granting-trigger-authorization">Granting Trigger Authorization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#trigger-on-replace-and-insert-on-duplicate-key-update">Trigger on REPLACE and INSERT … ON DUPLICATE KEY UPDATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#trigger-debugging">Trigger Debugging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#viewing-trigger-execution-log">Viewing Trigger Execution Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="trigger.html#limiting-nested-trigger">Limiting Nested Trigger</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="trigger.html#trigger-example">Trigger Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jsp.html">Java Stored Function/Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#introduction-to-java-stored-function-procedure">Introduction to Java Stored Function/Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#check-the-cubrid-conf-file">Check the cubrid.conf file</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#start-java-sp-server">Start Java SP Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#how-to-write-and-load-java-stored-function-procedure">How to Write and Load Java Stored Function/Procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#write-the-java-source-code">Write the Java source code</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#compile-the-java-source-code">Compile the Java source code</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#load-the-compiled-java-class-into-cubrid">Load the compiled Java class into CUBRID</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#publish-the-loaded-java-class">Publish the loaded Java class</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#call-the-java-stored-function-procedure">Call the Java stored function/procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#using-call-statement">Using CALL Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#calling-from-sql-statement">Calling from SQL Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#calling-from-java-application">Calling from Java Application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#using-server-side-internal-jdbc-driver">Using Server-side Internal JDBC Driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#creating-connection">Creating Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#executing-sql-statements">Executing SQL Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#the-example-of-executing-statements">The example of executing statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#out-parameters-of-primitive-types">OUT Parameters of Primitive Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#out-parameters-of-set-types">OUT Parameters of Set Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#out-parameters-of-cubrid-oid-type">OUT Parameters of CUBRID OID type</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#returning-java-sql-resultset-in-java-stored-procedure">Returning java.sql.ResultSet in Java Stored Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#getting-information-about-connection-client">Getting information about connection client</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#connecting-to-other-databases">Connecting to Other Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#java-native-interface-jni-support">Java Native Interface (JNI) Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#loadjava-utility">loadjava Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#caution">Caution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#limitations-on-the-precision-of-in-out-parameters-and-a-return-value">Limitations on the precision of IN/OUT parameters and a return value</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="jsp.html#appendix">Appendix</a><ul>
<li class="toctree-l4"><a class="reference internal" href="jsp.html#table-of-supproting-jdbc-api">Table of Supproting JDBC API</a><ul>
<li class="toctree-l5"><a class="reference internal" href="jsp.html#java-sql-connection">java.sql.Connection</a></li>
<li class="toctree-l5"><a class="reference internal" href="jsp.html#java-sql-statement">java.sql.Statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="jsp.html#java-sql-preparedstatement">java.sql.PreparedStatement</a></li>
<li class="toctree-l5"><a class="reference internal" href="jsp.html#java-sql-callablestatement">java.sql.CallableStatement</a></li>
<li class="toctree-l5"><a class="reference internal" href="jsp.html#java-sql-resultset">java.sql.ResultSet</a></li>
<li class="toctree-l5"><a class="reference internal" href="jsp.html#java-sql-resultsetmetadata">java.sql.ResultSetMetaData</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dblink.html">CUBRID DBLink</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#introduction-to-cubrid-dblink">Introduction to CUBRID DBLink</a></li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#cubrid-dblink-diagram">CUBRID DBLink diagram</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#homogeneous-dblink-diagram">Homogeneous DBLink diagram</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#heterogeneous-dblink-diagram">Heterogeneous DBLink diagram</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#gateway">GATEWAY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#cub-cas-cgw">cub_cas_cgw</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#cub-gateway">cub_gateway</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#shared-memory">Shared memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#start-gateway">Start GATEWAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#restarting-gateway">Restarting GATEWAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#checking-gateway-status">Checking GATEWAY Status</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#starting-the-gateway-together-when-the-cubrid-service-starts">Starting the GATEWAY together when the CUBRID service starts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#cubrid-dblink-settings">CUBRID DBLINK settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#heterogeneous-dblink-setting">Heterogeneous DBLink Setting</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#gateway-configuration-file">Gateway configuration file</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#gateway-parameter">GATEWAY Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#install-unixodbc">Install unixODBC</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#odbc-driver-information-setting">ODBC Driver information setting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#oracle-setting-for-dblink">Oracle Setting for DBLink</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#oracle-environment-configuration">Oracle Environment Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#mysql-configuration-for-dblink">MySQL Configuration for DBLink</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#mysql-environment-configuration">MySQL Environment Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#mariadb-configuration-for-dblink">MariaDB Configuration for DBLink</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#mariadb-environment-configuration">MariaDB Environment Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#how-to-use-cubrid-dblink">How to use Cubrid DBLink</a></li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#notice">Notice</a></li>
<li class="toctree-l3"><a class="reference internal" href="dblink.html#constraints">Constraints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#common-constraints">Common Constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="dblink.html#cubrid-constraints">CUBRID Constraints</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="method.html">Method</a><ul>
<li class="toctree-l3"><a class="reference internal" href="method.html#method-type">Method Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="method.html#call-statement">CALL Statement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="oodb.html">Class Inheritance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="oodb.html#class-attribute-and-method">Class Attribute and Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="oodb.html#order-rule-for-inheritance">Order Rule for Inheritance</a></li>
<li class="toctree-l3"><a class="reference internal" href="oodb.html#inherit-clause">INHERIT Clause</a></li>
<li class="toctree-l3"><a class="reference internal" href="oodb.html#add-superclass-clause">ADD SUPERCLASS Clause</a></li>
<li class="toctree-l3"><a class="reference internal" href="oodb.html#drop-superclass-clause">DROP SUPERCLASS Clause</a></li>
<li class="toctree-l3"><a class="reference internal" href="oodb.html#class-conflict-resolution">Class Conflict Resolution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="oodb.html#resolution-specifier">Resolution Specifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="oodb.html#superclass-conflict">Superclass Conflict</a><ul>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#adding-a-super-class">Adding a super class</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#deleting-a-super-class">Deleting a super class</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#compatible-domains">Compatible Domains</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="oodb.html#sub-class-conflict">Sub class Conflict</a><ul>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#adding-attributes-and-methods">Adding Attributes and Methods</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#dropping-attributes-and-methods">Dropping Attributes and Methods</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="oodb.html#schema-invariant">Schema Invariant</a><ul>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#invariant-of-class-hierarchy">Invariant of class hierarchy</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#invariant-of-name">Invariant of name</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#invariant-of-inheritance">Invariant of inheritance</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#invariant-of-consistency">Invariant of consistency</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="oodb.html#rule-for-schema-changes">Rule for Schema Changes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#conflict-resolution-rules">Conflict-Resolution Rules</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#domain-change-rules">Domain-Change Rules</a></li>
<li class="toctree-l5"><a class="reference internal" href="oodb.html#class-hierarchy-rules">Class-Hierarchy Rules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="db_admin.html">Database Administration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="authorization.html">User Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#database-user">Database User</a></li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#create-user">CREATE USER</a><ul>
<li class="toctree-l5"><a class="reference internal" href="authorization.html#user-s-comment">User’s COMMENT</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#alter-user">ALTER USER</a><ul>
<li class="toctree-l5"><a class="reference internal" href="authorization.html#user-s-comment-change">User’s COMMENT Change</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#drop-user">DROP USER</a></li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#grant">GRANT</a></li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#revoke">REVOKE</a></li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#alter-owner">ALTER … OWNER</a></li>
<li class="toctree-l4"><a class="reference internal" href="authorization.html#user-authorization-management-method">User Authorization Management METHOD</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/set.html">SET</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/set.html#system-parameter">System Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/set.html#user-variables">User Variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="query/kill.html">KILL</a></li>
<li class="toctree-l3"><a class="reference internal" href="query/show.html">SHOW</a><ul>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#desc-describe">DESC, DESCRIBE</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#explain">EXPLAIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-tables">SHOW TABLES</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-columns">SHOW COLUMNS</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-index">SHOW INDEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-collation">SHOW COLLATION</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-timezones">SHOW TIMEZONES</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-grants">SHOW GRANTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-create-table">SHOW CREATE TABLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-create-view">SHOW CREATE VIEW</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-access-status">SHOW ACCESS STATUS</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#show-exec-statistics">SHOW EXEC STATISTICS</a></li>
<li class="toctree-l4"><a class="reference internal" href="query/show.html#diagnostics">Diagnostics</a><ul>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-volume-header">SHOW VOLUME HEADER</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-log-header">SHOW LOG HEADER</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-archive-log-header">SHOW ARCHIVE LOG HEADER</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-heap-header">SHOW HEAP HEADER</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-heap-capacity">SHOW HEAP CAPACITY</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-slotted-page-header">SHOW SLOTTED PAGE HEADER</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-slotted-page-slots">SHOW SLOTTED PAGE SLOTS</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-index-header">SHOW INDEX HEADER</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-index-capacity">SHOW INDEX CAPACITY</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-critical-sections">SHOW CRITICAL SECTIONS</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-transaction-tables">SHOW TRANSACTION TABLES</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-threads">SHOW THREADS</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-job-queues">SHOW JOB QUEUES</a></li>
<li class="toctree-l5"><a class="reference internal" href="query/show.html#show-page-buffer-status">SHOW PAGE BUFFER STATUS</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_schema.html">User Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="catalog.html">System Catalog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="catalog.html#system-catalog-classes">System Catalog Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-class">_db_class</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-attribute">_db_attribute</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-domain">_db_domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-charset">_db_charset</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-collation">_db_collation</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-method">_db_method</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-meth-sig">_db_meth_sig</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-meth-arg">_db_meth_arg</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-meth-file">_db_meth_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-query-spec">_db_query_spec</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-index">_db_index</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-index-key">_db_index_key</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-auth">_db_auth</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-data-type">_db_data_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-partition">_db_partition</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-stored-procedure">_db_stored_procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-stored-procedure-args">_db_stored_procedure_args</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-server">_db_server</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-synonym">_db_synonym</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-user">db_user</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-authorization">db_authorization</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-serial">db_serial</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-trigger">db_trigger</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-ha-apply-info">db_ha_apply_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#dual">dual</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="catalog.html#system-catalog-virtual-class">System Catalog Virtual Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id26">DB_CLASS</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-direct-super-class">DB_DIRECT_SUPER_CLASS</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-vclass">DB_VCLASS</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id30">DB_ATTRIBUTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-attr-setdomain-elm">DB_ATTR_SETDOMAIN_ELM</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id33">DB_CHARSET</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id35">DB_COLLATION</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id37">DB_METHOD</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id39">DB_METH_ARG</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-meth-arg-setdomain-elm">DB_METH_ARG_SETDOMAIN_ELM</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id42">DB_METH_FILE</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id44">DB_INDEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id46">DB_INDEX_KEY</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id48">DB_AUTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#db-trig">DB_TRIG</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id51">DB_PARTITION</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id53">DB_STORED_PROCEDURE</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id55">DB_STORED_PROCEDURE_ARGS</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id57">DB_SERVER</a></li>
<li class="toctree-l4"><a class="reference internal" href="catalog.html#id59">DB_SYNONYM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="catalog.html#catalog-class-virtual-class-authorization">Catalog Class/Virtual Class Authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="catalog.html#querying-on-catalog">Querying on Catalog</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">CUBRID Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html">Controlling CUBRID Processes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-cubrid-service">Controlling CUBRID Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-database-server">Controlling Database Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-broker">Controlling Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-gateway">Controlling Gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-cubrid-manager-server">Controlling CUBRID Manager Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-cubrid-ha">Controlling CUBRID HA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#controlling-cubrid-java-stored-procedure-server">Controlling CUBRID Java Stored Procedure Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html#cubrid-services">CUBRID Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#registering-services">Registering Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-services">Starting Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#stopping-services">Stopping Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#restarting-services">Restarting Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#managing-service-status">Managing Service Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#cubrid-utility-logging">cubrid Utility Logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html#database-server">Database Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-database-server">Starting Database Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#stopping-database-server">Stopping Database Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#restarting-database-server">Restarting Database Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#checking-database-server-status">Checking Database Server Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#limiting-database-server-access">Limiting Database Server Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#database-server-log">Database Server Log</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#error-log">Error Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#event-log">Event Log</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#database-server-errors">Database Server Errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html#broker">Broker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-broker">Starting Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#stopping-broker">Stopping Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#restarting-broker">Restarting Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#checking-broker-status">Checking Broker Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#limiting-broker-access">Limiting Broker Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#packet-encryption">Packet Encryption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#managing-a-specific-broker">Managing a Specific Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#dynamically-changing-broker-parameters">Dynamically Changing Broker Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#broker-configuration-information">Broker configuration information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#check-cubrid-shard-id">Check CUBRID SHARD ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#broker-to-db-connection-test">Broker to DB Connection Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#broker-logs">Broker Logs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#checking-the-access-log">Checking the Access Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#checking-the-error-log">Checking the Error Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#managing-the-sql-log">Managing the SQL Log</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/control.html#broker-log-top">broker_log_top</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/control.html#cubrid-replay">cubrid_replay</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#cas-error">CAS Error</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html#gateway">Gateway</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-gateway">Starting Gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#stopping-gateway">Stopping Gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#restarting-gateway">Restarting Gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#checking-gateway-status">Checking Gateway Status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html#cubrid-manager-server">CUBRID Manager Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-the-cubrid-manager-server">Starting the CUBRID Manager Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#stopping-the-cubrid-manager-server">Stopping the CUBRID Manager Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#cubrid-manager-server-log">CUBRID Manager Server Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#configuring-cubrid-manager-server">Configuring CUBRID Manager Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#cubrid-manager-user-management-console">CUBRID Manager User Management Console</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/control.html#cubrid-java-stored-procedure-server">CUBRID Java Stored Procedure Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-cubrid-java-sp-server">Starting CUBRID Java SP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#stopping-cubrid-java-sp-server">Stopping CUBRID Java SP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#restarting-cubrid-java-sp-server">Restarting CUBRID Java SP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#checking-cubrid-java-sp-server-status">Checking CUBRID Java SP Server Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#starting-the-cubrid-java-sp-server-together-when-the-database-server-starts">Starting the CUBRID Java SP Server together when the database server starts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#configuring-for-cubrid-java-sp-server">Configuring for CUBRID Java SP Server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#environment-configuration-for-java-stored-function-procedure">Environment Configuration for Java Stored Function/Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#java-sp-server-system-parameters">Java SP Server System Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#cubrid-java-sp-server-log">CUBRID Java SP Server Log</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#id12">Error Log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/control.html#java-log">Java Log</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/control.html#cubrid-java-sp-server-errors">CUBRID Java SP Server Errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/db_manage.html">Database Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/db_manage.html#database-users">Database Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/db_manage.html#databases-txt-file">databases.txt File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/db_manage.html#database-volume">Database Volume</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/admin_utils.html">cubrid Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#cubrid-utility-logging">cubrid Utility Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#createdb">createdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#addvoldb">addvoldb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#deletedb">deletedb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#renamedb">renamedb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#alterdbhost">alterdbhost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#copydb">copydb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#installdb">installdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#backupdb">backupdb</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#backup-strategy-and-method">Backup Strategy and Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#managing-backup-files">Managing Backup Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#managing-archive-logs">Managing Archive Logs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#restoredb">restoredb</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#restoring-strategy-and-procedure">Restoring Strategy and Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#restoring-database-to-different-server">Restoring Database to Different Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#unloaddb">unloaddb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#loaddb">loaddb</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#how-to-write-files-to-load-database">How to Write Files to Load Database</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/admin_utils.html#comment">Comment</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/admin_utils.html#command-line">Command Line</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/admin_utils.html#data-line">Data Line</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#migrating-database">Migrating Database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#spacedb">spacedb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#compactdb">compactdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#optimizedb">optimizedb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#plandump">plandump</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#statdump">statdump</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#lockdb">lockdb</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/admin_utils.html#output-contents">Output Contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#tranlist">tranlist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#killtran">killtran</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#checkdb">checkdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#diagdb">diagdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#paramdump">paramdump</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#tde">tde</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#vacuumdb">vacuumdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#flashback">flashback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#ha-commands">HA Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#locale-commands">Locale Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/admin_utils.html#timezone-commands">Timezone Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/config.html">System Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/config.html#configuring-the-database-server">Configuring the Database Server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#scope-of-database-server-configuration">Scope of Database Server Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#changing-database-server-configuration">Changing Database Server Configuration</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#editing-the-configuration-file">Editing the Configuration File</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#using-sql-statements">Using SQL Statements</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#using-session-commands-of-the-csql-interpreter">Using Session Commands of the CSQL Interpreter</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#cubrid-conf-configuration-file-and-default-parameters">cubrid.conf Configuration File and Default Parameters</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#database-server-system-parameters">Database Server System Parameters</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#section-by-parameter">Section by Parameter</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#default-parameters">Default Parameters</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#connection-related-parameters">Connection-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#memory-related-parameters">Memory-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#disk-related-parameters">Disk-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#error-message-related-parameters">Error Message-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#concurrency-lock-related-parameters">Concurrency/Lock-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#logging-related-parameters">Logging-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#transaction-processing-related-parameters">Transaction Processing-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#statement-type-related-parameters">Statement/Type-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#thread-related-parameters">Thread-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#timezone-parameter">Timezone Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#query-plan-cache-related-parameters">Query Plan Cache-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#query-cache-related-parameters">Query Cache-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#utility-related-parameters">Utility-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#ha-related-parameters">HA-Related Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#other-parameters">Other Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/config.html#broker-configuration">Broker Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#cubrid-broker-conf-configuration-file-and-default-parameters">cubrid_broker.conf Configuration File and Default Parameters</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#broker-system-parameters">Broker System Parameters</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#id3">Default Parameters</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#broker-configuration-file-related-environment-variables">Broker Configuration File Related Environment Variables</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#common-parameters">Common Parameters</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#access">Access</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#logging">Logging</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#broker-server-cub-broker">Broker Server(cub_broker)</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config.html#parameter-by-broker">Parameter by Broker</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#id5">Access</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#broker-app-server-cas">Broker App. Server(CAS)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#transaction-query">Transaction &amp; Query</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#id6">Logging</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#shard">SHARD</a></li>
<li class="toctree-l5"><a class="reference internal" href="../admin/config.html#etc">Etc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/config.html#ha-configuration">HA Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/config.html#shard-configuration">SHARD Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/systemtap.html">SystemTap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/systemtap.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/systemtap.html#installing-systemtap">Installing SystemTap</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#checking-installation">Checking Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#version">Version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/systemtap.html#related-terms">Related Terms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#marker">Marker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#probe">Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#asynchronous-events">Asynchronous Events</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/systemtap.html#using-systemtap-in-cubrid">Using SystemTap in CUBRID</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#building-cubrid-source">Building CUBRID source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#running-systemtap-script">Running SystemTap script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#printing-results">Printing Results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/systemtap.html#cubrid-markers">CUBRID markers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#connection-markers">Connection markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#query-markers">Query markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#object-operation-markers">Object operation markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#index-operation-markers">Index operation markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#locking-markers">Locking markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#transaction-markers">Transaction markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#i-o-markers">I/O markers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/systemtap.html#other-markers">Other markers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/scripts.html">cubrid scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/scripts.html#unloaddb-sh-script">unloaddb.sh script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/troubleshoot.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/troubleshoot.html#checking-sql-log">Checking SQL Log</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#sql-log-of-cas">SQL log of CAS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#function-getting-cas-information">Function getting CAS information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#application-log">Application log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#slow-query">Slow query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/troubleshoot.html#server-error-log">Server Error Log</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#detecting-overflow-keys-or-overflow-pages">Detecting Overflow Keys or Overflow Pages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#detecting-log-recovery-time">Detecting log recovery time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#detecting-a-deadlock">Detecting a Deadlock</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/troubleshoot.html#detecting-the-change-of-ha-status">Detecting the change of HA status</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#detecting-ha-split-brain">Detecting HA split-brain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#detecting-fail-over-fail-back">Detecting Fail-over, Fail-back</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/troubleshoot.html#failure-on-ha-start">Failure on HA Start</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#typical-unrestorable-failure">Typical Unrestorable Failure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/troubleshoot.html#how-to-fix-when-a-failure-on-ha-start">How to fix when a Failure on HA start</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/ddl_audit.html">DDL Audit Log</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/ddl_audit.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/ddl_audit.html#ddl-audit-log-file-name-convention">DDL Audit Log file name convention</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/ddl_audit.html#ddl-audit-logfile-format-of-cas">DDL Audit Logfile format of CAS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/ddl_audit.html#ddl-audit-logfile-format-of-csql">DDL Audit Logfile format of CSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/ddl_audit.html#ddl-audit-log-format-of-loaddb">DDL Audit Log format of LOADDB</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ha.html">CUBRID HA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#cubrid-ha-concept">CUBRID HA Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#nodes-and-groups">Nodes and Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#processes">Processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#servers">Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#heartbeat-message">heartbeat Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#failover-and-failback">failover and failback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#broker-mode">Broker Mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#cubrid-ha-features">CUBRID HA Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#duplexing-servers">Duplexing Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#duplexing-brokers">Duplexing Brokers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#log-multiplexing">Log Multiplexing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#preparation">Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#creating-databases-and-configuring-servers">Creating Databases and Configuring Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#starting-and-verifying-cubrid-ha">Starting and Verifying CUBRID HA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#configuring-and-starting-broker-and-verifying-the-broker-status">Configuring and Starting Broker, and Verifying the Broker Status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#environment-configuration">Environment Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#cubrid-conf">cubrid.conf</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#ha-or-not">HA or Not</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#logging">Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#access">Access</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#cubrid-ha-conf">cubrid_ha.conf</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#node">Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#id5">Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#replication">Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#sql-logging">SQL Logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#cubrid-broker-conf">cubrid_broker.conf</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#access-target">Access Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#access-order">Access Order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#access-limitation">Access Limitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#reconnection">Reconnection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#databases-txt">databases.txt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#jdbc-configuration">JDBC Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#cci-configuration">CCI Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#php-configuration">PHP Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#connecting-a-broker-to-db">Connecting a Broker to DB</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#connection-process">Connection Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#examples-on-behaviours-by-configuration">Examples on Behaviours by Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#running-and-monitoring">Running and Monitoring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#cubrid-heartbeat-utility">cubrid heartbeat Utility</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#start">start</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#stop">stop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#copylogdb">copylogdb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#applylogdb">applylogdb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#reload">reload</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#replication-or-repl-start">replication(or repl) start</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#replication-or-repl-stop">replication(or repl) stop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#status">status</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#registering-ha-to-cubrid-service">Registering HA to cubrid service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#applyinfo">applyinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#cubrid-changemode">cubrid changemode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#monitoring-cubrid-manager-ha">Monitoring CUBRID Manager HA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#structures-of-ha">Structures of HA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#basic-structure-of-ha">Basic Structure of HA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#multiple-slave-node-structure">Multiple-Slave Node Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#load-balancing-structure">Load Balancing Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#multiple-standby-server-structure">Multiple-Standby Server Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#ha-constraints">HA Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#operational-scenarios">Operational Scenarios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#operation-scenario-during-read-write-service">Operation Scenario during Read/Write Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#operation-scenario-during-read-service">Operation Scenario during Read Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#operation-scenario-after-stopping-a-service">Operation Scenario after Stopping a Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#setting-replica-replication-delay">Setting Replica Replication Delay</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#building-replication">Building Replication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#restoreslave">restoreslave</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#example-scenarios-of-building-replication">Example Scenarios of Building Replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#add-a-slave-after-stopping-a-service">Add a Slave after Stopping a Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#build-another-slave-during-ha-service">Build Another Slave during HA Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#remove-a-slave-during-service">Remove a Slave during Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#add-a-replica-during-service">Add a Replica during Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#rebuild-a-slave-during-service">Rebuild a Slave during Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#detection-of-replication-mismatch">Detection of Replication Mismatch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#how-to-detect-replication-mismatch">How to Detect Replication Mismatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#checksumdb">checksumdb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#ha-error-messages">HA Error Messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#cas-process-cub-cas">CAS process(cub_cas)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#replication-log-copy-process-copylogdb">Replication Log Copy Process(copylogdb)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ha.html#replication-log-reflection-process-applylogdb">Replication Log Reflection Process(applylogdb)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ha.html#rebuilding-replication-script">Rebuilding Replication Script</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ha.html#ha-make-slavedb-sh-script">ha_make_slavedb.sh Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">CUBRID Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../security.html#packet-encryption">Packet Encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security.html#requirements-of-secure-communication">Requirements of secure communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#packet-encryption-method">Packet encryption method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#server-setup-for-packet-encryption">Server setup for packet encryption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#supported-driver">Supported driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../security.html#acl-access-control-list">ACL (Access Control List)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security.html#authorization">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security.html#tde-transparent-data-encryption">TDE (Transparent Data Encryption)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security.html#cubrid-tde-concept">CUBRID TDE Concept</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#key-management">Key Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../security.html#level-key-management">2-Level Key Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#file-based-master-key-management">File-based Master Key Management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#encryption-target">Encryption Target</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../security.html#permanent-data-encryption">Permanent Data Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#temporary-data-encryption">Temporary Data Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#log-data-encryption">Log Data Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#dwb-encryption">DWB Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#backup-encryption">Backup Encryption</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#encryption-algorithm">Encryption Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#table-encryption-checking">Table Encryption Checking</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../security.html#show-create-table">SHOW CREATE TABLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#inquiry-to-db-class">Inquiry to db_class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../security.html#using-cubrid-diagdb-utility">Using cubrid diagdb utility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#tde-on-ha">TDE on HA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#when-tde-is-unavailable">When TDE is unavailable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security.html#tde-restriction">TDE Restriction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../shard.html">CUBRID SHARD</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#database-sharding">Database Sharding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#cubrid-shard-terminologies">CUBRID SHARD Terminologies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#cubrid-shard-main-features">CUBRID SHARD Main Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#middleware-structure">Middleware Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#selecting-a-shard-db-through-the-shard-sql-hint">Selecting a Shard DB through the Shard SQL Hint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#transaction-support">Transaction Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#configuration-example">Configuration Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#changing-the-shard-configurations">Changing the shard Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#starting-service-and-monitoring">Starting Service and Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#writing-a-sample">Writing a Sample</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#architecture-and-configuration">Architecture and Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../shard.html#cubrid-broker-conf">cubrid_broker.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../shard.html#shard-connection-file-shard-connection-file">Shard Connection File(SHARD_CONNECTION_FILE)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../shard.html#shard-key-file-shard-key-file">Shard key file(SHARD_KEY_FILE)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../shard.html#setting-user-defined-hash-function">Setting User-Defined Hash Function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#running-and-monitoring">Running and Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#configuration-test">Configuration Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#cubrid-shard-log">CUBRID SHARD Log</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#shard-proxy-log">SHARD PROXY Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shard.html#shard-cas-log">SHARD CAS Log</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shard.html#constraints">Constraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/jdbc.html">JDBC Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/jdbc.html#jdbc-overview">JDBC Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/jdbc.html#installing-and-configuring-jdbc">Installing and Configuring JDBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/jdbc.html#jdbc-programming">JDBC Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#configuration-connection">Configuration Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#connecting-with-datasource">Connecting with DataSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#checking-sql-log">Checking SQL LOG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#checking-foreign-key-information">Checking Foreign Key Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#using-object-identifiers-oids-and-collections">Using Object Identifiers (OIDs) and Collections</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../api/jdbc.html#using-oids">Using OIDs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../api/jdbc.html#using-collections">Using Collections</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#getting-auto-increment-column-value">Getting Auto Increment Column Value</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#using-blob-clob">Using BLOB/CLOB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#setboolean">setBoolean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/jdbc.html#jdbc-error-codes-and-error-messages">JDBC Error Codes and Error Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/jdbc.html#jdbc-sample-program">JDBC Sample Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/jdbc.html#jdbc-api">JDBC API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/cci_index.html">CCI Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/cci.html">CCI Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/cci.html#cci-programming">CCI Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cci.html#writing-cci-applications">Writing CCI Applications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cci.html#configuring-library">Configuring Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cci.html#using-blob-clob">Using BLOB/CLOB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cci.html#cci-error-codes-and-error-messages">CCI Error Codes and Error Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/cci.html#cci-sample-program">CCI Sample Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/cciapi.html">CCI API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-bind-param">cci_bind_param</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-bind-param-array">cci_bind_param_array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-bind-param-array-size">cci_bind_param_array_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-bind-param-ex">cci_bind_param_ex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-blob-free">cci_blob_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-blob-new">cci_blob_new</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-blob-read">cci_blob_read</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-blob-size">cci_blob_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-blob-write">cci_blob_write</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-cancel">cci_cancel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-clob-free">cci_clob_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-clob-new">cci_clob_new</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-clob-read">cci_clob_read</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-clob-size">cci_clob_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-clob-write">cci_clob_write</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-close-query-result">cci_close_query_result</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-close-req-handle">cci_close_req_handle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-get">cci_col_get</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-seq-drop">cci_col_seq_drop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-seq-insert">cci_col_seq_insert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-seq-put">cci_col_seq_put</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-set-add">cci_col_set_add</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-set-drop">cci_col_set_drop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-col-size">cci_col_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-connect">cci_connect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-connect-ex">cci_connect_ex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-connect-with-url">cci_connect_with_url</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-connect-with-url-ex">cci_connect_with_url_ex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-cursor-update">cci_cursor_update</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-datasource-borrow">cci_datasource_borrow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-datasource-change-property">cci_datasource_change_property</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-datasource-create">cci_datasource_create</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-datasource-destroy">cci_datasource_destroy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-datasource-release">cci_datasource_release</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-disconnect">cci_disconnect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-end-tran">cci_end_tran</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-escape-string">cci_escape_string</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-execute">cci_execute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-execute-array">cci_execute_array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-execute-batch">cci_execute_batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-execute-result">cci_execute_result</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-fetch">cci_fetch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-fetch-buffer-clear">cci_fetch_buffer_clear</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-fetch-sensitive">cci_fetch_sensitive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-fetch-size">cci_fetch_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-autocommit">cci_get_autocommit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-bind-num">cci_get_bind_num</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-cas-info">cci_get_cas_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-class-num-objs">cci_get_class_num_objs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-collection-domain">CCI_GET_COLLECTION_DOMAIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-cur-oid">cci_get_cur_oid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-data">cci_get_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-db-parameter">cci_get_db_parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-db-version">cci_get_db_version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-err-msg">cci_get_err_msg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-error-msg">cci_get_error_msg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-holdability">cci_get_holdability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-last-insert-id">cci_get_last_insert_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-login-timeout">cci_get_login_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-query-plan">cci_get_query_plan</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-query-info-free">cci_query_info_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-query-timeout">cci_get_query_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info">cci_get_result_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-attr-name">CCI_GET_RESULT_INFO_ATTR_NAME</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-class-name">CCI_GET_RESULT_INFO_CLASS_NAME</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-is-non-null">CCI_GET_RESULT_INFO_IS_NON_NULL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-name">CCI_GET_RESULT_INFO_NAME</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-precision">CCI_GET_RESULT_INFO_PRECISION</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-scale">CCI_GET_RESULT_INFO_SCALE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-result-info-type">CCI_GET_RESULT_INFO_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-is-set-type">CCI_IS_SET_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-is-multiset-type">CCI_IS_MULTISET_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-is-sequence-type">CCI_IS_SEQUENCE_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-is-collection-type">CCI_IS_COLLECTION_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-get-version">cci_get_version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-init">cci_init</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-is-holdable">cci_is_holdable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-is-updatable">cci_is_updatable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-next-result">cci_next_result</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-oid">cci_oid</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-oid-get">cci_oid_get</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-oid-get-class-name">cci_oid_get_class_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-oid-put">cci_oid_put</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-oid-put2">cci_oid_put2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-prepare">cci_prepare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-prepare-and-execute">cci_prepare_and_execute</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-property-create">cci_property_create</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-property-destroy">cci_property_destroy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-property-get">cci_property_get</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-property-set">cci_property_set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-query-result-free">cci_query_result_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-query-result-err-no">CCI_QUERY_RESULT_ERR_NO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-query-result-err-msg">CCI_QUERY_RESULT_ERR_MSG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-query-result-result">CCI_QUERY_RESULT_RESULT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-query-result-stmt-type">CCI_QUERY_RESULT_STMT_TYPE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-register-out-param">cci_register_out_param</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-row-count">cci_row_count</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-savepoint">cci_savepoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-schema-info">cci_schema_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-allocators">cci_set_allocators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-autocommit">cci_set_autocommit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-db-parameter">cci_set_db_parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-element-type">cci_set_element_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-free">cci_set_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-get">cci_set_get</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-holdability">cci_set_holdability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-isolation-level">cci_set_isolation_level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-lock-timeout">cci_set_lock_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-login-timeout">cci_set_login_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-make">cci_set_make</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-max-row">cci_set_max_row</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-query-timeout">cci_set_query_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cciapi.html#cci-set-size">cci_set_size</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/php.html">PHP Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/php.html#installing-and-configuring-php">Installing and Configuring PHP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#for-linux">For Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#for-windows">For Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/php.html#building-cubrid-php-driver-from-source-code">Building CUBRID PHP Driver from Source Code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#id1">For Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#id2">For Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/php.html#php-programming">PHP Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#connecting-to-a-database">Connecting to a Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#transactions-and-auto-commit">Transactions and Auto-Commit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/php.html#processing-queries">Processing Queries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/php.html#php-api">PHP API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/pdo.html">PDO Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/pdo.html#installing-and-configuring-pdo">Installing and Configuring PDO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#linux">Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/pdo.html#building-cubrid-php-driver-from-source-code">Building CUBRID PHP Driver from Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/pdo.html#pdo-programming">PDO Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#data-source-name-dsn">Data Source Name (DSN)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#predefined-constants">Predefined Constants</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/pdo.html#pdo-sample-program">PDO Sample Program</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#verifying-cubrid-pdo-driver-version">Verifying CUBRID PDO Driver Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#connecting-to-cubrid">Connecting to CUBRID</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#executing-a-select-statement">Executing a SELECT Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#executing-an-update-statement">Executing an UPDATE Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#using-prepare-and-bind">Using prepare and bind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#using-the-pdo-getattribute-function">Using the PDO::getAttribute() Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/pdo.html#cubrid-pdo-extensions">CUBRID PDO Extensions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/pdo.html#pdo-api">PDO API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/odbc.html">ODBC Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/odbc.html#configuring-and-environment-odbc">Configuring and Environment ODBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/odbc.html#odbc-programming">ODBC Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/odbc.html#configuring-connection-string">Configuring Connection String</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/odbc.html#asp-sample-program">ASP Sample Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/odbc.html#odbc-api">ODBC API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/oledb.html">OLE DB Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/oledb.html#installing-and-configuring-ole-db">Installing and Configuring OLE DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/oledb.html#ole-db-programming">OLE DB Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/oledb.html#using-data-link-properties-dialog-box">Using Data Link Properties Dialog Box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/oledb.html#configuring-connection-string">Configuring Connection String</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/oledb.html#multi-threaded-programming-in-net-environment">Multi-Threaded Programming in .NET Environment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/oledb.html#ole-db-api">OLE DB API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/adodotnet.html">ADO.NET Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/adodotnet.html#installing-and-configuring-ado-net">Installing and Configuring ADO.NET</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/adodotnet.html#ado-net-programming">ADO.NET Programming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#a-simple-query-retrieve-code">A Simple Query/Retrieve Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#batch-commands">batch Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#connection-string">Connection String</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#cubrid-collections">CUBRID Collections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#cubrid-blob-clob">CUBRID BLOB/CLOB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#cubrid-metadata-support">CUBRID Metadata Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#datatable-support">DataTable Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#transactions">Transactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#working-with-parameters">Working with Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/adodotnet.html#error-codes-and-messages">Error Codes and Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/adodotnet.html#ado-net-api">ADO.NET API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/perl.html">Perl Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/perl.html#installing-and-configuring-perl">Installing and Configuring Perl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/perl.html#perl-api">Perl API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/python.html">Python Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/python.html#installing-and-configuring-python">Installing and Configuring Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/python.html#linux-unix">Linux/UNIX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/python.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/python.html#python-programming">Python Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/python.html#python-sample-program">Python Sample Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/python.html#python-api">Python API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/ruby.html">Ruby Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/ruby.html#installing-and-configuring-ruby">Installing and Configuring Ruby</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/ruby.html#ruby-sample-program">Ruby Sample Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/ruby.html#ruby-api">Ruby API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/node_js.html">Node.js Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/node_js.html#installing-node-js">Installing Node.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/node_js.html#cubrid-node-js-api">CUBRID Node.js API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release_note/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release_note/release_note_latest_ver.html">11.3 Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../release_note/release_note_latest_ver.html#release-notes-information">Release Notes Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/release_note_latest_ver.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release_note/release_note_latest_ver.html#driver-compatibility">Driver Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/release_note_latest_ver.html#changes">11.3 Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/release_note_latest_ver.html#cautions">Cautions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release_note/release_note_latest_ver.html#new-cautions">New Cautions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release_note/release_note_latest_ver.html#existing-cautions">Existing Cautions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release_note/index.html#general-information">General Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../release_note/index.html#revision-history">Revision history</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/index.html#bug-reports-and-user-feedback">Bug Reports and User Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/index.html#license">License</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/index.html#additional-information">Additional Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../release_note/index.html#note-on-drivers">Note on Drivers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CUBRID</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">CUBRID SQL</a> &raquo;</li>
        
          <li><a href="tuning_index.html">Query Optimization</a> &raquo;</li>
        
      <li>Updating Statistics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/sql/tuning.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="updating-statistics">
<h1>Updating Statistics<a class="headerlink" href="#updating-statistics" title="Permalink to this headline">¶</a></h1>
<p>Statistics for tables and indexes enables queries of the database system to process efficiently. Statistics are not updated automatically for DDL statements such as <strong>CREATE INDEX</strong>, <strong>CREATE TABLE</strong> and DML statements such as <strong>INSERT</strong> and <strong>DELETE</strong>. <strong>UPDATE STATISTICS</strong> statement is the only way to update statistics. So it is necessary to update the statistics by <strong>UPDATE STATISTICS</strong> statement(See <a class="reference internal" href="#info-stats"><span class="std std-ref">Checking Statistics Information</span></a>).</p>
<p><strong>UPDATE STATISTICS</strong> statement is recommended to be executed periodically. It is also recommended to execute when a new index is added or when a mass of <strong>INSERT</strong> or <strong>DELETE</strong> statements make the big difference between the statistics and the actual information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UPDATE</span> <span class="n">STATISTICS</span> <span class="n">ON</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">class</span><span class="o">-</span><span class="n">name</span> <span class="p">[{,</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">class</span><span class="o">-</span><span class="n">name</span><span class="p">}]</span> <span class="p">[</span><span class="n">WITH</span> <span class="n">FULLSCAN</span><span class="p">];</span>

<span class="n">UPDATE</span> <span class="n">STATISTICS</span> <span class="n">ON</span> <span class="n">ALL</span> <span class="n">CLASSES</span> <span class="p">[</span><span class="n">WITH</span> <span class="n">FULLSCAN</span><span class="p">];</span>

<span class="n">UPDATE</span> <span class="n">STATISTICS</span> <span class="n">ON</span> <span class="n">CATALOG</span> <span class="n">CLASSES</span> <span class="p">[</span><span class="n">WITH</span> <span class="n">FULLSCAN</span><span class="p">];</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>WITH FULLSCAN</strong>: It updates the statistics with all the data in the specified table. If this is omitted, it updates the statistics with sampling data. The sampling data is 5000 pages regardless of total pages of table.</li>
<li><strong>ALL CLASSES</strong>: If the <strong>ALL CLASSES</strong> keyword is specified, the statistics on all the tables existing in the database are updated.</li>
<li><strong>CATALOG CLASSES</strong>: It updates the statistics of the catalog tables.</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">foo</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx1</span> <span class="k">ON</span> <span class="n">foo</span> <span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx2</span> <span class="k">ON</span> <span class="n">foo</span> <span class="p">(</span><span class="n">b</span><span class="p">);</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="n">foo</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="n">foo</span> <span class="k">WITH</span> <span class="n">FULLSCAN</span><span class="p">;</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">CLASSES</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">CLASSES</span> <span class="k">WITH</span> <span class="n">FULLSCAN</span><span class="p">;</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="k">CATALOG</span> <span class="n">CLASSES</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="k">CATALOG</span> <span class="n">CLASSES</span> <span class="k">WITH</span> <span class="n">FULLSCAN</span><span class="p">;</span>
</pre></div>
</div>
<p>When starting and ending an update of statistics information, NOTIFICATION message is written on the server error log. You can check the updating term of statistics information by these two messages.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Time: 05/07/13 15:06:25.052 - NOTIFICATION *** file ../../src/storage/statistics_sr.c, line 123  CODE = -1114 Tran = 1, CLIENT = testhost:csql(21060), EID = 4
Started to update statistics (class &quot;code&quot;, oid : 0|522|3).

Time: 05/07/13 15:06:25.053 - NOTIFICATION *** file ../../src/storage/statistics_sr.c, line 330  CODE = -1115 Tran = 1, CLIENT = testhost:csql(21060), EID = 5
Finished to update statistics (class &quot;code&quot;, oid : 0|522|3, error code : 0).
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">From version 10.0 of CUBRID, on the HA environment, <strong>UPDATE STATISTICS</strong> on the master node is replicated to the slave/replica node.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>From version 11.3 of CUBRID, synonyms cannot be used when executing <strong>UPDATE STATISTICS</strong> statement.</p>
<div class="last highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* CURRENT_USER: PUBLIC */</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="k">c</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="n">SYNONYM</span> <span class="n">s</span> <span class="k">for</span> <span class="n">t</span><span class="p">;</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="n">t</span><span class="p">;</span>
<span class="cm">/* Execute OK. */</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="n">s</span><span class="p">;</span>
<span class="cm">/* ERROR: before &#39; ; &#39;</span>
<span class="cm"> * Class public.s does not exist. */</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">From version 11.4 of CUBRID,  <strong>SELECT</strong> authorization is required when executing <strong>UPDATE STATISTICS</strong> statement.</p>
</div>
</div>
<div class="section" id="checking-statistics-information">
<span id="info-stats"></span><h1>Checking Statistics Information<a class="headerlink" href="#checking-statistics-information" title="Permalink to this headline">¶</a></h1>
<p>You can check the statistics Information with the session command of the CSQL Interpreter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="p">;</span><span class="n">info</span> <span class="n">stats</span> <span class="n">table_name</span>
</pre></div>
</div>
<ul class="simple">
<li><em>schema_name</em>: Specifies the schema of the table. If omitted, the schema name of the current session is used.</li>
<li><em>table_name</em>: Table name to check the statistics Information</li>
</ul>
<p>The following shows the statistical information of <em>t1</em> table in CSQL interpreter.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">code</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_t1_code</span> <span class="k">ON</span> <span class="n">t1</span><span class="p">(</span><span class="n">code</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="n">t1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span><span class="n">info</span> <span class="n">stats</span> <span class="n">t1</span>
<span class="n">CLASS</span> <span class="n">STATISTICS</span>
<span class="o">****************</span>
 <span class="n">Class</span> <span class="n">name</span><span class="p">:</span> <span class="n">t1</span> <span class="n">Timestamp</span><span class="p">:</span> <span class="n">Mon</span> <span class="n">Mar</span> <span class="mi">25</span> <span class="mi">17</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">10</span> <span class="mi">2024</span>
 <span class="n">Total</span> <span class="n">pages</span> <span class="ow">in</span> <span class="k">class</span> <span class="nc">heap</span><span class="p">:</span> <span class="mi">1</span>
 <span class="n">Total</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">5</span>
 <span class="n">Number</span> <span class="n">of</span> <span class="n">attributes</span><span class="p">:</span> <span class="mi">1</span>
 <span class="n">Attribute</span><span class="p">:</span> <span class="n">code</span> <span class="p">(</span><span class="n">integer</span><span class="p">)</span>
    <span class="n">Number</span> <span class="n">of</span> <span class="n">Distinct</span> <span class="n">Values</span><span class="p">:</span> <span class="mi">5</span>
    <span class="n">B</span><span class="o">+</span><span class="n">tree</span> <span class="n">statistics</span><span class="p">:</span>
        <span class="n">BTID</span><span class="p">:</span> <span class="p">{</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">832</span> <span class="p">}</span>
        <span class="n">Cardinality</span><span class="p">:</span> <span class="mi">5</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">,</span> <span class="n">Total</span> <span class="n">pages</span><span class="p">:</span> <span class="mi">3</span> <span class="p">,</span> <span class="n">Leaf</span> <span class="n">pages</span><span class="p">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">Height</span><span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
<ul class="simple">
<li><em>Number of Distinct Values</em>: The number of values from which duplicates have been removed. It is for calculating selectivity in the optimizer.</li>
<li><em>B+tree Cardinality</em>: The number of accumulated distinct values. It is for calculating minimum selectivity in the optimizer.</li>
</ul>
</div>
<div class="section" id="viewing-query-plan">
<span id="id1"></span><h1>Viewing Query Plan<a class="headerlink" href="#viewing-query-plan" title="Permalink to this headline">¶</a></h1>
<p>To view a query plan for a CUBRID SQL query, you can use following methods.</p>
<ul>
<li><p class="first">Press “show plan” button on CUBRID Manager.</p>
<img alt="../_images/query_plan_on_CM.png" src="../_images/query_plan_on_CM.png" />
</li>
<li><p class="first">Change the value of the optimization level by running “;plan simple” or “;plan detail” on CSQL interpreter, or by using the <strong>SET OPTIMIZATION</strong> statement. You can get the current optimization level value by using the <strong>GET OPTIMIZATION</strong> statement. For details on CSQL Interpreter, see <a class="reference internal" href="../csql.html#csql-session-commands"><span class="std std-ref">Session Commands</span></a>.</p>
</li>
</ul>
<p><strong>SET OPTIMIZATION</strong> or <strong>GET OPTIMIZATION LEVEL</strong> syntax is as following.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">OPTIMIZATION</span> <span class="n">LEVEL</span> <span class="n">opt</span><span class="o">-</span><span class="n">level</span> <span class="p">[;]</span>
<span class="n">GET</span> <span class="n">OPTIMIZATION</span> <span class="n">LEVEL</span> <span class="p">[</span> <span class="p">{</span> <span class="n">TO</span> <span class="o">|</span> <span class="n">INTO</span> <span class="p">}</span> <span class="n">variable</span> <span class="p">]</span> <span class="p">[;]</span>
</pre></div>
</div>
<ul>
<li><p class="first"><em>opt-level</em> : This value specifies the optimization level and is associated with the following settings. Any other value will result in an error.</p>
<ul class="simple">
<li>0: Does not perform query optimization. The query is executed using the simplest query plan. This value is used only for debugging.</li>
<li>1: Creates a query plan by performing query optimization and executes the query. This is a default value used in CUBRID, and does not have to be changed in most cases.</li>
<li>2: Creates a query plan by performing query optimization. However, the query itself is not executed. In general, this value is not used; it is used together with the following values to be set for viewing query plans.</li>
<li>257: Performs query optimization and outputs the created query plan. This value works for displaying the query plan by internally interpreting the value as 256+1 related with the value 1.</li>
<li>258: Performs query optimization and outputs the created query plan, but does not execute the query.  That is, this value works for displaying the query plan by internally interpreting the value as 256+2 related with the value 2. This setting is useful to examine the query plan but not to intend to see the query results.</li>
<li>513: Performs query optimization and outputs the detailed query plan. This value works for displaying more detailed query plan than the value 257 by internally interpreting the value as 512+1.</li>
<li>514: Performs query optimization and outputs the detailed query plan. However, the query is not executed. This value works for displaying more detailed query plan than the value 258 by internally interpreting the value as 512+2.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you configure the optimization level as not executing the query like 2, 258, or 514, all queries(not only SELECT, but also INSERT, UPDATE, DELETE, REPLACE, TRIGGER, SERIAL, etc.) are not executed.</p>
</div>
</li>
</ul>
<p>The CUBRID query optimizer determines whether to perform query optimization and output the query plan by referring to the optimization level value set by the user.</p>
<p>The following shows the result which ran the query after inputting “;plan simple” or “SET OPTIMIZATION LEVEL 257;” in CSQL.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="n">OPTIMIZATION</span> <span class="k">LEVEL</span> <span class="mi">257</span><span class="p">;</span>
<span class="c1">--  csql&gt; ;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span>  <span class="k">DISTINCT</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">host_nation</span>
<span class="k">FROM</span> <span class="n">history</span> <span class="n">h</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">olympic</span> <span class="n">o</span>
<span class="k">ON</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span> <span class="k">AND</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span> <span class="o">&gt;</span> <span class="mi">1950</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Sort(distinct)
    Nested-loop join(h.host_year=o.host_year)
        Index scan(olympic o, pk_olympic_host_year, (o.host_year&gt; ?:0 ))
        Sequential scan(history h)
</pre></div>
</div>
<ul class="simple">
<li>Sort(distinct): Perform DISTINCT.</li>
<li>Nested-loop join: Join method is Nested-loop.</li>
<li>Index scan: Perform index-scan by using pk_olympic_host_year index about olympic table. At that time, the condition which used this index is “o.host_year &gt; ?”.</li>
</ul>
<p>The following shows the result which ran the query after inputting “;plan detail” or “SET OPTIMIZATION LEVEL 513;” in CSQL.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="n">OPTIMIZATION</span> <span class="k">LEVEL</span> <span class="mi">513</span><span class="p">;</span>
<span class="c1">--  csql&gt; ;plan detail</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span>  <span class="k">DISTINCT</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">host_nation</span>
<span class="k">FROM</span> <span class="n">history</span> <span class="n">h</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">olympic</span> <span class="n">o</span>
<span class="k">ON</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span> <span class="k">AND</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span> <span class="o">&gt;</span> <span class="mi">1950</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Join graph segments (f indicates final):
seg[0]: [0]
seg[1]: host_year[0] (f)
seg[2]: [1]
seg[3]: host_nation[1] (f)
seg[4]: host_year[1]
Join graph nodes:
node[0]: history h(147/1)
node[1]: olympic o(25/1) (sargs 1)
Join graph equivalence classes:
eqclass[0]: host_year[0] host_year[1]
Join graph edges:
term[0]: h.host_year=o.host_year (sel 0.04) (join term) (mergeable) (inner-join) (indexable host_year[1]) (loc 0)
Join graph terms:
term[1]: o.host_year range (1950 gt_inf max) (sel 0.1) (rank 2) (sarg term) (not-join eligible) (indexable host_year[1]) (loc 0)

Query plan:

temp(distinct)
    subplan: nl-join (inner join)
                 edge:  term[0]
                 outer: iscan
                            class: o node[1]
                            index: pk_olympic_host_year term[1]
                            cost:  1 card 2
                 inner: sscan
                            class: h node[0]
                            sargs: term[0]
                            cost:  1 card 147
                 cost:  3 card 15
    cost:  9 card 15

Query stmt:

select distinct h.host_year, o.host_nation from history h, olympic o where h.host_year=o.host_year and (o.host_year&gt; ?:0 )
</pre></div>
</div>
<p>On the above output, the information which is related to the query plan is “Query plan:”. Query plan is performed sequentially from the inside above line. In other words, “outer: iscan -&gt; inner:scan” is repeatedly performed and at last, “temp(distinct)” is performed. “Join graph segments” is used for checking more information on “Query plan:”. For example, “term[0]” in “Query plan:” is represented as “term[0]: h.host_year=o.host_year (sel 0.04) (join term) (mergeable) (inner-join) (indexable host_year[1]) (loc 0)” in “Join graph segments”.</p>
<p>The following shows the explanation of the above items of “Query plan:”.</p>
<ul class="simple">
<li>temp(distinct): (distinct) means that CUBRID performs DISTINCT query. temp means that it saves the result to the temporary space.<ul>
<li>nl-join: “nl-join” means nested loop join.</li>
<li>(inner join): join type is “inner join”.<ul>
<li>outer: iscan: performs iscan(index scan) in the outer table.<ul>
<li>class: o node[1]: It uses o table. For details, see node[1] of “Join graph segments”.</li>
<li>index: pk_olympic_host_year term[1]: use pk_olympic_host_year index and for details, see term[1] of “Join graph segments”.</li>
<li>cost: a cost to perform this syntax.<ul>
<li>card: It means cardinality. Note that this is an approximate value.</li>
</ul>
</li>
</ul>
</li>
<li>inner: sscan: It performs sscan(sequential scan) in the inner table.<ul>
<li>class: h node[0]: It uses h table. For details, see node[0] of “Join graph segments”.</li>
<li>sargs: term[0]: sargs represent data filter(WHERE condition which does not use an index); it means that term[0] is the condition used as data filter.</li>
<li>cost: A cost to perform this syntax.<ul>
<li>card: It means cardinality. Note that this is an approximate value.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>cost: A cost to perform all syntaxes. It includes the previously performed cost.<ul>
<li>card: It means cardinality. Note that this is an approximate value.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Query Plan Related Terms</strong></p>
<p>The following show the meaning for each term which is printed as a query plan.</p>
<ul class="simple">
<li>Join method: It is printed as “nl-join” on the above. The following are the join methods which are printed on the query plan.<ul>
<li>nl-join: Nested loop join</li>
<li>m-join: Sort merge join</li>
<li>idx_join: Nested loop join, and it is a join which uses an index in the inner table as reading rows of the outer table.</li>
</ul>
</li>
<li>Join type: It is printed as “(inner join)” on the above. The following are the join types which are printed on the query plan.<ul>
<li>inner join</li>
<li>left outer join</li>
<li>right outer join: On the query plan, the different “outer” direction with the query’s direction can be printed. For example, even if you specified “right outer” on the query, but “left outer” can be printed on the query plan.</li>
<li>cross join</li>
</ul>
</li>
<li>Types of join tables: It is printed as outer or inner on the above. They are separated as outer table and inner table which are based on the position on either side of the loop, on the nested loop join.<ul>
<li>outer table: The first base table to read when joining.</li>
<li>inner table: The target table to read later when joining.</li>
</ul>
</li>
<li>Scan method: It is printed as iscan or sscan. You can judge that if the query uses index or not.<ul>
<li>sscan: sequential scan. Also it can be called as full table scan; it scans all of the table without using an index.</li>
<li>iscan: index scan. It limits the range to scan by using an index.</li>
</ul>
</li>
<li>cost: It internally calculate the cost related to CPU, IO etc., mainly the use of resources.</li>
<li>card: It means cardinality. It is a number of rows which are predicted as selected.</li>
</ul>
<p>The following is an example of performing m-join(sort merge join) as specifying USE_MERGE hint. In general, sort merge join is used when sorting and merging an outer table and an inner table is judged as having an advantage than performing nested loop join. In most cases, it is desired that you do not perform sort merge join.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">From 9.3 version, if USE_MERGE hint is not specified or the <strong>optimizer_enable_merge_join</strong> parameter of cubrid.conf is not specified as yes, sort merge join will not be considered to be applied.</p>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="n">OPTIMIZATION</span> <span class="k">LEVEL</span> <span class="mi">513</span><span class="p">;</span>
<span class="c1">-- csql&gt; ;plan detail</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE USE_MERGE*/</span>  <span class="k">DISTINCT</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">host_nation</span>
<span class="k">FROM</span> <span class="n">history</span> <span class="n">h</span> <span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">olympic</span> <span class="n">o</span> <span class="k">ON</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span> <span class="k">AND</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span> <span class="o">&gt;</span> <span class="mi">1950</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

<span class="n">temp</span><span class="p">(</span><span class="n">distinct</span><span class="p">)</span>
    <span class="n">subplan</span><span class="p">:</span> <span class="n">temp</span>
                 <span class="n">order</span><span class="p">:</span> <span class="n">host_year</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                 <span class="n">subplan</span><span class="p">:</span> <span class="n">m</span><span class="o">-</span><span class="n">join</span> <span class="p">(</span><span class="n">left</span> <span class="n">outer</span> <span class="n">join</span><span class="p">)</span>
                              <span class="n">edge</span><span class="p">:</span>  <span class="n">term</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                              <span class="n">outer</span><span class="p">:</span> <span class="n">temp</span>
                                         <span class="n">order</span><span class="p">:</span> <span class="n">host_year</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                                         <span class="n">subplan</span><span class="p">:</span> <span class="n">sscan</span>
                                                      <span class="n">class</span><span class="p">:</span> <span class="n">h</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                                                      <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">147</span>
                                         <span class="n">cost</span><span class="p">:</span>  <span class="mi">10</span> <span class="n">card</span> <span class="mi">147</span>
                              <span class="n">inner</span><span class="p">:</span> <span class="n">temp</span>
                                         <span class="n">order</span><span class="p">:</span> <span class="n">host_year</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                         <span class="n">subplan</span><span class="p">:</span> <span class="n">iscan</span>
                                                      <span class="n">class</span><span class="p">:</span> <span class="n">o</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                                      <span class="n">index</span><span class="p">:</span> <span class="n">pk_olympic_host_year</span> <span class="n">term</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                                      <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">2</span>
                                         <span class="n">cost</span><span class="p">:</span>  <span class="mi">7</span> <span class="n">card</span> <span class="mi">2</span>
                              <span class="n">cost</span><span class="p">:</span>  <span class="mi">18</span> <span class="n">card</span> <span class="mi">147</span>
                 <span class="n">cost</span><span class="p">:</span>  <span class="mi">24</span> <span class="n">card</span> <span class="mi">147</span>
    <span class="n">cost</span><span class="p">:</span>  <span class="mi">30</span> <span class="n">card</span> <span class="mi">147</span>
</pre></div>
</div>
<p>The following performs the idx-join(index join). If performing join by using an index of inner table is judged as having an advantage, you can ensure performing idx-join by specifying <strong>USE_IDX</strong> hint.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="n">OPTIMIZATION</span> <span class="k">LEVEL</span> <span class="mi">513</span><span class="p">;</span>
<span class="c1">-- csql&gt; ;plan detail</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_history_host_year</span> <span class="k">ON</span> <span class="n">history</span><span class="p">(</span><span class="n">host_year</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span>  <span class="k">DISTINCT</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">host_nation</span>
<span class="k">FROM</span> <span class="n">history</span> <span class="n">h</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">olympic</span> <span class="n">o</span> <span class="k">ON</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

<span class="n">temp</span><span class="p">(</span><span class="n">distinct</span><span class="p">)</span>
    <span class="n">subplan</span><span class="p">:</span> <span class="n">idx</span><span class="o">-</span><span class="n">join</span> <span class="p">(</span><span class="n">inner</span> <span class="n">join</span><span class="p">)</span>
                 <span class="n">outer</span><span class="p">:</span> <span class="n">sscan</span>
                            <span class="n">class</span><span class="p">:</span> <span class="n">o</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">25</span>
                 <span class="n">inner</span><span class="p">:</span> <span class="n">iscan</span>
                            <span class="n">class</span><span class="p">:</span> <span class="n">h</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                            <span class="n">index</span><span class="p">:</span> <span class="n">i_history_host_year</span> <span class="n">term</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span>
                            <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">147</span>
                 <span class="n">cost</span><span class="p">:</span>  <span class="mi">2</span> <span class="n">card</span> <span class="mi">147</span>
    <span class="n">cost</span><span class="p">:</span>  <span class="mi">9</span> <span class="n">card</span> <span class="mi">147</span>
</pre></div>
</div>
<p>On the above query plan, “(covers)” is printed on the “index: i_history_host_year term[0]” of “inner: iscan”, it means that <a class="reference internal" href="#covering-index"><span class="std std-ref">Covering Index</span></a> functionality is applied. In other words, it does not retrieve data storage additionally because there are required data inside the index in inner table.</p>
<p>If you ensure that left table’s row number is a lot smaller than the right table’s row number on the join tables, you can specify <strong>ORDERED</strong> hint. Then always the left table will be outer table, and the right table will be inner table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE ORDERED */</span>  <span class="k">DISTINCT</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">o</span><span class="p">.</span><span class="n">host_nation</span>
<span class="k">FROM</span> <span class="n">history</span> <span class="n">h</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">olympic</span> <span class="n">o</span> <span class="k">ON</span> <span class="n">h</span><span class="p">.</span><span class="n">host_year</span> <span class="o">=</span> <span class="n">o</span><span class="p">.</span><span class="n">host_year</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="query-profiling">
<span id="id2"></span><h1>Query Profiling<a class="headerlink" href="#query-profiling" title="Permalink to this headline">¶</a></h1>
<p>If the performance analysis of SQL is required, you can use query profiling feature.
To use query profiling, specify SQL trace with <strong>SET TRACE ON</strong> syntax; to print out the profiling result, run <strong>SHOW TRACE</strong> syntax.</p>
<p>And if you want to always include the query plan when you run <strong>SHOW TRACE</strong>, you need to add /*+ RECOMPILE */ hint on the query.</p>
<p>The format of <strong>SET TRACE ON</strong> syntax is as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TRACE</span> <span class="p">{</span><span class="n">ON</span> <span class="o">|</span> <span class="n">OFF</span><span class="p">}</span> <span class="p">[</span><span class="n">OUTPUT</span> <span class="p">{</span><span class="n">TEXT</span> <span class="o">|</span> <span class="n">JSON</span><span class="p">}]</span>
</pre></div>
</div>
<ul class="simple">
<li>ON: set on SQL trace.</li>
<li>OFF: set off SQL trace.</li>
<li>OUTPUT TEXT: print out as a general TEXT format. If you omit OUTPUT clause, TEXT format is specified.</li>
<li>OUTPUT JSON: print out as a JSON format.</li>
</ul>
<p>As below, if you run <strong>SHOW TRACE</strong> syntax, the trace result is shown.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SHOW</span> <span class="n">TRACE</span><span class="p">;</span>
</pre></div>
</div>
<p>Below is an example that prints out the query tracing result after setting SQL trace ON.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SET</span> <span class="n">TRACE</span> <span class="n">ON</span><span class="p">;</span>
<span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">RECOMPILE</span> <span class="o">*/</span> <span class="n">o</span><span class="o">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">host_nation</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">host_city</span><span class="p">,</span> <span class="n">SUM</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">gold</span><span class="p">)</span>
        <span class="n">FROM</span> <span class="n">OLYMPIC</span> <span class="n">o</span><span class="p">,</span> <span class="n">PARTICIPANT</span> <span class="n">p</span>
        <span class="n">WHERE</span> <span class="n">o</span><span class="o">.</span><span class="n">host_year</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">host_year</span> <span class="n">AND</span> <span class="n">p</span><span class="o">.</span><span class="n">gold</span> <span class="o">&gt;</span> <span class="mi">20</span>
        <span class="n">GROUP</span> <span class="n">BY</span> <span class="n">o</span><span class="o">.</span><span class="n">host_nation</span><span class="p">;</span>
<span class="n">csql</span><span class="o">&gt;</span> <span class="n">SHOW</span> <span class="n">TRACE</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>=== &lt;Result of SELECT Command in Line 2&gt; ===

  trace
======================
  &#39;
Query Plan:
  SORT (group by)
    NESTED LOOPS (inner join)
      TABLE SCAN (o)
      INDEX SCAN (p.fk_participant_host_year) (key range: o.host_year=p.host_year)

  rewritten query: select o.host_year, o.host_nation, o.host_city, sum(p.gold) from OLYMPIC o, PARTICIPANT p where o.host_year=p.host_year and (p.gold&gt; ?:0 ) group by o.host_nation

Trace Statistics:
  SELECT (time: 2, fetch: 975, fetch_time: 1, ioread: 2)
    SCAN (table: olympic), (heap time: 0, fetch: 26, ioread: 0, readrows: 25, rows: 25)
      SCAN (index: participant.fk_participant_host_year), (btree time: 1, fetch: 941, ioread: 2, readkeys: 5, filteredkeys: 5, rows: 916) (lookup time: 0, rows: 14)
    GROUPBY (time: 0, sort: true, page: 0, ioread: 0, rows: 5)
&#39;
</pre></div>
</div>
<p>In the above example, under lines of “Trace Statistics:” are the result of tracing. Each items of tracing result are as below.</p>
<ul>
<li><p class="first"><strong>SELECT</strong> (time: 2, fetch: 975, fetch_time: 1, ioread: 2)</p>
<ul class="simple">
<li>time: 2 =&gt; Total query time took 2ms.</li>
<li>fetch: 975 =&gt; 975 times were fetched regarding pages. (not the number of pages, but the count of accessing pages. even if the same pages are fetched, the count is increased.).</li>
<li>fetch_time: 1=&gt; Total fetch time took 1ms.</li>
<li>ioread: disk accessed 2 times.</li>
</ul>
<p>: Total statistics regarding SELECT query. If the query is rerun, fetching count and ioread count can be shrinken because some of query result are read from buffer.</p>
<ul>
<li><p class="first"><strong>SCAN</strong> (table: olympic), (heap time: 0, fetch: 26, ioread: 0, readrows: 25, rows: 25)</p>
<ul class="simple">
<li>heap time: 0 =&gt; It took less than 1ms. CUBRID rounds off a value less than millisecond, so a time value less than 1ms is displayed as 0.</li>
<li>fetch: 26 =&gt; page fetching count is 26.</li>
<li>ioread: 0 =&gt; disk accessing count is 0.</li>
<li>readrows: 25 =&gt; the number of rows read when scanning is 25.</li>
<li>rows: 25 =&gt; the number of rows in result is 25.</li>
</ul>
<p>: Heap scan statistics for the olympic table.</p>
<ul>
<li><p class="first"><strong>SCAN</strong> (index: participant.fk_participant_host_year), (btree time: 1, fetch: 941, ioread: 2, readkeys: 5, filteredkeys: 5, rows: 916) (lookup time: 0, rows: 14)</p>
<ul class="simple">
<li>btree time: 1 =&gt; It took 1ms.</li>
<li>fetch: 941 =&gt; page fetching count is 941.</li>
<li>ioread: 2 =&gt; disk accessing count is 2.</li>
<li>readkeys: 5 =&gt; the number of keys read is 5.</li>
<li>filteredkeys: 5 =&gt; the number of keys which the key filter is applied is 5.</li>
<li>rows: 916 =&gt; the number of rows scanning is 916.</li>
<li>lookup time: 0 =&gt; It took less than 1ms when accessing data after index scan.</li>
<li>rows: 14 =&gt; the number of rows after applying data filter; in the query, the number of rows is 14 when data filter “p.gold &gt; 20” is applied.</li>
</ul>
<p>: Index scanning statistics regarding participant.fk_participant_host_year index.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>GROUPBY</strong> (time: 0, sort: true, page: 0, ioread: 0, rows: 5)</p>
<ul class="simple">
<li>time: 0 =&gt; It took less than 1ms when “group by” is applied.</li>
<li>sort: true =&gt; It’s true because sorting is applied.</li>
<li>page: 0 =&gt; the number or temporary pages used in sorting is 0.</li>
<li>ioread: 0 =&gt; It took less than 1ms to access disk.</li>
<li>rows: 5 =&gt; the number of result rows regarding “group by” is 5.</li>
</ul>
<p>: Group by statistics.</p>
</li>
</ul>
</li>
</ul>
<p>The following is an example to join 3 tables.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>csql&gt; SET TRACE ON;
csql&gt; SELECT /*+ RECOMPILE ORDERED */ o.host_year, o.host_nation, o.host_city, n.name, SUM(p.gold), SUM(p.silver), SUM(p.bronze)
        FROM OLYMPIC o,
             (select /*+ NO_MERGE */ * from PARTICIPANT p where p.gold &gt; 10) p,
             NATION n
      WHERE o.host_year = p.host_year AND p.nation_code = n.code
      GROUP BY o.host_nation;
csql&gt; SHOW TRACE;

  trace
======================
&#39;
Query Plan:
  TABLE SCAN (p)

  rewritten query: (select p.host_year, p.nation_code, p.gold, p.silver, p.bronze from PARTICIPANT p where (p.gold&gt; ?:0 ))

  SORT (group by)
    NESTED LOOPS (inner join)
      NESTED LOOPS (inner join)
        TABLE SCAN (o)
        TABLE SCAN (p)
      INDEX SCAN (n.pk_nation_code) (key range: p.nation_code=n.code)

  rewritten query: select /*+ ORDERED */ o.host_year, o.host_nation, o.host_city, n.[name], sum(p.gold), sum(p.silver), sum(p.bronze) from OLYMPIC o, (select p.host_year, p.nation_code, p.gold, p.silver, p.bronze from PARTICIPANT p where (p.gold&gt; ?:0 )) p (host_year, nation_code, gold,
silver, bronze), NATION n where o.host_year=p.host_year and p.nation_code=n.code group by o.host_nation


Trace Statistics:
  SELECT (time: 6, fetch: 880, fetch_time: 2, ioread: 0)
    SCAN (table: olympic), (heap time: 0, fetch: 104, ioread: 0, readrows: 25, rows: 25)
      SCAN (hash temp(m), buildtime : 0, time: 0, fetch: 0, ioread: 0, readrows: 76, rows: 38)
        SCAN (index: nation.pk_nation_code), (btree time: 2, fetch: 760, ioread: 0, readkeys: 38, filteredkeys: 0, rows: 38) (lookup time: 0, rows: 38)
    GROUPBY (time: 0, hash: true, sort: true, page: 0, ioread: 0, rows: 5)
    SUBQUERY (uncorrelated)
      SELECT (time: 2, fetch: 12, ioread: 0)
        SCAN (table: participant), (heap time: 2, fetch: 12, ioread: 0, readrows: 916, rows: 38)
&#39;
</pre></div>
</div>
<p>The following are the explanation regarding items of trace statistics.</p>
<p><strong>SELECT</strong></p>
<ul class="simple">
<li>time: total estimated time when this query is performed(ms)</li>
<li>fetch: total page fetching count about this query</li>
<li>fetch_time : total fetch time when this query is performed(ms)</li>
<li>ioread: total I/O read count about this query. disk access count when the data is read</li>
</ul>
<p><strong>SCAN</strong></p>
<ul>
<li><p class="first">heap: data scanning job without index</p>
<ul class="simple">
<li>time, fetch, ioread: the estimated time(ms), page fetching count and I/O read count in the heap of this operation</li>
<li>readrows: the number of rows read when this operation is performed</li>
<li>rows: the number of result rows when this operation is performed</li>
</ul>
</li>
<li><p class="first">btree: index scanning job</p>
<ul class="simple">
<li>time, fetch, ioread: the estimated time(ms), page fetching count and I/O read count in the btree of this operation</li>
<li>readkeys: the number of the keys which are read in btree when this operation is performed</li>
<li>filteredkeys: the number of the keys to which the key filter is applied from the read keys</li>
<li>rows: the number of result rows when this operation is performed; the number of result rows to which key filter is applied</li>
</ul>
</li>
<li><p class="first">temp: data scanning job with temp file</p>
<ul class="simple">
<li>hash temp(m): hash list scan or not. depending on the amount of data, the IN-MEMORY(m), HYBRID(h), FILE(f) hash data structure is used.</li>
<li>buildtime: the estimated time(ms) in building hash table.</li>
<li>time: the estimated time(ms) in probing hash table.</li>
<li>fetch, ioread: page fetching count and I/O read count in the temp file of this operation</li>
<li>readrows: the number of rows read when this operation is performed</li>
<li>rows: the number of result rows when this operation is performed</li>
</ul>
</li>
<li><p class="first">lookup: data accessing job after index scanning</p>
<ul class="simple">
<li>time: the estimated time(ms) in this operation</li>
<li>rows: the number of the result rows in this operation; the number of result rows to which the data filter is applied</li>
</ul>
</li>
<li><p class="first">noscan: An operation that uses statistical information of index headers without scanning when executing an aggregate operation. (aggregate: count, min, max)</p>
<blockquote>
<div><ul>
<li><p class="first">agl: aggregate lookup, index list used for aggregate operation</p>
<p>The following is an example for noscan and agl.</p>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SET</span> <span class="n">TRACE</span> <span class="n">ON</span><span class="p">;</span>
<span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">agl_tbl</span> <span class="p">(</span><span class="nb">id</span> <span class="n">INTEGER</span> <span class="n">PRIMARY</span> <span class="n">KEY</span><span class="p">,</span> <span class="n">phone</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">agl_tbl</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;123-456-789&#39;</span><span class="p">);</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">agl_tbl</span> <span class="n">VALUES</span> <span class="p">(</span><span class="mi">999</span><span class="p">,</span> <span class="s1">&#39;999-999-999&#39;</span><span class="p">);</span>

<span class="n">SELECT</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">agl_tbl</span><span class="p">;</span>

<span class="n">SHOW</span> <span class="n">TRACE</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Trace</span> <span class="n">Statistics</span><span class="p">:</span>
  <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">SCAN</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">agl_tbl</span><span class="p">),</span> <span class="p">(</span><span class="n">noscan</span> <span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">agl</span><span class="p">:</span> <span class="n">pk_agl_tbl_id</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>GROUPBY</strong></p>
<ul class="simple">
<li>time: the estimated time(ms) in this operation</li>
<li>sort: sorting or not</li>
<li>page: the number of pages which is read in this operation; the number of used pages except the internal sorting buffer</li>
<li>rows: the number of the result rows in this operation</li>
<li>hash: hash aggregate evaluation or not, when sorting tuples in the aggregate function(true/false). See <a class="reference internal" href="#no-hash-aggregate"><span class="std std-ref">NO_HASH_AGGREGATE</span></a> hint.</li>
</ul>
<p><strong>INDEX SCAN</strong></p>
<ul class="simple">
<li>key range: the range of a key</li>
<li>covered: covered index or not(true/false)</li>
<li>loose: loose index scan or not(true/false)</li>
</ul>
<p>The above example can be output as JSON format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SET</span> <span class="n">TRACE</span> <span class="n">ON</span> <span class="n">OUTPUT</span> <span class="n">JSON</span><span class="p">;</span>
<span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">athlete</span> <span class="n">a</span><span class="p">,</span> <span class="n">nation</span> <span class="n">n</span> <span class="n">WHERE</span> <span class="n">n</span><span class="o">.</span><span class="n">code</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">nation_code</span><span class="p">;</span>
<span class="n">csql</span><span class="o">&gt;</span> <span class="n">SHOW</span> <span class="n">TRACE</span><span class="p">;</span>

  <span class="n">trace</span>
<span class="o">======================</span>
  <span class="s1">&#39;{</span>
  <span class="s2">&quot;Trace Statistics&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;SELECT&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
      <span class="s2">&quot;fetch&quot;</span><span class="p">:</span> <span class="mi">5836</span><span class="p">,</span>
      <span class="s2">&quot;ioread&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s2">&quot;SCAN&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;temp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;temp&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
          <span class="s2">&quot;fetch&quot;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span>
          <span class="s2">&quot;ioread&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="s2">&quot;readrows&quot;</span><span class="p">:</span> <span class="mi">6677</span><span class="p">,</span>
          <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="mi">6677</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;MERGELIST&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;outer&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;SELECT&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;fetch&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;ioread&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;SCAN&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;table (nation)&quot;</span><span class="p">,</span>
              <span class="s2">&quot;heap&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;fetch&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;ioread&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;readrows&quot;</span><span class="p">:</span> <span class="mi">215</span><span class="p">,</span>
                <span class="s2">&quot;rows&quot;</span><span class="p">:</span> <span class="mi">215</span>
              <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;ORDERBY&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
              <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
              <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
              <span class="s2">&quot;ioread&quot;</span><span class="p">:</span> <span class="mi">3</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<p>On CSQL interpreter, if you use the command to set the SQL trace on automatically, the trace result is printed out automatically after printing the query result even if you do not run <strong>SHOW TRACE;</strong> syntax.</p>
<p>For how to set the trace on automatically, see <a class="reference internal" href="../csql.html#set-autotrace"><span class="std std-ref">Set SQL trace</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>CSQL interpreter which is run in the standalone mode(use -S option) does not support SQL trace feature.</li>
<li>When multiple queries are performed at once(batch query, array query), they are not profiled.</li>
</ul>
</div>
</div>
<div class="section" id="using-sql-hint">
<span id="sql-hint"></span><h1>Using SQL Hint<a class="headerlink" href="#using-sql-hint" title="Permalink to this headline">¶</a></h1>
<p>Using hints can affect the performance of query execution. You can allow the query optimizer to create more efficient execution plan by referring to the SQL HINT. The SQL HINTs related tale join and index are provided by CUBRID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="n">SELECT</span> <span class="o">|</span> <span class="n">UPDATE</span> <span class="o">|</span> <span class="n">DELETE</span> <span class="p">}</span> <span class="o">/*+</span> <span class="o">&lt;</span><span class="n">hint</span><span class="o">&gt;</span> <span class="p">[</span> <span class="p">{</span> <span class="o">&lt;</span><span class="n">hint</span><span class="o">&gt;</span> <span class="p">}</span> <span class="o">...</span> <span class="p">]</span> <span class="o">*/</span> <span class="o">...</span><span class="p">;</span>

<span class="n">MERGE</span> <span class="o">/*+</span> <span class="o">&lt;</span><span class="n">merge_statement_hint</span><span class="o">&gt;</span> <span class="p">[</span> <span class="p">{</span> <span class="o">&lt;</span><span class="n">merge_statement_hint</span><span class="o">&gt;</span> <span class="p">}</span> <span class="o">...</span> <span class="p">]</span> <span class="o">*/</span> <span class="n">INTO</span> <span class="o">...</span><span class="p">;</span>

<span class="o">&lt;</span><span class="n">hint</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span>
<span class="n">USE_NL</span> <span class="p">[</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">spec_name_comma_list</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">]</span> <span class="o">|</span>
<span class="n">USE_IDX</span> <span class="p">[</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">spec_name_comma_list</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">]</span> <span class="o">|</span>
<span class="n">USE_MERGE</span> <span class="p">[</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">spec_name_comma_list</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">]</span> <span class="o">|</span>
<span class="n">ORDERED</span> <span class="o">|</span>
<span class="n">LEADING</span> <span class="o">|</span>
<span class="n">USE_DESC_IDX</span> <span class="o">|</span>
<span class="n">USE_SBR</span> <span class="o">|</span>
<span class="n">INDEX_SS</span> <span class="p">[</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">spec_name_comma_list</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">]</span> <span class="o">|</span>
<span class="n">INDEX_LS</span> <span class="o">|</span>
<span class="n">NO_DESC_IDX</span> <span class="o">|</span>
<span class="n">NO_COVERING_IDX</span> <span class="o">|</span>
<span class="n">NO_MULTI_RANGE_OPT</span> <span class="o">|</span>
<span class="n">NO_SORT_LIMIT</span> <span class="o">|</span>
<span class="n">NO_SUBQUERY_CACHE</span> <span class="o">|</span>
<span class="n">NO_PUSH_PRED</span> <span class="o">|</span>
<span class="n">NO_MERGE</span> <span class="o">|</span>
<span class="n">NO_ELIMINATE_JOIN</span> <span class="o">|</span>
<span class="n">NO_HASH_AGGREGATE</span> <span class="o">|</span>
<span class="n">NO_HASH_LIST_SCAN</span> <span class="o">|</span>
<span class="n">NO_LOGGING</span> <span class="o">|</span>
<span class="n">RECOMPILE</span> <span class="o">|</span>
<span class="n">QUERY_CACHE</span>

<span class="o">&lt;</span><span class="n">spec_name_comma_list</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="o">&lt;</span><span class="n">spec_name</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">spec_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span> <span class="p">]</span>
    <span class="o">&lt;</span><span class="n">spec_name</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">table_name</span> <span class="o">|</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">view_name</span>

<span class="o">&lt;</span><span class="n">merge_statement_hint</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span>
<span class="n">USE_UPDATE_INDEX</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">update_index_list</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">|</span>
<span class="n">USE_DELETE_INDEX</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">insert_index_list</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">|</span>
<span class="n">RECOMPILE</span>
</pre></div>
</div>
<p>SQL hints are specified by using a plus sign(+) to comments. To use a hint, there are three styles as being introduced on <a class="reference internal" href="comment.html"><span class="doc">Comment</span></a>. Therefore, also SQL hint can be used as three styles.</p>
<ul class="simple">
<li>/*+ hint */</li>
<li>–+ hint</li>
<li>//+ hint</li>
</ul>
<p>The hint comment must appear after the keyword such as <strong>SELECT</strong>, <strong>UPDATE</strong> or <strong>DELETE</strong>, and the comment must begin with a plus sign (+), following the comment delimiter.  When you specify several hints, they are  separated by blanks.</p>
<p>The following hints can be specified in <strong>UPDATE</strong>, <strong>DELETE</strong> and <strong>SELECT</strong> statements.</p>
<ul>
<li><p class="first"><strong>USE_NL</strong>: Related to a table join, the query optimizer creates a nested loop join execution plan with this hint.</p>
</li>
<li><p class="first"><strong>USE_MERGE</strong>: Related to a table join, the query optimizer creates a sort merge join execution plan with this hint.</p>
</li>
<li><p class="first"><strong>ORDERED</strong>: Related to a table join, the query optimizer create a join execution plan with this hint, based on the order of tables specified in the <strong>FROM</strong> clause. The left table in the <strong>FROM</strong> clause becomes the outer table; the right one becomes the inner table.</p>
</li>
<li><p class="first"><strong>LEADING</strong>: Related to a table join, the query optimizer create a join execution plan with this hint, based on the order of tables specified in the <strong>LEADING</strong> hint.</p>
</li>
<li><p class="first"><strong>USE_IDX</strong>: Related to an index, the query optimizer creates an index join execution plan corresponding to a specified table with this hint.</p>
</li>
<li><p class="first"><strong>USE_DESC_IDX</strong>: This is a hint for the scan in descending index. For more information, see <a class="reference internal" href="#index-descending-scan"><span class="std std-ref">Index Scan in Descending Order</span></a>.</p>
</li>
<li><p class="first"><strong>USE_SBR</strong>: This is a hint for the statement-based replication. It supports data replication for tables without a primary key.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The data inconsistency of a table may occur between nodes since the corresponding statement is executed when the transaction log is applied in the slave node.</p>
</div>
</li>
<li><p class="first"><strong>INDEX_SS</strong>: Consider the query plan of index skip scan. For more information, see <a class="reference internal" href="#index-skip-scan"><span class="std std-ref">Index Skip Scan</span></a>.</p>
</li>
<li><p class="first"><strong>INDEX_LS</strong>: Consider the query plan of loose index scan. For more information, see <a class="reference internal" href="#loose-index-scan"><span class="std std-ref">Loose Index Scan</span></a>.</p>
</li>
<li><p class="first"><strong>NO_DESC_IDX</strong>: This is a hint not to use the descending index.</p>
</li>
<li><p class="first"><strong>NO_COVERING_IDX</strong>: This is a hint not to use the covering index. For details, see <a class="reference internal" href="#covering-index"><span class="std std-ref">Covering Index</span></a>.</p>
</li>
<li><p class="first"><strong>NO_MULTI_RANGE_OPT</strong>: This is a hint not to use the multi-key range optimization. For details, see <a class="reference internal" href="#multi-key-range-opt"><span class="std std-ref">Multiple Key Ranges Optimization</span></a>.</p>
</li>
<li><p class="first"><strong>NO_SORT_LIMIT</strong>: This is a hint not to use the SORT-LIMIT optimization. For more details, see <a class="reference internal" href="#sort-limit-optimization"><span class="std std-ref">SORT-LIMIT optimization</span></a>.</p>
</li>
<li><p class="first"><strong>NO_SUBQUERY_CACHE</strong>: This is a hint not to use the SUBQUERY CACHE optimization. For more details, see <a class="reference internal" href="#correlated-subquery-cache"><span class="std std-ref">SUBQUERY CACHE (correlated)</span></a>.</p>
</li>
<li><p class="first"><strong>NO_PUSH_PRED</strong>: This is a hint not to use the PREDICATE-PUSH optimization.</p>
</li>
<li><p class="first"><strong>NO_MERGE</strong>: This is a hint not to use the VIEW-MERGE optimization.</p>
</li>
<li><p class="first"><strong>NO_ELIMINATE_JOIN</strong>: This is a hint not to use join elimination optimization. For more details, see <a class="reference internal" href="#join-elimination-optimization"><span class="std std-ref">Join Elimination Optimization</span></a>.</p>
</li>
</ul>
<ul id="no-hash-aggregate">
<li><p class="first"><strong>NO_HASH_AGGREGATE</strong>: This is a hint not to use hashing for the sorting tuples in aggregate functions. Instead, external sorting is used in aggregate functions. By using an in-memory hash table, we can reduce or even eliminate the amount of data that needs to be sorted. However, in some scenarios the user may know beforehand that hash aggregation will fail and can use the hint to skip hash aggregation entirely. For setting the memory size of hashing aggregate, see <a class="reference internal" href="../admin/config.html#max-agg-hash-size"><span class="std std-ref">max_agg_hash_size</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Hash aggregate evaluation will not work for functions evaluated on distinct values (e.g. AVG(DISTINCT x)) and for the GROUP_CONCAT and MEDIAN functions, since they require an extra sorting step for the tuples of each group.</p>
</div>
</li>
</ul>
<ul id="no-hash-list-scan">
<li><p class="first"><strong>NO_HASH_LIST_SCAN</strong>: This is a hint not to use hash list scan for scanning sub-query’s result. Instead, list scan is used to scan temp file. By building and probing hash table, we can reduce the amount of data that needs to be searched. However, in some scenarios, the user may know beforehand that outer cardinality is very small and can use the hint to skip hash list scan entirely. For setting the memory size of hash scan, see <a class="reference internal" href="../admin/config.html#max-hash-list-scan-size"><span class="std std-ref">max_hash_list_scan_size</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Hash List scan only works for predicates having a equal operation and does NOT work for predicates having OID type.</p>
</div>
</li>
<li><p class="first"><strong>NO_LOGGING</strong>: This is a hint not to include the redo in the log generated when inserting, updating, or deleting records to a table.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently, The NO_LOGGING hint only affects the log created from the heap file when inserting, updating, or deleting records to a table. Therefore, problems such as the inconsistency between the data of the table and the data of the index might occur after recovery; and the situation of committed record cannot be recovered might also occur, etc. You should use it carefully.</p>
</div>
</li>
</ul>
<ul class="simple" id="recompile">
<li><strong>RECOMPILE</strong> : Recompiles the query execution plan. This hint is used to delete the query execution plan stored in the cache and establish a new query execution plan.</li>
<li><strong>QUERY_CACHE</strong>: This is a hint for caching the query with its results. This hint can be specified in <strong>SELECT</strong> statements only. For more information, see <a class="reference internal" href="#query-cache"><span class="std std-ref">QUERY CACHE</span></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If &lt;<em>spec_name</em>&gt; is specified together with <strong>USE_NL</strong>, <strong>USE_IDX</strong> or <strong>USE_MERGE</strong>, the specified join method applies only to the &lt;<em>spec_name</em>&gt;.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ ORDERED USE_NL(B) USE_NL(C) USE_MERGE(D) */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">A</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">B</span> <span class="k">ON</span> <span class="n">A</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">B</span><span class="p">.</span><span class="n">col</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="k">C</span> <span class="k">ON</span> <span class="n">B</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="k">C</span><span class="p">.</span><span class="n">col</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">D</span>  <span class="k">ON</span> <span class="k">C</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">D</span><span class="p">.</span><span class="n">col</span><span class="p">;</span>
</pre></div>
</div>
<p>If you run the above query, <strong>USE_NL</strong> is applied when A and B are joined; <strong>USE_NL</strong> is applied when C is joined, too; <strong>USE_MERGE</strong> is applied when D is joined.</p>
<p class="last">If <strong>USE_NL</strong> and <strong>USE_MERGE</strong> are specified together without &lt;<em>spec_name</em>&gt;, the given hint is ignored. In some cases, the query optimizer cannot create a query execution plan based on the given hint. For example, if <strong>USE_NL</strong> is specified for a right outer join, the query is converted to a left outer join internally, and the join order may not be guaranteed.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you specify the <strong>ORDERED</strong> hint, all <strong>LEADING</strong> hint is ignored.
If you specify two or more <strong>LEADING</strong> hints, then only the first one is activated and all of them except the first are ignored.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ ORDERED LEADING(b, d) */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">a</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">b</span> <span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">b</span><span class="p">.</span><span class="n">col</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="k">c</span> <span class="k">ON</span> <span class="n">b</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="k">c</span><span class="p">.</span><span class="n">col</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">d</span> <span class="k">ON</span> <span class="k">c</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">d</span><span class="p">.</span><span class="n">col</span><span class="p">;</span>
</pre></div>
</div>
<p>If you run the above query, the <strong>LEADING</strong> hint is ignored, and tables a, b, c, and d are joined in the order of the <strong>FROM</strong> clause according to the <strong>ORDERED</strong> hint.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ LEADING(b, d) LEADING(c, d) */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">a</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">b</span> <span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">b</span><span class="p">.</span><span class="n">col</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="k">c</span> <span class="k">ON</span> <span class="n">b</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="k">c</span><span class="p">.</span><span class="n">col</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">d</span> <span class="k">ON</span> <span class="k">c</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">d</span><span class="p">.</span><span class="n">col</span><span class="p">;</span>
</pre></div>
</div>
<p class="last">If you run the above query, the second <strong>LEADING</strong> hint is ignored, and join order in which tables b and d are joined first is generated.</p>
</div>
<p>MERGE statement can have below hints.</p>
<ul class="simple">
<li><strong>USE_INSERT_IDX</strong> (&lt;<em>insert_index_list</em>&gt;): An index hint which is used in <strong>INSERT</strong> clause of <strong>MERGE</strong> statement. Lists index names to <em>insert_index_list</em> to use when executing <strong>INSERT</strong> clause. This hint is applied to  &lt;<em>join_condition</em>&gt; of <strong>MERGE</strong> statement.</li>
<li><strong>USE_UPDATE_IDX</strong> (&lt;<em>update_index_list</em>&gt;): An index hint which is used in <strong>UPDATE</strong> clause of <strong>MERGE</strong> statement. Lists index names to <em>update_index_list</em> to use when executing <strong>UPDATE</strong> clause. This hint is applied to &lt;<em>join_condition</em>&gt; and &lt;<em>update_condition</em>&gt; of <strong>MERGE</strong> statement.</li>
<li><strong>RECOMPILE</strong>: See the above <a class="reference internal" href="#recompile"><span class="std std-ref">RECOMPILE</span></a>.</li>
</ul>
<p>Table/view names to join can be specified to the joining hint; at this time, table/view names are separated by “,”.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ USE_NL(a, b) */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">a</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">b</span> <span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">col</span><span class="o">=</span><span class="n">b</span><span class="p">.</span><span class="n">col</span><span class="p">;</span>
</pre></div>
</div>
<p>The following example shows how to retrieve the years when <em>‘Sim Kwon Ho’</em> won medals and the types of medals. It can be expressed by the following query. The query optimizer creates a nested loop join execution plan that has the <em>athlete</em> table as an outer table and the <em>game</em> table as an inner table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt; ;plan_detail</span>

<span class="k">SELECT</span> <span class="cm">/*+ USE_NL ORDERED  */</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">medal</span>
<span class="k">FROM</span> <span class="n">athlete</span> <span class="n">a</span><span class="p">,</span> <span class="n">game</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Sim Kwon Ho&#39;</span> <span class="k">AND</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

<span class="n">idx</span><span class="o">-</span><span class="n">join</span> <span class="p">(</span><span class="n">inner</span> <span class="n">join</span><span class="p">)</span>
    <span class="n">outer</span><span class="p">:</span> <span class="n">sscan</span>
               <span class="n">class</span><span class="p">:</span> <span class="n">a</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
               <span class="n">sargs</span><span class="p">:</span> <span class="n">term</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
               <span class="n">cost</span><span class="p">:</span>  <span class="mi">44</span> <span class="n">card</span> <span class="mi">7</span>
    <span class="n">inner</span><span class="p">:</span> <span class="n">iscan</span>
               <span class="n">class</span><span class="p">:</span> <span class="n">b</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
               <span class="n">index</span><span class="p">:</span> <span class="n">fk_game_athlete_code</span> <span class="n">term</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
               <span class="n">cost</span><span class="p">:</span>  <span class="mi">3</span> <span class="n">card</span> <span class="mi">8653</span>
    <span class="n">cost</span><span class="p">:</span>  <span class="mi">73</span> <span class="n">card</span> <span class="mi">9</span>
</pre></div>
</div>
<p>The following example shows how to specify tables when using a <strong>USE_NL</strong> hint.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt; ;plan_detail</span>

<span class="k">SELECT</span> <span class="cm">/*+ USE_NL(a,b)  */</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">host_year</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">medal</span>
<span class="k">FROM</span> <span class="n">athlete</span> <span class="n">a</span><span class="p">,</span> <span class="n">game</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Sim Kwon Ho&#39;</span> <span class="k">AND</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="index-hint">
<span id="index-hint-syntax"></span><h1>Index Hint<a class="headerlink" href="#index-hint" title="Permalink to this headline">¶</a></h1>
<p>The index hint syntax allows the query processor to select a proper index by specifying the index in the query. You can specify the index hint by <strong>USING INDEX</strong> clause or by { <strong>USE</strong> | <strong>FORCE</strong> | <strong>IGNORE</strong> } <strong>INDEX</strong> syntax after “<strong>FROM</strong> table” clause.</p>
<div class="section" id="using-index">
<h2>USING INDEX<a class="headerlink" href="#using-index" title="Permalink to this headline">¶</a></h2>
<p><strong>USING INDEX</strong> clause should be specified after <strong>WHERE</strong> clause of <strong>SELECT</strong>, <strong>DELETE</strong> or <strong>UPDATE</strong> statement. <strong>USING INDEX</strong> clause forces a sequential/index scan to be used or an index that can improve the performance to be included.</p>
<p>If <strong>USING INDEX</strong> clause is specified with the list of index names, query optimizer creates optimized execution plan by calculating the query execution cost based on the specified indexes only and comparing the index scan cost and the sequential scan cost of the specified indexes(CUBRID performs cost-based query optimization to select an execution plan).</p>
<p>The <strong>USING INDEX</strong>  clause is useful to get the results in the desired order without <strong>ORDER BY</strong>. When index scan is performed by CUBRID, the results are created in the order they were saved in the index. When there are more than one indexes in one table, you can use <strong>USING INDEX</strong> to get the query results in a given order of indexes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="o">...</span> <span class="n">WHERE</span> <span class="o">...</span>
<span class="p">[</span><span class="n">USING</span> <span class="n">INDEX</span> <span class="p">{</span> <span class="n">NONE</span> <span class="o">|</span> <span class="p">[</span> <span class="n">ALL</span> <span class="n">EXCEPT</span> <span class="p">]</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">[</span> <span class="p">{,</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">}</span> <span class="o">...</span><span class="p">]</span> <span class="p">}</span> <span class="p">]</span> <span class="p">[</span> <span class="p">;</span> <span class="p">]</span>

<span class="n">DELETE</span> <span class="o">...</span> <span class="n">WHERE</span> <span class="o">...</span>
<span class="p">[</span><span class="n">USING</span> <span class="n">INDEX</span> <span class="p">{</span> <span class="n">NONE</span> <span class="o">|</span> <span class="p">[</span> <span class="n">ALL</span> <span class="n">EXCEPT</span> <span class="p">]</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">[</span> <span class="p">{,</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">}</span> <span class="o">...</span><span class="p">]</span> <span class="p">}</span> <span class="p">]</span> <span class="p">[</span> <span class="p">;</span> <span class="p">]</span>

<span class="n">UPDATE</span> <span class="o">...</span> <span class="n">WHERE</span> <span class="o">...</span>
<span class="p">[</span><span class="n">USING</span> <span class="n">INDEX</span> <span class="p">{</span> <span class="n">NONE</span> <span class="o">|</span> <span class="p">[</span> <span class="n">ALL</span> <span class="n">EXCEPT</span> <span class="p">]</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">[</span> <span class="p">{,</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">}</span> <span class="o">...</span><span class="p">]</span> <span class="p">}</span> <span class="p">]</span> <span class="p">[</span> <span class="p">;</span> <span class="p">]</span>

<span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span>
  <span class="p">[</span><span class="n">table_spec</span><span class="o">.</span><span class="p">]</span><span class="n">index_name</span> <span class="p">[(</span><span class="o">+</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="o">-</span><span class="p">)]</span> <span class="o">|</span>
  <span class="n">table_spec</span><span class="o">.</span><span class="n">NONE</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>NONE</strong>: If <strong>NONE</strong> is specified,  a sequential scan is used on all tables.</li>
<li><strong>ALL EXCEPT</strong>: All indexes except the specified indexes can be used when the query is executed.</li>
<li><em>index_name</em>(+): If (+) is specified after the index_name, it is the first priority in index selection. IF this index is not proper to run the query, it is not selected.</li>
<li><em>index_name</em>(-): If (-) is specified after the index_name, it is excluded from index selection.</li>
<li><em>table_spec</em>.<strong>NONE</strong>: All indexes are excluded from the selection, so sequential scan is used.</li>
</ul>
</div>
<div class="section" id="use-force-ignore-index">
<h2>USE, FORCE, IGNORE INDEX<a class="headerlink" href="#use-force-ignore-index" title="Permalink to this headline">¶</a></h2>
<p>Index hints can be specified through <strong>USE</strong>, <strong>FORCE</strong>, <strong>IGNORE INDEX</strong> syntax after table specification of <strong>FROM</strong> clause.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FROM</span> <span class="n">table_spec</span> <span class="p">[</span> <span class="o">&lt;</span><span class="n">index_hint_clause</span><span class="o">&gt;</span> <span class="p">]</span> <span class="o">...</span>

<span class="o">&lt;</span><span class="n">index_hint_clause</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span>
  <span class="p">{</span> <span class="n">USE</span> <span class="o">|</span> <span class="n">FORCE</span> <span class="o">|</span> <span class="n">IGNORE</span> <span class="p">}</span> <span class="n">INDEX</span>  <span class="p">(</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span>  <span class="o">...</span><span class="p">]</span> <span class="p">)</span>

<span class="o">&lt;</span><span class="n">index_spec</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span>
  <span class="p">[</span><span class="n">table_spec</span><span class="o">.</span><span class="p">]</span><span class="n">index_name</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>USE INDEX</strong> ( &lt;<em>index_spec</em>&gt; ): Only specified indexes are considered when choose them.</li>
<li><strong>FORCE INDEX</strong> ( &lt;<em>index_spec</em>&gt; ): Specified indexes are chosen as the first priority.</li>
<li><strong>IGNORE INDEX</strong> ( &lt;<em>index_spec</em>&gt; ): Specified indexes are excluded from the choice.</li>
</ul>
<p><strong>USE</strong>, <strong>FORCE</strong>, <strong>IGNORE</strong> <strong>INDEX</strong> syntax is automatically rewritten as the proper <strong>USING INDEX</strong> syntax by the system.</p>
</div>
<div class="section" id="examples-of-index-hint">
<h2>Examples of index hint<a class="headerlink" href="#examples-of-index-hint" title="Permalink to this headline">¶</a></h2>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">athlete2</span> <span class="p">(</span>
   <span class="n">code</span>             <span class="nb">SMALLINT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
   <span class="n">name</span>             <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
   <span class="n">gender</span>           <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
   <span class="n">nation_code</span>      <span class="nb">CHAR</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
   <span class="n">event</span>            <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">);</span>
<span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">athlete2_idx1</span> <span class="k">ON</span> <span class="n">athlete2</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">athlete2_idx2</span> <span class="k">ON</span> <span class="n">athlete2</span> <span class="p">(</span><span class="n">gender</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">);</span>
</pre></div>
</div>
<p>Below two queries do the same behavior and they select index scan if the specified index, <em>athlete2_idx2</em>’s scan cost is lower than sequential scan cost.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span> <span class="n">USE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">athlete2_idx2</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">athlete2_idx2</span><span class="p">;</span>
</pre></div>
</div>
<p>Below two queries do the same behavior and they always use <em>athlete2_idx2</em></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span> <span class="k">FORCE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">athlete2_idx2</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">athlete2_idx2</span><span class="p">(</span><span class="o">+</span><span class="p">);</span>
</pre></div>
</div>
<p>Below two queries do the same behavior and they always don’t use <em>athlete2_idx2</em></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span> <span class="k">IGNORE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">athlete2_idx2</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">athlete2_idx2</span><span class="p">(</span><span class="o">-</span><span class="p">);</span>
</pre></div>
</div>
<p>Below query always do the sequential scan.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="k">NONE</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">athlete2</span><span class="p">.</span><span class="k">NONE</span><span class="p">;</span>
</pre></div>
</div>
<p>Below query forces to be possible to use all indexes except <em>athlete2_idx2</em> index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="k">ALL</span> <span class="k">EXCEPT</span> <span class="n">athlete2_idx2</span><span class="p">;</span>
</pre></div>
</div>
<p>When two or more indexes have been specified in the <strong>USING INDEX</strong> clause, the query optimizer selects the proper one of the specified indexes.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span> <span class="n">USE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">athlete2_idx2</span><span class="p">,</span> <span class="n">athlete2_idx1</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete2</span>
<span class="k">WHERE</span> <span class="n">gender</span><span class="o">=</span><span class="s1">&#39;M&#39;</span> <span class="k">AND</span> <span class="n">nation_code</span><span class="o">=</span><span class="s1">&#39;USA&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">athlete2_idx2</span><span class="p">,</span> <span class="n">athlete2_idx1</span><span class="p">;</span>
</pre></div>
</div>
<p>When a query is run for several tables, you can specify a table to perform index scan by using a specific index and another table to perform sequential scan. The query has the following format.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab1</span><span class="p">,</span> <span class="n">tab2</span>
<span class="k">WHERE</span> <span class="p">...</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">tab1</span><span class="p">.</span><span class="n">idx1</span><span class="p">,</span> <span class="n">tab2</span><span class="p">.</span><span class="k">NONE</span><span class="p">;</span>
</pre></div>
</div>
<p>When executing a query with the index hint syntax, the query optimizer considers all available indexes on the table for which no index has been specified. For example, when the <em>tab1</em> table includes <em>idx1</em> and <em>idx2</em> and the <em>tab2</em> table includes <em>idx3</em>, <em>idx4</em>, and <em>idx5</em>, if indexes for only <em>tab1</em> are specified but no indexes are specified for <em>tab2</em>, the query optimizer considers the indexes of <em>tab2</em>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="p">...</span>
<span class="k">FROM</span> <span class="n">tab1</span><span class="p">,</span> <span class="n">tab2</span> <span class="n">USE</span> <span class="k">INDEX</span><span class="p">(</span><span class="n">tab1</span><span class="p">.</span><span class="n">idx1</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="p">...</span> <span class="p">;</span>

<span class="k">SELECT</span> <span class="p">...</span>
<span class="k">FROM</span> <span class="n">tab1</span><span class="p">,</span> <span class="n">tab2</span>
<span class="k">WHERE</span> <span class="p">...</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">tab1</span><span class="p">.</span><span class="n">idx1</span><span class="p">;</span>
</pre></div>
</div>
<p>The above query select the scan method of table <em>tab1</em> after comparing the cost between the sequential scan of the table <em>tab1</em> and the index scan of the index <em>idx1</em>, and select the scan method of table <em>tab2</em> after comparing the cost between the sequential scan of the table <em>tab2</em> and the index scan of the indexes <em>idx3</em>, <em>idx4</em>, <em>idx5</em>.</p>
</div>
</div>
<div class="section" id="special-indexes">
<h1>Special Indexes<a class="headerlink" href="#special-indexes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="filtered-index">
<span id="id3"></span><h2>Filtered Index<a class="headerlink" href="#filtered-index" title="Permalink to this headline">¶</a></h2>
<p>The filtered index is used to sort, search, or operate a well-defined partials set for one table. It is called the partial index since only some data that satisfy the condition are kept in that index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="o">/*+</span> <span class="n">hints</span> <span class="o">*/</span> <span class="n">INDEX</span> <span class="n">index_name</span>
<span class="n">ON</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">table_name</span> <span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">WHERE</span> <span class="o">&lt;</span><span class="n">filter_predicate</span><span class="o">&gt;</span><span class="p">;</span>

<span class="n">ALTER</span>  <span class="o">/*+</span> <span class="n">hints</span> <span class="o">*/</span> <span class="n">INDEX</span> <span class="n">index_name</span>
<span class="p">[</span> <span class="n">ON</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">table_name</span> <span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="p">[</span> <span class="n">WHERE</span> <span class="o">&lt;</span><span class="n">filter_predicate</span><span class="o">&gt;</span> <span class="p">]</span> <span class="p">]</span>
<span class="n">REBUILD</span><span class="p">;</span>

<span class="o">&lt;</span><span class="n">filter_predicate</span><span class="o">&gt;</span> <span class="p">:</span><span class="o">:=</span> <span class="o">&lt;</span><span class="n">filter_predicate</span><span class="o">&gt;</span> <span class="n">AND</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>&lt;<em>filter_predicate</em>&gt;: Condition to compare the column and the constant. When there are several conditions, filtering is available only when they are connected by using <strong>AND</strong>. The filter conditions can include most of the operators and functions supported by CUBRID. However, the date/time function that shows the current date/time (ex: <code class="xref py py-func docutils literal notranslate"><span class="pre">SYS_DATETIME()</span></code>) or random functions (ex: <a class="reference internal" href="function/numeric_fn.html#RAND" title="RAND"><code class="xref py py-func docutils literal notranslate"><span class="pre">RAND()</span></code></a>), which outputs different results for one input are not allowed.</li>
</ul>
<p>If you want to apply the filtered index, that filtered index must be specified by <strong>USE INDEX</strong> syntax or <strong>FORCE INDEX</strong> syntax.</p>
<ul>
<li><p class="first">When a filtered index is specified by <strong>USING INDEX</strong> clause or <strong>USE INDEX</strong> syntax:</p>
<p>If columns of which the index consists are not included on the conditions of <strong>WHERE</strong> clause, the filtered index is not used.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">blogtopic</span>
<span class="p">(</span>
    <span class="n">blogID</span> <span class="nb">BIGINT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">title</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">128</span><span class="p">),</span>
    <span class="n">author</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">128</span><span class="p">),</span>
    <span class="n">content</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">8096</span><span class="p">),</span>
    <span class="n">postDate</span> <span class="k">TIMESTAMP</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">deleted</span> <span class="nb">SMALLINT</span> <span class="k">DEFAULT</span> <span class="mi">0</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">my_filter_index</span> <span class="k">ON</span> <span class="n">blogtopic</span><span class="p">(</span><span class="n">postDate</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">deleted</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>On the below query, <em>postDate</em>, a column of which <em>my_filter_index</em> consists, is included on the conditions of <strong>WHERE</strong> condition. Therefore, this index can be used by <strong>USE INDEX</strong> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">blogtopic</span> <span class="n">USE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">my_filter_index</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">postDate</span><span class="o">&gt;</span><span class="s1">&#39;2010-01-01&#39;</span> <span class="k">AND</span> <span class="n">deleted</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p class="first">When a filtered index is specified by <strong>USING INDEX</strong> &lt;index_name&gt;(+) clause or <strong>FORCE INDEX</strong> syntax:</p>
<p>Even if a column of which the index consists is not included on the condition of <strong>WHERE</strong> clause, the filtered index is used.</p>
<p>On the below query, <em>my_filter_index</em> cannot be used by <strong>“USE INDEX”</strong> syntax because a column of which <em>my_filter_index</em> consists is not included on the <strong>WHERE</strong> condition.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">blogtopic</span> <span class="n">USE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">my_filter_index</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">author</span> <span class="o">=</span> <span class="s1">&#39;David&#39;</span> <span class="k">AND</span> <span class="n">deleted</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>Therefore, to use <em>my_filter_index</em>, it should be forced by <strong>“FORCE INDEX”</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">blogtopic</span> <span class="k">FORCE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">my_filter_index</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">author</span> <span class="o">=</span> <span class="s1">&#39;David&#39;</span> <span class="k">AND</span> <span class="n">deleted</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
<p>The following example shows a bug tracking system that maintains bugs/issues. After a specified period of development, the bugs table records bugs. Most of the bugs have already been closed. The bug tracking system makes queries on the table to find new open bugs. In this case, the indexes on the bug table do not need to know the records on closed bugs. Then the filtered indexes allow indexing of open bugs only.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">bugs</span>
<span class="p">(</span>
    <span class="n">bugID</span> <span class="nb">BIGINT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">CreationDate</span> <span class="k">TIMESTAMP</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">Author</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
    <span class="n">Subject</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
    <span class="n">Description</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
    <span class="n">CurrentStatus</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="n">Closed</span> <span class="nb">SMALLINT</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Indexes for open bugs can be created by using the following sentence:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_open_bugs</span> <span class="k">ON</span> <span class="n">bugs</span><span class="p">(</span><span class="n">bugID</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">Closed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>To process queries that are interested in open bugs, specify the index as an index hint. It will allow creating query results by accessing less index pages through filtered indexes.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">bugs</span>
<span class="k">WHERE</span> <span class="n">Author</span> <span class="o">=</span> <span class="s1">&#39;madden&#39;</span> <span class="k">AND</span> <span class="n">Subject</span> <span class="k">LIKE</span> <span class="s1">&#39;%fopen%&#39;</span> <span class="k">AND</span> <span class="n">Closed</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">idx_open_bugs</span><span class="p">(</span><span class="o">+</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">bugs</span> <span class="k">FORCE</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">idx_open_bugs</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">CreationDate</span> <span class="o">&gt;</span> <span class="k">CURRENT_DATE</span> <span class="o">-</span> <span class="mi">10</span> <span class="k">AND</span> <span class="n">Closed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>On the above example, if you use “<strong>USING INDEX</strong> <em>idx_open_bugs</em>” or “<strong>USE INDEX</strong> (<em>idx_open_bugs</em>)”, a query is processed without using the <em>idx_open_bugs</em> index.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you execute queries by specifying indexes with index hint syntax even though the conditions of creating filtered indexes does not match the query conditions, CUBRID performs a query by choosing a specified index. Therefore, query results can be different with the given searching conditions.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Constraints</strong></p>
<p>Only generic indexes are allowed as filtered indexes. For example, the filtered unique index is not allowed. Also, it is not allowed that columns which compose an index are all NULLable.
For example, below is not allowed because Author is NULLable.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_open_bugs</span> <span class="k">ON</span> <span class="n">bugs</span> <span class="p">(</span><span class="n">Author</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">Closed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="n">Invalid</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="p">(</span><span class="n">bugs</span><span class="o">.</span><span class="n">Closed</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
<p>However, below is allowed because Author is NULLable, but CreationDate is not NULLable.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_open_bugs</span> <span class="k">ON</span> <span class="n">bugs</span> <span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="n">CreationDate</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">Closed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>The following cases are not allowed as filtering conditions.</p>
<ul class="last">
<li><p class="first">Functions, which output different results with the same input, such as date/time function or random function</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">bugs</span><span class="p">(</span><span class="n">creationdate</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">creationdate</span> <span class="o">&gt;</span> <span class="n">SYS_DATETIME</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="s1">&#39;sys_datetime &#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">allowed</span> <span class="ow">in</span> <span class="n">a</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">bugs</span><span class="p">(</span><span class="n">bugID</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">bugID</span> <span class="o">&gt;</span> <span class="n">RAND</span><span class="p">();</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="s1">&#39;rand &#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">allowed</span> <span class="ow">in</span> <span class="n">a</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p class="first">In case of using the <strong>OR</strong> operator</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX</span> <span class="k">ON</span> <span class="n">bugs</span> <span class="p">(</span><span class="n">bugID</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">bugID</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">OR</span> <span class="n">bugID</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="s1">&#39; or &#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">allowed</span> <span class="ow">in</span> <span class="n">a</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p class="first">In case of including functions like <a class="reference internal" href="function/clickcounter_fn.html#INCR" title="INCR"><code class="xref py py-func docutils literal notranslate"><span class="pre">INCR()</span></code></a>, <a class="reference internal" href="function/clickcounter_fn.html#DECR" title="DECR"><code class="xref py py-func docutils literal notranslate"><span class="pre">DECR()</span></code></a> functions, which modify the data of a table.</p>
</li>
<li><p class="first">In case of Serial-related functions and including pseudo columns.</p>
</li>
<li><p class="first">In case of including aggregate functions such as <a class="reference internal" href="function/analysis_fn.html#MIN" title="MIN"><code class="xref py py-func docutils literal notranslate"><span class="pre">MIN()</span></code></a>, <a class="reference internal" href="function/analysis_fn.html#MAX" title="MAX"><code class="xref py py-func docutils literal notranslate"><span class="pre">MAX()</span></code></a>, <a class="reference internal" href="function/analysis_fn.html#STDDEV" title="STDDEV"><code class="xref py py-func docutils literal notranslate"><span class="pre">STDDEV()</span></code></a></p>
</li>
<li><p class="first">In case of using the types where indexes cannot be created</p>
<ul class="simple">
<li>The operators and functions where an argument is the <strong>SET</strong> type</li>
<li>The functions to use LOB file(<a class="reference internal" href="function/lob_fn.html#CHAR_TO_BLOB" title="CHAR_TO_BLOB"><code class="xref py py-func docutils literal notranslate"><span class="pre">CHAR_TO_BLOB()</span></code></a>, <a class="reference internal" href="function/lob_fn.html#CHAR_TO_CLOB" title="CHAR_TO_CLOB"><code class="xref py py-func docutils literal notranslate"><span class="pre">CHAR_TO_CLOB()</span></code></a>, <a class="reference internal" href="function/lob_fn.html#BIT_TO_BLOB" title="BIT_TO_BLOB"><code class="xref py py-func docutils literal notranslate"><span class="pre">BIT_TO_BLOB()</span></code></a>, <a class="reference internal" href="function/lob_fn.html#BLOB_FROM_FILE" title="BLOB_FROM_FILE"><code class="xref py py-func docutils literal notranslate"><span class="pre">BLOB_FROM_FILE()</span></code></a>, <a class="reference internal" href="function/lob_fn.html#CLOB_FROM_FILE" title="CLOB_FROM_FILE"><code class="xref py py-func docutils literal notranslate"><span class="pre">CLOB_FROM_FILE()</span></code></a>)</li>
</ul>
</li>
<li><p class="first">The <strong>IS NULL</strong> operator can be used only when at least one column of an index is not <strong>NULL</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">);</span>

<span class="c1">-- IS NULL cannot be used with expressions</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">WHERE</span> <span class="p">(</span><span class="k">not</span> <span class="n">a</span><span class="p">)</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="n">Invalid</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="p">((</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">a</span><span class="o">&lt;&gt;</span><span class="mi">0</span><span class="p">)</span> <span class="ow">is</span> <span class="n">null</span> <span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">WHERE</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="n">Invalid</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="p">((</span><span class="n">t</span><span class="o">.</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="n">null</span> <span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- At least one attribute must not be used with IS NULL</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">t</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">a</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39;  ; &#39;</span>
<span class="n">Invalid</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">a</span> <span class="ow">is</span> <span class="n">null</span> <span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">t</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">a</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">and</span> <span class="n">b</span> <span class="k">IS</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="n">Invalid</span> <span class="nb">filter</span> <span class="n">expression</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">a</span> <span class="ow">is</span> <span class="n">null</span>  <span class="ow">and</span> <span class="n">t</span><span class="o">.</span><span class="n">b</span> <span class="ow">is</span> <span class="n">null</span> <span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">t</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">a</span> <span class="k">IS</span> <span class="k">NULL</span> <span class="k">and</span> <span class="n">b</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p class="first">Index Skip Scan (ISS) is not allowed for the filtered indexes.</p>
</li>
<li><p class="first">The length of condition string used for the filtered index is limited to 128 characters.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span><span class="p">(</span><span class="n">VeryLongColumnNameOfTypeInteger</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">t</span><span class="p">(</span><span class="n">VeryLongColumnNameOfTypeInteger</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">VeryLongColumnNameOfTypeInteger</span> <span class="o">&gt;</span> <span class="mi">3</span> <span class="k">AND</span> <span class="n">VeryLongColumnNameOfTypeInteger</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="k">AND</span>
<span class="n">SQRT</span><span class="p">(</span><span class="n">VeryLongColumnNameOfTypeInteger</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="k">AND</span> <span class="n">SQRT</span><span class="p">(</span><span class="n">VeryLongColumnNameOfTypeInteger</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">before</span> <span class="s1">&#39; ; &#39;</span>
<span class="n">The</span> <span class="n">maximum</span> <span class="n">length</span> <span class="n">of</span> <span class="nb">filter</span> <span class="n">predicate</span> <span class="n">string</span> <span class="n">must</span> <span class="n">be</span> <span class="mf">128.</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="function-based-index">
<span id="function-index"></span><h2>Function-based Index<a class="headerlink" href="#function-based-index" title="Permalink to this headline">¶</a></h2>
<p>Function-based index is used to sort or find the data based on the combination of values of table rows by using a specific function. For example, to find the space-ignored string, it can be used to optimize the query by using the function that provides the feature. In addition, it is useful to search the non-case-sensitive names.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="o">/*+</span> <span class="n">hints</span> <span class="o">*/</span> <span class="n">INDEX</span> <span class="n">index_name</span>
<span class="n">ON</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">table_name</span> <span class="p">(</span><span class="n">function_name</span> <span class="p">(</span><span class="n">argument_list</span><span class="p">));</span>

<span class="n">ALTER</span> <span class="o">/*+</span> <span class="n">hints</span> <span class="o">*/</span> <span class="n">INDEX</span> <span class="n">index_name</span>
<span class="p">[</span> <span class="n">ON</span> <span class="p">[</span><span class="n">schema_name</span><span class="o">.</span><span class="p">]</span><span class="n">table_name</span> <span class="p">(</span><span class="n">function_name</span> <span class="p">(</span><span class="n">argument_list</span><span class="p">))</span> <span class="p">]</span>
<span class="n">REBUILD</span><span class="p">;</span>
</pre></div>
</div>
<p>After the following indexes have been created, the <strong>SELECT</strong> query automatically uses the function-based index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_trim_post</span> <span class="k">ON</span> <span class="n">posts_table</span><span class="p">(</span><span class="k">TRIM</span><span class="p">(</span><span class="n">keyword</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">posts_table</span>
<span class="k">WHERE</span> <span class="k">TRIM</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;SQL&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>If a function-based index is created by using the <strong>LOWER</strong> function, it can be used to search the non-case-sensitive names.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_last_name_lower</span> <span class="k">ON</span> <span class="n">clients_table</span><span class="p">(</span><span class="k">LOWER</span><span class="p">(</span><span class="n">LastName</span><span class="p">));</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">clients_table</span>
<span class="k">WHERE</span> <span class="k">LOWER</span><span class="p">(</span><span class="n">LastName</span><span class="p">)</span> <span class="o">=</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">&#39;Timothy&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>To make an index selected while creating a query plan, the function used for the index should be used for the query condition in the same way. The <strong>SELECT</strong> query above uses the last_name_lower index created above. However, this index is not used for the following condition:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">clients_table</span>
<span class="k">WHERE</span> <span class="k">LOWER</span><span class="p">(</span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;Mr. &#39;</span><span class="p">,</span> <span class="n">LastName</span><span class="p">))</span> <span class="o">=</span> <span class="k">LOWER</span><span class="p">(</span><span class="s1">&#39;Mr. Timothy&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>In addition, to make the function-based index used by force, use the <strong>USING INDEX</strong> syntax.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_tbl_first_four</span> <span class="k">ON</span> <span class="n">tbl</span><span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">clients_table</span>
<span class="k">WHERE</span> <span class="k">LEFT</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;CAT5&#39;</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">i_tbl_first_four</span><span class="p">;</span>
</pre></div>
</div>
<p id="allowed-function-in-function-index">Functions with the function-based indexes are as follows:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ABS</td>
<td>ACOS</td>
<td>ADD_MONTHS</td>
<td>ADDDATE</td>
<td>ASIN</td>
</tr>
<tr class="row-even"><td>ATAN</td>
<td>ATAN2</td>
<td>BIT_COUNT</td>
<td>BIT_LENGTH</td>
<td>CEIL</td>
</tr>
<tr class="row-odd"><td>CHAR_LENGTH</td>
<td>CHR</td>
<td>COS</td>
<td>COT</td>
<td>DATE</td>
</tr>
<tr class="row-even"><td>DATE_ADD</td>
<td>DATE_FORMAT</td>
<td>DATE_SUB</td>
<td>DATEDIFF</td>
<td>DAY</td>
</tr>
<tr class="row-odd"><td>DAYOFMONTH</td>
<td>DAYOFWEEK</td>
<td>DAYOFYEAR</td>
<td>DEGREES</td>
<td>EXP</td>
</tr>
<tr class="row-even"><td>FLOOR</td>
<td>FORMAT</td>
<td>FROM_DAYS</td>
<td>FROM_UNIXTIME</td>
<td>GREATEST</td>
</tr>
<tr class="row-odd"><td>HOUR</td>
<td>IFNULL</td>
<td>INET_ATON</td>
<td>INET_NTOA</td>
<td>INSTR</td>
</tr>
<tr class="row-even"><td>LAST_DAY</td>
<td>LEAST</td>
<td>LEFT</td>
<td>LN</td>
<td>LOCATE</td>
</tr>
<tr class="row-odd"><td>LOG</td>
<td>LOG10</td>
<td>LOG2</td>
<td>LOWER</td>
<td>LPAD</td>
</tr>
<tr class="row-even"><td>LTRIM</td>
<td>MAKEDATE</td>
<td>MAKETIME</td>
<td>MD5</td>
<td>MID</td>
</tr>
<tr class="row-odd"><td>MINUTE</td>
<td>MOD</td>
<td>MONTH</td>
<td>MONTHS_BETWEEN</td>
<td>NULLIF</td>
</tr>
<tr class="row-even"><td>NVL</td>
<td>NVL2</td>
<td>OCTET_LENGTH</td>
<td>POSITION</td>
<td>POWER</td>
</tr>
<tr class="row-odd"><td>QUARTER</td>
<td>RADIANS</td>
<td>REPEAT</td>
<td>REPLACE</td>
<td>REVERSE</td>
</tr>
<tr class="row-even"><td>RIGHT</td>
<td>ROUND</td>
<td>RPAD</td>
<td>RTRIM</td>
<td>SECOND</td>
</tr>
<tr class="row-odd"><td>SECTOTIME</td>
<td>SIN</td>
<td>SQRT</td>
<td>STR_TO_DATE</td>
<td>STRCMP</td>
</tr>
<tr class="row-even"><td>SUBDATE</td>
<td>SUBSTR</td>
<td>SUBSTRING</td>
<td>SUBSTRING_INDEX</td>
<td>TAN</td>
</tr>
<tr class="row-odd"><td>TIME</td>
<td>TIME_FORMAT</td>
<td>TIMEDIFF</td>
<td>TIMESTAMP</td>
<td>TIMETOSEC</td>
</tr>
<tr class="row-even"><td>TO_CHAR</td>
<td>TO_DATE</td>
<td>TO_DATETIME</td>
<td>TO_DAYS</td>
<td>TO_NUMBER</td>
</tr>
<tr class="row-odd"><td>TO_TIME</td>
<td>TO_TIMESTAMP</td>
<td>TRANSLATE</td>
<td>TRIM</td>
<td>TRUNC</td>
</tr>
<tr class="row-even"><td>UNIX_TIMESTAMP</td>
<td>UPPER</td>
<td>WEEK</td>
<td>WEEKDAY</td>
<td>YEAR</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Arguments of functions which can be used in the function-based indexes, only column names and constants are allowed; nested expressions are not allowed. For example, a statement below will cause an error.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">my_idx</span> <span class="k">ON</span> <span class="n">tbl</span> <span class="p">(</span><span class="k">TRIM</span><span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mi">3</span><span class="p">)));</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">my_idx</span> <span class="k">ON</span> <span class="n">tbl</span> <span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">));</span>
</pre></div>
</div>
<p>However, implicit cast is allowed. In the example below, the first argument type of the <strong>LEFT</strong> () function should be <strong>VARCHAR</strong> and the second argument type should be <strong>INTEGER</strong>; it works normally.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">my_idx</span> <span class="k">ON</span> <span class="n">tbl</span> <span class="p">(</span><span class="k">LEFT</span><span class="p">(</span><span class="n">int_col</span><span class="p">,</span> <span class="n">str_col</span><span class="p">));</span>
</pre></div>
</div>
<p>Function-based indexes cannot be used with filtered indexes. The example will cause an error.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">my_idx</span> <span class="k">ON</span> <span class="n">tbl</span> <span class="p">(</span><span class="k">TRIM</span><span class="p">(</span><span class="n">col</span><span class="p">))</span> <span class="k">WHERE</span> <span class="n">col</span> <span class="o">&gt;</span> <span class="s1">&#39;SQL&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Function-based indexes cannot become multiple-columns indexes. The example will cause an error.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">my_idx</span> <span class="k">ON</span> <span class="n">tbl</span> <span class="p">(</span><span class="k">TRIM</span><span class="p">(</span><span class="n">col1</span><span class="p">),</span> <span class="n">col2</span><span class="p">,</span> <span class="k">LEFT</span><span class="p">(</span><span class="n">col3</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="optimization-using-indexes">
<span id="tuning-index"></span><h1>Optimization Using Indexes<a class="headerlink" href="#optimization-using-indexes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="covering-index">
<span id="id4"></span><h2>Covering Index<a class="headerlink" href="#covering-index" title="Permalink to this headline">¶</a></h2>
<p>The covering index is the index including the data of all columns in the <strong>SELECT</strong> list and the <strong>WHERE</strong>, <strong>HAVING</strong>, <strong>GROUP BY</strong>, and <strong>ORDER BY</strong> clauses.</p>
<p>You only need to scan the index pages, as the covering index contains all the data necessary for executing a query, and it also reduces the I/O costs as it is not necessary to scan the data storage any further. To increase data search speed, you can consider creating a covering index but you should be aware that the <strong>INSERT</strong> and the <strong>DELETE</strong> processes may be slowed down due to the increase in index size.</p>
<p>The rules about the applicability of the covering index are as follows:</p>
<ul class="simple">
<li>If the covering index is applicable, you should use the CUBRID query optimizer first.</li>
<li>For the join query, if the index includes columns of the table in the <strong>SELECT</strong> list, use this index.</li>
<li>You cannot use the covering index if an index cannot be used.</li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">col1</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">col2</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">col3</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_t_col1_col2_col3</span> <span class="k">ON</span> <span class="n">t</span> <span class="p">(</span><span class="n">col1</span><span class="p">,</span><span class="n">col2</span><span class="p">,</span><span class="n">col3</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">);</span>
</pre></div>
</div>
<p>The following example shows that the index is used as a covering index because columns of both <strong>SELECT</strong> and <strong>WHERE</strong> condition exist within the index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt; ;plan simple</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">col1</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
 <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">t</span> <span class="n">t</span><span class="p">,</span> <span class="n">i_t_col1_col2_col3</span><span class="p">,</span> <span class="p">[(</span><span class="n">t</span><span class="o">.</span><span class="n">col1</span> <span class="nb">range</span> <span class="p">(</span><span class="nb">min</span> <span class="n">inf_lt</span> <span class="n">t</span><span class="o">.</span><span class="n">col3</span><span class="p">))]</span> <span class="p">(</span><span class="n">covers</span><span class="p">))</span>

         <span class="n">col1</span>         <span class="n">col2</span>         <span class="n">col3</span>
<span class="o">=======================================</span>
            <span class="mi">1</span>            <span class="mi">2</span>            <span class="mi">3</span>
            <span class="mi">4</span>            <span class="mi">5</span>            <span class="mi">6</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>If the covering index is applied when you get the values from the <strong>VARCHAR</strong> type column, the empty strings that follow will be truncated. If the covering index is applied to the execution of query optimization, the resulting query value will be retrieved. This is because the value will be stored in the index with the empty string being truncated.</p>
<p>If you don’t want this, use the <strong>NO_COVERING_IDX</strong> hint, which does not use the covering index function. If you use the hint, you can get the result value from the data area rather than from the index area.</p>
<p>The following is a detailed example of the above situation. First, create a table with columns in <strong>VARCHAR</strong> types, and then <strong>INSERT</strong> the value with the same start character string value but the number of empty characters. Next, create an index in the column.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab</span><span class="p">(</span><span class="k">c</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">32</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tab</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">),(</span><span class="s1">&#39;abcd    &#39;</span><span class="p">),(</span><span class="s1">&#39;abcd &#39;</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_tab_c</span> <span class="k">ON</span> <span class="n">tab</span><span class="p">(</span><span class="k">c</span><span class="p">);</span>
</pre></div>
</div>
<p>If you must use the index (the covering index applied), the query result is as follows:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tab</span> <span class="k">WHERE</span> <span class="k">c</span><span class="o">=</span><span class="s1">&#39;abcd    &#39;</span> <span class="k">USING</span> <span class="k">INDEX</span> <span class="n">i_tab_c</span><span class="p">(</span><span class="o">+</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
 <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">tab</span> <span class="n">tab</span><span class="p">,</span> <span class="n">i_tab_c</span><span class="p">,</span> <span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;abcd    &#39;</span><span class="p">)</span> <span class="p">(</span><span class="n">covers</span><span class="p">))</span>

 <span class="n">c</span>
<span class="o">======================</span>
<span class="s1">&#39;abcd&#39;</span>
<span class="s1">&#39;abcd&#39;</span>
<span class="s1">&#39;abcd&#39;</span>
</pre></div>
</div>
<p>The following is the query result when you don’t use the index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tab</span> <span class="k">WHERE</span> <span class="k">c</span><span class="o">=</span><span class="s1">&#39;abcd    &#39;</span> <span class="k">USING</span> <span class="k">INDEX</span> <span class="n">tab</span><span class="p">.</span><span class="k">NONE</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
 <span class="n">Sequential</span> <span class="n">scan</span><span class="p">(</span><span class="n">tab</span> <span class="n">tab</span><span class="p">)</span>

 <span class="n">c</span>
<span class="o">======================</span>
<span class="s1">&#39;abcd&#39;</span>
<span class="s1">&#39;abcd    &#39;</span>
<span class="s1">&#39;abcd &#39;</span>
</pre></div>
</div>
<p class="last">As you can see in the above comparison result, the value in the <strong>VARCHAR</strong> type retrieved from the index will appear with the following empty string truncated when the covering index has been applied.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If covering index optimization is available to be applied, the I/O performance can be improved because the disk I/O is decreased. But if you don’t want covering index optimization in a special condition, specify a <strong>NO_COVERING_IDX</strong> hint to the query. For how to add a query, see <a class="reference internal" href="#sql-hint"><span class="std std-ref">Using SQL Hint</span></a>.</p>
</div>
</div>
<div class="section" id="optimizing-order-by-clause">
<span id="order-by-skip-optimization"></span><h2>Optimizing ORDER BY Clause<a class="headerlink" href="#optimizing-order-by-clause" title="Permalink to this headline">¶</a></h2>
<p>The index including all columns in the <strong>ORDER BY</strong> clause is referred to as the ordered index. Optimizing the query with <strong>ORDER BY</strong> clause is no need for the additional sorting process(skip order by), because the query results are searched by the ordered index. In general, for an ordered index, the columns in the <strong>ORDER BY</strong> clause should be located at the front of the index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">col1</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li>The index consisting of <em>tab</em> (<em>col1</em>, <em>col2</em>) is an ordered index.</li>
<li>The index consisting of <em>tab</em> (<em>col1</em>, <em>col2</em>, <em>col3</em>) is also an ordered index. This is because the <em>col3</em>, which is not referred to by the <strong>ORDER BY</strong> clause, comes after <em>col1</em> and <em>col2</em> .</li>
<li>The index consisting of <em>tab</em> (<em>col1</em>) is not an ordered index.</li>
<li>You can use the index consisting of <em>tab</em> (<em>col3</em>, <em>col1</em>, <em>col2</em>) or <em>tab</em> (<em>col1</em>, <em>col3</em>, <em>col2</em>) for optimization. This is because <em>col3</em> is not located at the back of the columns in the <strong>ORDER BY</strong> clause.</li>
</ul>
<p>Although the columns composing an index do not exist in the <strong>ORDER BY</strong> clause, you can use an ordered index if the column condition is a constant.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">col2</span><span class="o">=</span><span class="n">val</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">col1</span><span class="p">,</span><span class="n">col3</span><span class="p">;</span>
</pre></div>
</div>
<p>If the index consisting of <em>tab</em> (<em>col1</em>, <em>col2</em>, <em>col3</em>) exists and the index consisting of <em>tab</em> (<em>col1</em>, <em>col2</em>) do not exist when executing the above query, the query optimizer uses the index consisting of <em>tab</em> (<em>col1</em>, <em>col2</em>, <em>col3</em>) as an ordered index. You can get the result in the requested order when you execute an index scan, so you don’t need to sort records.</p>
<p>If you can use the sorted index and the covering index, use the latter first. If you use the covering index, you don’t need to retrieve additional data, because the data result requested is included in the index page, and you won’t need to sort the result if you are satisfied with the index order.</p>
<p>If the query doesn’t include any conditions and uses an ordered index, the ordered index will be used under the condition that the first column meets the <strong>NOT NULL</strong> condition.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">j</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">k</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_tab_j_k</span> <span class="k">on</span> <span class="n">tab</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tab</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
</pre></div>
</div>
<p>The following example shows that indexes consisting of <em>tab</em> (<em>j</em>, <em>k</em>) become sorted indexes and no separate sorting process is required because <strong>GROUP BY</strong> is executed by <em>j</em> and <em>k</em> columns.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--  the  selection from the query plan dump shows that the ordering index i_tab_j_k was used and sorting was not necessary
--  (/* --&gt; skip ORDER BY */)
Query plan:
iscan
    class: tab node[0]
    index: i_tab_j_k term[0]
    sort:  2 asc, 3 asc
    cost:  1 card 0
Query stmt:
select tab.i, tab.j, tab.k from tab tab where ((tab.j&gt; ?:0 )) order by 2, 3
/* ---&gt; skip ORDER BY */

            i            j            k
=======================================
            5            2            1
            1            2            3
            3            4            1
            6            4            2
            3            5            4
            1            5            5
            2            6            6
</pre></div>
</div>
<p>The following example shows that <em>j</em> and <em>k</em> columns execute <strong>ORDER BY</strong> and the index including all columns are selected so that indexes consisting of <em>tab</em> (<em>j</em>, <em>k</em>) are used as covering indexes; no separate process is required because the value is selected from the indexes themselves.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--  in this case the index i_tab_j_k is a covering index and also respects the ordering index property.
--  Therefore, it is used as a covering index and sorting is not performed.

Query plan:
iscan
    class: tab node[0]
    index: i_tab_j_k term[0] (covers)
    sort:  1 asc, 2 asc
    cost:  1 card 0

Query stmt: select tab.j, tab.k from tab tab where ((tab.j&gt; ?:0 )) order by 1, 2
/* ---&gt; skip ORDER BY */

            j            k
==========================
            2            1
            2            3
            4            1
            4            2
            5            4
            5            5
            6            6
</pre></div>
</div>
<p>The following example shows that <em>i</em> column exists, <strong>ORDER BY</strong> is executed by <em>j</em> and <em>k</em> columns, and columns that perform <strong>SELECT</strong> are <em>i</em>, <em>j</em>, and <em>k</em>. Therefore, indexes consisting of <em>tab</em> (<em>i</em>, <em>j</em>, <em>k</em>) are used as covering indexes; separate sorting process is required for <strong>ORDER BY</strong> <em>j</em>, <em>k</em> even though the value is selected from the indexes themselves.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_tab_j_k</span> <span class="k">ON</span> <span class="n">tab</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-- since an index on (i,j,k) is now available, it will be used as covering index. However, sorting the results according to
-- the ORDER BY  clause is needed.
Query plan:
temp(order by)
    subplan: iscan
                 class: tab node[0]
                 index: i_tab_i_j_k term[0] (covers)
                 sort:  1 asc, 2 asc, 3 asc
                 cost:  1 card 1
    sort:  2 asc, 3 asc
    cost:  7 card 1

Query stmt: select tab.i, tab.j, tab.k from tab tab where ((tab.i&gt; ?:0 )) order by 2, 3

            i            j            k
=======================================
            5            2            1
            1            2            3
            3            4            1
            6            4            2
            3            5            4
            1            5            5
            2            6            6
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Even if the type of a column in the <strong>ORDER BY</strong> clause is converted by using <a class="reference internal" href="function/typecast_fn.html#CAST" title="CAST"><code class="xref py py-func docutils literal notranslate"><span class="pre">CAST()</span></code></a>, <strong>ORDER BY</strong> optimization is executed when the sorting order is the same as before.</p>
<blockquote class="last">
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Before</th>
<th class="head">After</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>numeric type</td>
<td>numeric type</td>
</tr>
<tr class="row-odd"><td>string type</td>
<td>string type</td>
</tr>
<tr class="row-even"><td>DATETIME</td>
<td>TIMESTAMP</td>
</tr>
<tr class="row-odd"><td>TIMESTAMP</td>
<td>DATETIME</td>
</tr>
<tr class="row-even"><td>DATETIME</td>
<td>DATE</td>
</tr>
<tr class="row-odd"><td>TIMESTAMP</td>
<td>DATE</td>
</tr>
<tr class="row-even"><td>DATE</td>
<td>DATETIME</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
<div class="section" id="index-scan-in-descending-order">
<span id="index-descending-scan"></span><h2>Index Scan in Descending Order<a class="headerlink" href="#index-scan-in-descending-order" title="Permalink to this headline">¶</a></h2>
<p>When a query is executed by sorting in descending order as follows, it usually creates a descending index. In this way, you do not have to go through addition procedure.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="p">[</span><span class="k">WHERE</span> <span class="p">...]</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">a</span> <span class="k">DESC</span><span class="p">;</span>
</pre></div>
</div>
<p>However, if you create an ascending index and an descending index in the same column, the possibility of deadlock increases. In order to decrease the possibility of such case, CUBRID supports the descending scan only with ascending index. Users can use the <strong>USE_DESC_IDX</strong> hint to specify the use of the descending scan. If the hint is not specified, the following three query executions should be considered, provided that the columns listed in the <strong>ORDER BY</strong> clause can use the index.</p>
<ul class="simple">
<li>Sequential scan + Sort in descending order</li>
<li>Scan in general ascending order + sort in descending</li>
<li>Scan in descending order that does not require a separate scan</li>
</ul>
<p>Although the <strong>USE_DESC_IDX</strong> hint is omitted for the scan in descending order, the query optimizer decides the last execution plan of the three listed for an optimal plan.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <strong>USE_DESC_IDX</strong> hint is not supported for the join query.</p>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">di</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_di_i</span> <span class="k">on</span> <span class="n">di</span> <span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">di</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">),(</span><span class="mi">5</span><span class="p">);</span>
</pre></div>
</div>
<p>The query will be executed as an ascending scan without <strong>USE_DESC_IDX</strong> hint.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- The query will be executed with an ascending scan.</span>

<span class="k">SELECT</span>  <span class="o">*</span>
<span class="k">FROM</span> <span class="n">di</span>
<span class="k">WHERE</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">LIMIT</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

<span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">di</span> <span class="n">di</span><span class="p">,</span> <span class="n">i_di_i</span><span class="p">,</span> <span class="p">(</span><span class="n">di</span><span class="o">.</span><span class="n">i</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span> <span class="n">gt_inf</span> <span class="nb">max</span><span class="p">)</span> <span class="ow">and</span> <span class="n">inst_num</span><span class="p">()</span> <span class="nb">range</span> <span class="p">(</span><span class="nb">min</span> <span class="n">inf_le</span> <span class="mi">3</span><span class="p">))</span> <span class="p">(</span><span class="n">covers</span><span class="p">))</span>

            <span class="n">i</span>
<span class="o">=============</span>
            <span class="mi">1</span>
            <span class="mi">2</span>
            <span class="mi">3</span>
</pre></div>
</div>
<p>If you add <strong>USE_DESC_IDX</strong> hint to the above query, a different result will be shown by descending scan.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- We now run the following query, using the &#39;&#39;use_desc_idx&#39;&#39; SQL hint:</span>

<span class="k">SELECT</span> <span class="cm">/*+ USE_DESC_IDX */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">di</span>
<span class="k">WHERE</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">LIMIT</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
 <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">di</span> <span class="n">di</span><span class="p">,</span> <span class="n">i_di_i</span><span class="p">,</span> <span class="p">(</span><span class="n">di</span><span class="o">.</span><span class="n">i</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span> <span class="n">gt_inf</span> <span class="nb">max</span><span class="p">)</span> <span class="ow">and</span> <span class="n">inst_num</span><span class="p">()</span> <span class="nb">range</span> <span class="p">(</span><span class="nb">min</span> <span class="n">inf_le</span> <span class="mi">3</span><span class="p">))</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span> <span class="p">(</span><span class="n">desc_index</span><span class="p">))</span>

            <span class="n">i</span>
<span class="o">=============</span>
            <span class="mi">5</span>
            <span class="mi">5</span>
            <span class="mi">5</span>
</pre></div>
</div>
<p>The following example requires descending <strong>ORDER BY</strong> clause. In this case, there is no <strong>USE_DESC_IDX</strong> but do the descending scan.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- We also run the same query, this time asking that the results are displayed in descending order.</span>
<span class="c1">-- However, no hint is given.</span>
<span class="c1">-- Since ORDER BY...DESC clause exists, CUBRID will use descending scan, even though the hint is not given,</span>
<span class="c1">-- thus avoiding to sort the records.</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">di</span>
<span class="k">WHERE</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">i</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
 <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">di</span> <span class="n">di</span><span class="p">,</span> <span class="n">i_di_i</span><span class="p">,</span> <span class="p">(</span><span class="n">di</span><span class="o">.</span><span class="n">i</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span> <span class="n">gt_inf</span> <span class="nb">max</span><span class="p">))</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span> <span class="p">(</span><span class="n">desc_index</span><span class="p">))</span>

            <span class="n">i</span>
<span class="o">=============</span>
            <span class="mi">5</span>
            <span class="mi">5</span>
            <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="optimizing-group-by-clause">
<span id="group-by-skip-optimization"></span><h2>Optimizing GROUP BY Clause<a class="headerlink" href="#optimizing-group-by-clause" title="Permalink to this headline">¶</a></h2>
<p><strong>GROUP BY</strong> clause optimization works on the premise that if all columns in the <strong>GROUP BY</strong> clause are included in an index, CUBRID can use the index upon executing a query, so CUBRID don’t execute a separate sorting job.
The columns in the <strong>GROUP BY</strong> clause must exist in front side of the column forming the index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">col1</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">col1</span><span class="p">,</span><span class="n">col2</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li>You can use the index consisting of <em>tab</em> ( <em>col1</em>, <em>col2</em> ) for optimization.</li>
<li>The index consisting of <em>tab</em> ( <em>col1</em>, <em>col2</em>, <em>col3</em> ) can be used because <em>col3</em> which is not referred to by <strong>GROUP BY</strong> comes after <em>col1</em> and <em>col2</em>.</li>
<li>You cannot use the index consisting of <em>tab</em> ( <em>col1</em> ) for optimization.</li>
<li>You also cannot use the index consisting of <em>tab</em> ( <em>col3</em>, <em>col1</em>, <em>col2</em> ) or <em>tab</em> ( <em>col1</em>, <em>col3</em>, <em>col2</em> ), because <em>col3</em> is not located at the back of the column in the <strong>GROUP BY</strong> clause.</li>
</ul>
<p>You can use the index if the column condition is a constant although the column consisting of the index doesn’t exist in the <strong>GROUP BY</strong> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">col2</span><span class="o">=</span><span class="n">val</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">col1</span><span class="p">,</span><span class="n">col3</span><span class="p">;</span>
</pre></div>
</div>
<p>If there is any index that consists of <em>tab</em> ( <em>col1</em>, <em>col2</em>, <em>col3</em> ) in the above example, use the index for optimizing <strong>GROUP BY</strong>.</p>
<p>Row sorting by <strong>GROUP BY</strong> is not required, because you can get the result as the requested order on the index scan.</p>
<p>If the index consisting of the <strong>GROUP BY</strong> column and the first column of the index is <strong>NOT NULL</strong>, even though there is no <strong>WHERE</strong> clause, the <strong>GROUP BY</strong> optimization will be applied.</p>
<p>If there is an index made of <strong>GROUP BY</strong> columns even when using aggregate functions, <strong>GROUP BY</strong> optimization is applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_T_a_b_c</span> <span class="k">ON</span> <span class="n">T</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="k">c</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="k">MIN</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="k">c</span><span class="p">,</span> <span class="k">MAX</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">WHERE</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">18</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When a column of <strong>DISTINCT</strong> or a <strong>GROUP BY</strong> clause contains the subkey of a index, loose index scan adjusts the scope dynamically to unique values of the each columns constituting the partial key, and starts the search of a B-tree. Regarding this, see <a class="reference internal" href="#loose-index-scan"><span class="std std-ref">Loose Index Scan</span></a>.</p>
</div>
<p><strong>Example</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab</span> <span class="p">(</span><span class="n">i</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">j</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">k</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_tab_j_k</span> <span class="k">ON</span> <span class="n">tab</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tab</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">on</span> <span class="n">tab</span><span class="p">;</span>
</pre></div>
</div>
<p>The following example shows that indexes consisting of <em>tab</em> ( <em>j</em>, <em>k</em> ) are used and no separate sorting process is required because <strong>GROUP BY</strong> is executed by <em>j</em> and <em>k</em> columns.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>

<span class="c1">--  the  selection from the query plan dump shows that the index i_tab_j_k was used and sorting was not necessary</span>
<span class="c1">--  (/* ---&gt; skip GROUP BY */)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:
iscan
    class: tab node[0]
    index: i_tab_j_k term[0]
    sort:  2 asc, 3 asc
    cost:  1 card 0

Query stmt:
select tab.i, tab.j, tab.k from tab tab where ((tab.j&gt; ?:0 )) group by tab.j, tab.k
/* ---&gt; skip GROUP BY */
            i            j            k
            5            2            1
            1            2            3
            3            4            1
            6            4            2
            3            5            4
            1            5            5
            2            6            6
</pre></div>
</div>
<p>The following example shows that an index consisting of <em>tab</em> ( <em>j</em>, <em>k</em> ) is used and no separate sorting process is required while <strong>GROUP BY</strong> is executed by <em>j</em> and <em>k</em> columns, no condition exists for <em>j</em>, and <em>j</em> column has <strong>NOT NULL</strong> attribute.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">tab</span> <span class="n">CHANGE</span> <span class="k">COLUMN</span> <span class="n">j</span> <span class="n">j</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span>  <span class="n">the</span>  <span class="n">selection</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">query</span> <span class="n">plan</span> <span class="n">dump</span> <span class="n">shows</span> <span class="n">that</span> <span class="n">the</span> <span class="n">index</span> <span class="n">i_tab_j_k</span> <span class="n">was</span> <span class="n">used</span> <span class="p">(</span><span class="n">since</span> <span class="n">j</span> <span class="n">has</span> <span class="n">the</span> <span class="n">NOT</span> <span class="n">NULL</span> <span class="n">constraint</span> <span class="p">)</span>
<span class="o">--</span>  <span class="ow">and</span> <span class="n">sorting</span> <span class="n">was</span> <span class="ow">not</span> <span class="n">necessary</span> <span class="p">(</span><span class="o">/*</span> <span class="o">---&gt;</span> <span class="n">skip</span> <span class="n">GROUP</span> <span class="n">BY</span> <span class="o">*/</span><span class="p">)</span>
<span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
<span class="n">iscan</span>
    <span class="n">class</span><span class="p">:</span> <span class="n">tab</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">index</span><span class="p">:</span> <span class="n">i_tab_j_k</span>
    <span class="n">sort</span><span class="p">:</span>  <span class="mi">2</span> <span class="n">asc</span><span class="p">,</span> <span class="mi">3</span> <span class="n">asc</span>
    <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">0</span>

<span class="n">Query</span> <span class="n">stmt</span><span class="p">:</span> <span class="n">select</span> <span class="n">tab</span><span class="o">.</span><span class="n">i</span><span class="p">,</span> <span class="n">tab</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="n">tab</span><span class="o">.</span><span class="n">k</span> <span class="kn">from</span> <span class="nn">tab</span> <span class="n">tab</span> <span class="n">group</span> <span class="n">by</span> <span class="n">tab</span><span class="o">.</span><span class="n">j</span><span class="p">,</span> <span class="n">tab</span><span class="o">.</span><span class="n">k</span>
<span class="o">/*</span> <span class="o">---&gt;</span> <span class="n">skip</span> <span class="n">GROUP</span> <span class="n">BY</span> <span class="o">*/</span>
<span class="o">===</span> <span class="o">&lt;</span><span class="n">Result</span> <span class="n">of</span> <span class="n">SELECT</span> <span class="n">Command</span> <span class="ow">in</span> <span class="n">Line</span> <span class="mi">1</span><span class="o">&gt;</span> <span class="o">===</span>
            <span class="n">i</span>            <span class="n">j</span>            <span class="n">k</span>
<span class="o">=======================================</span>
            <span class="mi">5</span>            <span class="mi">2</span>            <span class="mi">1</span>
            <span class="mi">1</span>            <span class="mi">2</span>            <span class="mi">3</span>
            <span class="mi">3</span>            <span class="mi">4</span>            <span class="mi">1</span>
            <span class="mi">6</span>            <span class="mi">4</span>            <span class="mi">2</span>
            <span class="mi">3</span>            <span class="mi">5</span>            <span class="mi">4</span>
            <span class="mi">1</span>            <span class="mi">5</span>            <span class="mi">5</span>
            <span class="mi">2</span>            <span class="mi">6</span>            <span class="mi">6</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tab</span> <span class="p">(</span><span class="n">k1</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k2</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k3</span> <span class="nb">int</span><span class="p">,</span> <span class="n">v</span> <span class="n">double</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tab</span>
    <span class="k">SELECT</span>
        <span class="n">RAND</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">()</span> <span class="k">AS</span> <span class="nb">INT</span><span class="p">))</span> <span class="k">MOD</span> <span class="mi">5</span><span class="p">,</span>
        <span class="n">RAND</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">()</span> <span class="k">AS</span> <span class="nb">INT</span><span class="p">))</span> <span class="k">MOD</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">RAND</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">()</span> <span class="k">AS</span> <span class="nb">INT</span><span class="p">))</span> <span class="k">MOD</span> <span class="mi">100000</span><span class="p">,</span>
        <span class="n">RAND</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">UNIX_TIMESTAMP</span><span class="p">()</span> <span class="k">AS</span> <span class="nb">INT</span><span class="p">))</span> <span class="k">MOD</span> <span class="mi">100000</span>
    <span class="k">FROM</span> <span class="n">db_class</span> <span class="n">a</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">b</span><span class="p">,</span> <span class="n">db_class</span> <span class="k">c</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">d</span> <span class="k">LIMIT</span> <span class="mi">20000</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">tab</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">);</span>
</pre></div>
</div>
<p>If you create tables and indexes of the above, the following example runs the <strong>GROUP BY</strong> with <em>k1</em>, <em>k2</em> columns and performs an aggregate function in <em>k3</em>; therefore, the index which consists of <em>tab</em> (<em>k1</em>, <em>k2</em>, <em>k3</em>) is used and no sort processing is required. In addition, because all columns of <em>k1</em>, <em>k2</em>, <em>k3</em> of <strong>SELECT</strong> list are present in the index configured in the <em>tab</em> (<em>k1</em>, <em>k2</em>, <em>k3</em>), covering index is applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_SS */</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">k3</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">k2</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

iscan
    class: tab node[0]
    index: idx term[0] (covers) (index skip scan)
    sort:  1 asc, 2 asc
    cost:  85 card 2000

Query stmt:

select tab.k1, tab.k2, sum(distinct tab.k3) from tab tab where (tab.k2&gt; ?:0 ) group by tab.k1, tab.k2

/* ---&gt; skip GROUP BY */
</pre></div>
</div>
<p>The following example performs <strong>GROUP BY</strong> clause with <em>k1</em>, <em>k2</em> columns; therefore, the index composed with <em>tab</em> (<em>k1</em>, <em>k2</em>, <em>k3</em>) is used and no sort processing is required. However, <em>v</em> column in the <strong>SELECT</strong> list is not present in the index composed of <em>tab</em> (<em>k1</em>, <em>k2</em>, <em>k3</em>); therefore, it does not apply covering index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_SS */</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">stddev_samp</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tab</span>
<span class="k">WHERE</span> <span class="n">k2</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

iscan
    class: tab node[0]
    index: idx term[0] (index skip scan)
    sort:  1 asc, 2 asc
    cost:  85 card 2000

Query stmt:

select tab.k1, tab.k2, stddev_samp(tab.v) from tab tab where (tab.k2&gt; ?:0 ) group by tab.k1, tab.k2

/* ---&gt; skip GROUP BY */
</pre></div>
</div>
</div>
<div class="section" id="multiple-key-ranges-optimization">
<span id="multi-key-range-opt"></span><h2>Multiple Key Ranges Optimization<a class="headerlink" href="#multiple-key-ranges-optimization" title="Permalink to this headline">¶</a></h2>
<p>Optimizing the <strong>LIMIT</strong> clause is crucial for performance because the most queries have limit filter. A representative optimization of this case is Multiple Key Ranges Optimization.</p>
<p>Multiple Key Ranges Optimization generate the query result with Top N Sorting to scan only some key ranges in an index rather than doing a full index scan. Top N Sorting always keeps the best N tuples sorted rather than selecting all tuples and then sorting. Therefore, it shows the outstanding performance.</p>
<p>For example, when you search only the recent 10 posts which your friends wrote, CUBRID which applied Multiple KEY Ranges Optimization finds the result not by sorting after finding all your friends’ posts, but by scanning the index which keeps the recent 10 sorted posts of each friends.</p>
<p>An example of Multiple Key Ranges Optimization is as follows.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_t_a_b</span> <span class="k">ON</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>

<span class="c1">-- Multiple key range optimization</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">t</span>
<span class="k">WHERE</span> <span class="n">a</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">b</span>
<span class="k">LIMIT</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>
<span class="n">iscan</span>
<span class="n">class</span><span class="p">:</span> <span class="n">t</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">index</span><span class="p">:</span> <span class="n">i_t_a_b</span> <span class="n">term</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span> <span class="p">(</span><span class="n">multi_range_opt</span><span class="p">)</span>
<span class="n">sort</span><span class="p">:</span> <span class="mi">1</span> <span class="n">asc</span><span class="p">,</span> <span class="mi">2</span> <span class="n">asc</span>
<span class="n">cost</span><span class="p">:</span> <span class="mi">1</span> <span class="n">card</span> <span class="mi">0</span>
</pre></div>
</div>
<p>On a single table, multiple key range optimization can be applied if below conditions are satisfied.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECT /*+ hints */ ...
FROM table
WHERE col_1 = ? AND col_2 = ? AND ... AND col(j-1) = ?
AND col_(j) IN (?, ?, ...)
AND col_(j+1) = ? AND ... AND col_(p-1) = ?
AND key_filter_terms
ORDER BY col_(p) [ASC|DESC], col_(p+1) [ASC|DESC], ... col_(p+k-1) [ASC|DESC]
LIMIT n;
</pre></div>
</div>
<p>Firstly, upper limit(<em>n</em>) for <strong>LIMIT</strong> should be less than or equal to the value of <strong>multi_range_optimization_limit</strong> system parameter.</p>
<p>And you need the proper index to the multiple key range optimization, this index should cover all <em>k</em> columns specified in the <strong>ORDER BY</strong> clause. In other words, this index should include all <em>k</em> columns specified in the <strong>ORDER BY</strong> clause and the sorting order should be the same as the columns’ order. Also this index should include all columns used in <strong>WHERE</strong> clause.</p>
<p>Among columns that comprise the index,</p>
<ul class="simple">
<li>Columns in front of range condition(e.g. IN condition) are represented as equivalent condition(=).</li>
<li>Only one column with range condition exists.</li>
<li>Columns after range condition exist as key filters.</li>
<li>There should be no data filtering condition. In other words, the index should include all columns used in <strong>WHERE</strong> clause.</li>
<li>Columns after the key filter exist in <strong>ORDER BY</strong> clause.</li>
<li>Columns of key filter condition always should not the column of <strong>ORDER BY</strong> clause.</li>
<li>If key filter condition with correlated subquery exists, related columns to this should be included into <strong>WHERE</strong> clause with no range condition.</li>
</ul>
<p>On the below example, Multiple Key Ranges Optimization can be applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">c</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">d</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">e</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_t_a_b</span> <span class="k">ON</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="k">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">t</span>
<span class="k">WHERE</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">AND</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">AND</span> <span class="k">c</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">AND</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">e</span>
<span class="k">LIMIT</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</div>
<p>Queries with multiple joined tables can also support Multiple Key Ranges Optimization:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECT /*+ hints */ ...
FROM table_1, table_2, ... table_(sort), ...
WHERE col_1 = ? AND col_2 = ? AND ...
AND col_(j) IN (?, ?, ... )
AND col_(j+1) = ? AND ... AND col_(p-1) = ?
AND key_filter_terms
AND join_terms
ORDER BY col_(p) [ASC|DESC], col_(p+1) [ASC|DESC], ... col_(p+k-1) [ASC|DESC]
LIMIT n;
</pre></div>
</div>
<p>If queries with multiple joined tables can support Multiple Key Ranges Optimization, below conditions should be satisfied:</p>
<ul class="simple">
<li>Columns in <strong>ORDER BY</strong> clause only exist on one table, and this table should satisfy all required conditions by Multiple Key Ranges Optimization on a single table query. Let the “sort table” be the table that contains all sorting columns.</li>
<li>All columns of “sort table” specified in a JOIN condition between “sort table” and “outer tables” should be included on an index. In other words, there should be no data filtering condition.</li>
<li>All columns of “sort table” specified in a JOIN condition between “sort table” and “outer tables” should be included on the <strong>WHERE</strong> clause with no range condition.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In most cases available to apply Multiple Key Ranges Optimization, this optimization shows the best performance. However, if you do not want this optimization on the special case, specify <strong>NO_MULTI_RANGE_OPT</strong> hint to the query. For details, see <a class="reference internal" href="#sql-hint"><span class="std std-ref">Using SQL Hint</span></a>.</p>
</div>
</div>
<div class="section" id="index-skip-scan">
<span id="id5"></span><h2>Index Skip Scan<a class="headerlink" href="#index-skip-scan" title="Permalink to this headline">¶</a></h2>
<p>Index Skip Scan (here after ISS) is an optimization method that allows ignoring the first column of an index when the first column of the index is not included in the condition but the following column is included in the condition (in most cases, =).</p>
<p>Applying ISS is considered when <strong>INDEX_SS</strong> for specific tables is specified through a query hint and the below cases are satisfied.</p>
<ol class="arabic simple">
<li>The query condition should be specified from the second column of the composite index.</li>
<li>The used index should not be a filtered index.</li>
<li>The first column of an index should not be a range filter or key filter.</li>
<li>A hierarchical query is not supported.</li>
<li>A query which an aggregate function is included is not supported.</li>
</ol>
<p>In a <strong>INDEX_SS</strong> hint, a list of table to consider applying ISS, can be input; if a list of table is omitted, applying ISS for all tables can be considered.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*+</span> <span class="n">INDEX_SS</span> <span class="o">*/</span>
<span class="o">/*+</span> <span class="n">INDEX_SS</span><span class="p">(</span><span class="n">tbl1</span><span class="p">)</span> <span class="o">*/</span>
<span class="o">/*+</span> <span class="n">INDEX_SS</span><span class="p">(</span><span class="n">tbl1</span><span class="p">,</span> <span class="n">tbl2</span><span class="p">)</span> <span class="o">*/</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When “INDEX_SS” is input, the ISS hint is applied to all tables; when “INDEX_SS()” is input, this hint is ignored.</p>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">c</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="p">(</span><span class="n">id</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">a</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">c</span> <span class="nb">INT</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_t1_ac</span> <span class="k">ON</span> <span class="n">t1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="k">c</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_t2_ac</span> <span class="k">ON</span> <span class="n">t2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="k">c</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">SELECT</span> <span class="n">rownum</span><span class="p">,</span> <span class="n">rownum</span><span class="p">,</span> <span class="n">rownum</span><span class="p">,</span> <span class="n">rownum</span>
<span class="k">FROM</span> <span class="n">db_class</span> <span class="n">x1</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">x2</span><span class="p">,</span> <span class="n">db_class</span> <span class="k">LIMIT</span> <span class="mi">10000</span><span class="p">;</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t2</span> <span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">a</span><span class="o">%</span><span class="mi">5</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>


<span class="k">SELECT</span> <span class="cm">/*+ INDEX_SS */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span>
<span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="o">&lt;</span><span class="mi">5</span> <span class="k">AND</span> <span class="n">t1</span><span class="p">.</span><span class="k">c</span><span class="o">&lt;</span><span class="mi">5</span> <span class="k">AND</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span><span class="o">&lt;</span><span class="mi">5</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">i_t1_ac</span><span class="p">,</span> <span class="n">i_t2_ac</span> <span class="k">limit</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="cm">/*+ INDEX_SS(t1) */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span>
<span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="o">&lt;</span><span class="mi">5</span> <span class="k">AND</span> <span class="n">t1</span><span class="p">.</span><span class="k">c</span><span class="o">&lt;</span><span class="mi">5</span> <span class="k">AND</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span><span class="o">&lt;</span><span class="mi">5</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">i_t1_ac</span><span class="p">,</span> <span class="n">i_t2_ac</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="cm">/*+ INDEX_SS(t1, t2) */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span>
<span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">b</span><span class="o">&lt;</span><span class="mi">5</span> <span class="k">AND</span> <span class="n">t1</span><span class="p">.</span><span class="k">c</span><span class="o">&lt;</span><span class="mi">5</span> <span class="k">AND</span> <span class="n">t2</span><span class="p">.</span><span class="k">c</span><span class="o">&lt;</span><span class="mi">5</span>
<span class="k">USING</span> <span class="k">INDEX</span> <span class="n">i_t1_ac</span><span class="p">,</span> <span class="n">i_t2_ac</span> <span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>Generally, ISS should consider several columns (C1, C2, …, Cn). Here, a query has the conditions for the consecutive columns and the conditions are started from the second column (C2) of the index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INDEX</span> <span class="p">(</span><span class="n">C1</span><span class="p">,</span> <span class="n">C2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">Cn</span><span class="p">);</span>

<span class="n">SELECT</span> <span class="o">...</span> <span class="n">WHERE</span> <span class="n">C2</span> <span class="o">=</span> <span class="n">x</span> <span class="n">AND</span> <span class="n">C3</span> <span class="o">=</span> <span class="n">y</span> <span class="n">AND</span> <span class="o">...</span> <span class="n">AND</span> <span class="n">Cp</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span> <span class="o">--</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">n</span>
<span class="n">SELECT</span> <span class="o">...</span> <span class="n">WHERE</span> <span class="n">C2</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="n">AND</span> <span class="n">C3</span> <span class="o">&gt;=</span> <span class="n">y</span> <span class="n">AND</span> <span class="o">...</span> <span class="n">AND</span> <span class="n">Cp</span> <span class="n">BETWEEN</span> <span class="p">(</span><span class="n">z</span> <span class="n">AND</span> <span class="n">w</span><span class="p">);</span> <span class="o">--</span> <span class="n">other</span> <span class="n">conditions</span> <span class="n">than</span> <span class="n">equal</span>
</pre></div>
</div>
<p>The query optimizer eventually determines whether ISS is the most optimum access method based on the cost. ISS is applied under very specific situations, such as when the first column of an index has a very small number of <strong>DISTINCT</strong> values compared to the number of records. In this case, ISS provides higher performance compared to Index Full Scan. For example, when the first column of index columns has very low cardinality, such as the value of men/women or millions of records with the value of 1~100, it may be inefficient to perform index scan by using the first column value. So ISS is useful in this case.</p>
<p>ISS skips reading most of the index pages in the disk and uses range search which is dynamically readjusted. Generally, ISS can be applied to a specific scenario when the number of <strong>DISTINCT</strong> values in the first column is very small. If ISS is applied to this case, ISS provides significantly higher performance than the index full scan. However, it means improper index creation that ISS is applied to a lot queries. So DBA should consider whether readjusting the indexes or not.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tbl</span> <span class="p">(</span><span class="n">name</span> <span class="n">STRING</span><span class="p">,</span> <span class="n">gender</span> <span class="nb">CHAR</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">birthday</span> <span class="n">DATETIME</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tbl</span>
<span class="k">SELECT</span> <span class="n">ROWNUM</span><span class="p">,</span> <span class="k">CASE</span> <span class="p">(</span><span class="n">ROWNUM</span> <span class="k">MOD</span> <span class="mi">2</span><span class="p">)</span> <span class="k">WHEN</span> <span class="mi">1</span> <span class="k">THEN</span> <span class="s1">&#39;M&#39;</span> <span class="k">ELSE</span> <span class="s1">&#39;F&#39;</span> <span class="k">END</span><span class="p">,</span> <span class="n">SYSDATETIME</span>
<span class="k">FROM</span> <span class="n">db_class</span> <span class="n">a</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">b</span><span class="p">,</span> <span class="n">db_class</span> <span class="k">c</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">d</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">e</span> <span class="k">LIMIT</span> <span class="mi">360000</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_tbl_gen_name</span> <span class="k">ON</span> <span class="n">tbl</span> <span class="p">(</span><span class="n">gender</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
<span class="c1">-- Note that gender can only have 2 values, &#39;M&#39; and &#39;F&#39; (low cardinality)</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">CLASSES</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- this will qualify to use Index Skip Scanning</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_SS */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tbl</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;1000&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Index scan(tbl tbl, idx_tbl_gen_name, tbl.[name]= ?:0  (index skip scan))
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- this will qualify to use Index Skip Scanning</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_SS */</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">tbl</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">between</span> <span class="s1">&#39;1000&#39;</span> <span class="k">and</span> <span class="s1">&#39;1050&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Index scan(tbl tbl, idx_tbl_gen_name, (tbl.[name]&gt;= ?:0  and tbl.[name]&lt;= ?:1 ) (index skip scan))
</pre></div>
</div>
</div>
<div class="section" id="loose-index-scan">
<span id="id6"></span><h2>Loose Index Scan<a class="headerlink" href="#loose-index-scan" title="Permalink to this headline">¶</a></h2>
<p>When <strong>GROUP BY</strong> clause or <strong>DISTINCT</strong> column includes a subkey of a index, loose index scan starts B-tree search by adjusting the range dynamically for unique value of each of the columns that make up the subkey. Therefore, it is possible to significantly reduce the scanning area of B-tree.</p>
<p>Applying loose index scan is advantageous when the cardinality of the grouped column is very small, compared to the total data amount.</p>
<p>Loose index scan optimization is considered to be applied when <strong>INDEX_LS</strong> is input as a hint and the below cases are satisfied:</p>
<ol class="arabic simple">
<li>when an index covers all <strong>SELECT</strong> list, that is, covered index is applied.</li>
<li>when the statement is <strong>SELECT DISTINCT</strong>, <strong>SELECT</strong> … <strong>GROUP BY</strong> statement or a single tuple <strong>SELECT</strong>.</li>
<li>all aggregate functions (with the exception of <strong>MIN</strong>/<strong>MAX</strong>) must have <strong>DISTINCT</strong> input</li>
<li><strong>COUNT(*)</strong> should not be used</li>
<li>when cardinality of the used subkey is 100 times smaller than the cardinality of the whole index</li>
</ol>
<p>a subkey is a prefix part in a composite index; e.g. when there is INDEX(a, b, c, d), (a), (a, b) or (a, b, c) belongs to the subkey.</p>
<p>When you run the below query regarding the above table,</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ INDEX_LS */</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">tbl</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>CUBRID cannot use a subkey because there is no condition for the column a. However, if the condition of the subkey is specified as follows, loose index scan can be applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ INDEX_LS */</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">tbl</span> <span class="k">WHERE</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>As follows, a subkey can be used when the grouped column is on the first and the WHERE-condition column is on the following position; therefore, also in this case, loose index scan can be applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ INDEX_LS */</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">tbl</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>The following shows the cases when loose index scan optimization is applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tbl1</span> <span class="p">(</span>
    <span class="n">k1</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">k2</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">k3</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">k4</span> <span class="nb">INT</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tbl1</span>
<span class="k">SELECT</span> <span class="n">ROWNUM</span> <span class="k">MOD</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ROWNUM</span> <span class="k">MOD</span> <span class="mi">400</span><span class="p">,</span> <span class="n">ROWNUM</span> <span class="k">MOD</span> <span class="mi">80000</span><span class="p">,</span> <span class="n">ROWNUM</span>
<span class="k">FROM</span> <span class="n">db_class</span> <span class="n">a</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">b</span><span class="p">,</span> <span class="n">db_class</span> <span class="k">c</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">d</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">e</span> <span class="k">LIMIT</span> <span class="mi">360000</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx</span> <span class="k">ON</span> <span class="n">tbl1</span> <span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tbl2</span> <span class="p">(</span>
    <span class="n">k1</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">k2</span> <span class="nb">INT</span>
<span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tbl2</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>

<span class="k">UPDATE</span> <span class="k">STATISTICS</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">CLASSES</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- add a condition to the grouped column, k1 to enable loose index scan</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">DISTINCT</span> <span class="n">k1</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1000000</span> <span class="k">LIMIT</span> <span class="mi">20</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Sort(distinct)
    Index scan(tbl1 tbl1, idx, (tbl1.k1&gt; ?:0 ) (covers) (loose index scan on prefix 1))
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- different key ranges/filters</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">DISTINCT</span> <span class="n">k1</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">AND</span> <span class="n">k1</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Sort(distinct)
    Index scan(tbl1 tbl1, idx, (tbl1.k1&gt;= ?:0  and tbl1.k1&lt;= ?:1 ) (covers) (loose index scan on prefix 1))
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">DISTINCT</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">AND</span> <span class="n">k1</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="k">AND</span> <span class="n">k2</span> <span class="o">&gt;</span> <span class="mi">3</span> <span class="k">AND</span> <span class="n">k2</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Sort(distinct)
    Index scan(tbl1 tbl1, idx, (tbl1.k1&gt;= ?:0  and tbl1.k1&lt;= ?:1 ), [(tbl1.k2&gt; ?:2  and tbl1.k2&lt; ?:3 )] (covers) (loose index scan on prefix 2))
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">DISTINCT</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">AND</span> <span class="n">k1</span> <span class="o">+</span> <span class="n">k2</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Sort(distinct)
    Index scan(tbl1 tbl1, idx, (tbl1.k1&gt;= ?:0 ), [tbl1.k1+tbl1.k2&lt;=10] (covers) (loose index scan on prefix 2))
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="n">tbl1</span><span class="p">.</span><span class="n">k1</span><span class="p">,</span> <span class="n">tbl1</span><span class="p">.</span><span class="n">k2</span>
<span class="k">FROM</span> <span class="n">tbl2</span> <span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">tbl1</span>
<span class="k">ON</span> <span class="n">tbl2</span><span class="p">.</span><span class="n">k1</span> <span class="o">=</span> <span class="n">tbl1</span><span class="p">.</span><span class="n">k1</span> <span class="k">AND</span> <span class="n">tbl2</span><span class="p">.</span><span class="n">k2</span> <span class="o">=</span> <span class="n">tbl1</span><span class="p">.</span><span class="n">k2</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">tbl1</span><span class="p">.</span><span class="n">k1</span><span class="p">,</span> <span class="n">tbl1</span><span class="p">.</span><span class="n">k2</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sort</span><span class="p">(</span><span class="n">group</span> <span class="n">by</span><span class="p">)</span>
   <span class="n">Nested</span> <span class="n">loops</span>
       <span class="n">Sequential</span> <span class="n">scan</span><span class="p">(</span><span class="n">tbl2</span> <span class="n">tbl2</span><span class="p">)</span>
       <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">tbl1</span> <span class="n">tbl1</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">tbl2</span><span class="o">.</span><span class="n">k1</span><span class="o">=</span><span class="n">tbl1</span><span class="o">.</span><span class="n">k1</span> <span class="ow">and</span> <span class="n">tbl2</span><span class="o">.</span><span class="n">k2</span><span class="o">=</span><span class="n">tbl1</span><span class="o">.</span><span class="n">k2</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span> <span class="p">(</span><span class="n">loose</span> <span class="n">index</span> <span class="n">scan</span> <span class="n">on</span> <span class="n">prefix</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">MIN</span><span class="p">(</span><span class="n">k2</span><span class="p">),</span> <span class="k">MAX</span><span class="p">(</span><span class="n">k2</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tbl1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

 <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">tbl1</span> <span class="n">tbl1</span><span class="p">,</span> <span class="n">idx</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span> <span class="p">(</span><span class="n">loose</span> <span class="n">index</span> <span class="n">scan</span> <span class="n">on</span> <span class="n">prefix</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">SUM</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">k1</span><span class="p">),</span> <span class="k">SUM</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">k2</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tbl1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

 <span class="n">Index</span> <span class="n">scan</span><span class="p">(</span><span class="n">tbl1</span> <span class="n">tbl1</span><span class="p">,</span> <span class="n">idx</span> <span class="p">(</span><span class="n">covers</span><span class="p">)</span> <span class="p">(</span><span class="n">loose</span> <span class="n">index</span> <span class="n">scan</span> <span class="n">on</span> <span class="n">prefix</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">DISTINCT</span> <span class="n">k1</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Sort(distinct)
    Index scan(tbl1 tbl1, idx, [(tbl1.k2&gt; ?:0 )] (covers) (loose index scan on prefix 2))
</pre></div>
</div>
<p>The following shows the cases when loose index scan optimization is not applied.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- not enabled when full key is used</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">DISTINCT</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

 <span class="n">Sort</span><span class="p">(</span><span class="n">distinct</span><span class="p">)</span>
    <span class="n">Sequential</span> <span class="n">scan</span><span class="p">(</span><span class="n">tbl1</span> <span class="n">tbl1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">10000</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Index scan(tbl1 tbl1, idx, (tbl1.k1&gt; ?:0 ) (covers))
 skip GROUP BY
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- not enabled when using count star</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">k1</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">10000</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">k1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Index scan(tbl1 tbl1, idx, (tbl1.k1&gt; ?:0 ) (covers))
 skip GROUP BY
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- not enabled when index is not covering</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">k4</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="k">AND</span> <span class="n">k2</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">k1</span><span class="p">,</span> <span class="n">k2</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Index scan(tbl1 tbl1, idx, (tbl1.k1&gt; ?:0 ), [(tbl1.k2&gt; ?:1 )])
 skip GROUP BY
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="c1">-- not enabled for non-distinct aggregates</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE INDEX_LS */</span> <span class="n">k1</span><span class="p">,</span> <span class="k">SUM</span><span class="p">(</span><span class="n">k2</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tbl1</span>
<span class="k">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">k1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

 Index scan(tbl1 tbl1, idx, (tbl1.k1&gt; ?:0 ) (covers))
 skip GROUP BY
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- csql&gt;;plan simple</span>
<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="k">SUM</span><span class="p">(</span><span class="n">k1</span><span class="p">),</span> <span class="k">SUM</span><span class="p">(</span><span class="n">k2</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">tbl1</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

 <span class="n">Sequential</span> <span class="n">scan</span><span class="p">(</span><span class="n">tbl1</span> <span class="n">tbl1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="in-memory-sort">
<span id="id7"></span><h2>In Memory Sort<a class="headerlink" href="#in-memory-sort" title="Permalink to this headline">¶</a></h2>
<p>The “in memory sort(IMS)” feature is an optimization applied to the <strong>LIMIT</strong> queries specifying <strong>ORDER BY</strong>. Normally, when executing a query which specifies <strong>ORDER BY</strong> and <strong>LIMIT</strong> clauses, CUBRID generates the full sorted result set and then applies the <strong>LIMIT</strong> operator to this result set. With the IMS optimization, instead of generating the whole result set, CUBRID uses an in-memory binary heap in which only tuples satisfying the <strong>ORDER BY</strong> and <strong>LIMIT</strong> clauses are allowed. This optimization improves performance by eliminating the need for a full unordered result set.</p>
<p>Whether this optimization is applied or not is not transparent to users. CUBRID decides to use in memory sort in the following situation:</p>
<ul class="simple">
<li>The query specifies <strong>ORDER BY</strong> and <strong>LIMIT</strong> clauses.</li>
<li>The size of the final result (after applying the <strong>LIMIT</strong> clause) is less than the amount of memory used by external sort (see <strong>sort_buffer_size</strong> in <a class="reference internal" href="../admin/config.html#memory-parameters"><span class="std std-ref">Memory-Related Parameters</span></a>).</li>
</ul>
<p>Note that IMS considers the actual size of the result and not the count of tuples the result contains. For example, for the default sort buffer size (two megabytes), this optimization will be applied for a <strong>LIMIT</strong> value of 524,288 tuples consisting of one 4 byte <strong>INTEGER</strong> type but only for ~2,048 tuples of <strong>CHAR</strong> (1024) values. This optimization is not applied to queries requiring <strong>DISTINCT</strong> ordered result sets.</p>
</div>
<div class="section" id="sort-limit-optimization">
<span id="id8"></span><h2>SORT-LIMIT optimization<a class="headerlink" href="#sort-limit-optimization" title="Permalink to this headline">¶</a></h2>
<p>The SORT-LIMIT optimization applies to queries specifying <strong>ORDER BY</strong> and <strong>LIMIT</strong> clauses. The idea behind it is to evaluate the <strong>LIMIT</strong> operator as soon as possible in the query plan in order to benefit from the reduced cardinality during joins.</p>
<p>A SORT-LIMIT plan can be generated when the following conditions are met:</p>
<ul>
<li><p class="first">All referred tables in the <strong>ORDER BY</strong> clause belong to the SORT-LIMIT plan.</p>
</li>
<li><p class="first">A table belonging to a SORT-LIMIT plan is either:</p>
<ul class="simple">
<li>The owner of a foreign key from a fk-&gt;pk join</li>
<li>The left side of a <strong>LEFT JOIN</strong>.</li>
<li>The right side of a <strong>RIGHT JOIN</strong>.</li>
</ul>
</li>
<li><p class="first"><strong>LIMIT</strong> rows should be specified as less rows than the value of <strong>sort_limit_max_count</strong> system parameter(default: 1000).</p>
</li>
<li><p class="first">Query does not have cross joins.</p>
</li>
<li><p class="first">Query joins at least two relations.</p>
</li>
<li><p class="first">Query does not have a <strong>GROUP BY</strong> clause.</p>
</li>
<li><p class="first">Query does not specify <strong>DISTINCT</strong>.</p>
</li>
<li><p class="first"><strong>ORDER BY</strong> expressions can be evaluated during scan.</p>
<p>For example, the below query cannot apply SORT-LIMIT plan because <strong>SUM</strong> cannot be evaluated during scan.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">i</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span> <span class="k">where</span> <span class="n">u</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">i</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="mi">1</span> <span class="k">LIMIT</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
<p>The below is an example of planning SORT-LIMIT.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span><span class="p">(</span><span class="n">i</span> <span class="nb">int</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">j</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">u</span><span class="p">(</span><span class="n">i</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">u</span> <span class="k">ADD</span> <span class="k">constraint</span> <span class="n">fk_t_u_i</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">t</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">i_u_j</span> <span class="k">ON</span> <span class="n">u</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">SELECT</span> <span class="n">ROWNUM</span><span class="p">,</span> <span class="n">ROWNUM</span><span class="p">,</span> <span class="n">ROWNUM</span> <span class="k">FROM</span> <span class="n">_DB_CLASS</span> <span class="n">a</span><span class="p">,</span> <span class="n">_DB_CLASS</span> <span class="n">b</span> <span class="k">LIMIT</span> <span class="mi">1000</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">u</span> <span class="k">SELECT</span> <span class="mi">1</span><span class="o">+</span><span class="p">(</span><span class="n">ROWNUM</span> <span class="o">%</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">RANDOM</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">RANDOM</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">_DB_CLASS</span> <span class="n">a</span><span class="p">,</span> <span class="n">_DB_CLASS</span> <span class="n">b</span><span class="p">,</span> <span class="n">_DB_CLASS</span> <span class="k">c</span> <span class="k">LIMIT</span> <span class="mi">5000</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="cm">/*+ RECOMPILE */</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">u</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">i</span> <span class="k">AND</span> <span class="n">u</span><span class="p">.</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">u</span><span class="p">.</span><span class="n">j</span> <span class="k">LIMIT</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<p>The above <strong>SELECT</strong> query’s plan is printed out as below; we can see “(sort limit)”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Query</span> <span class="n">plan</span><span class="p">:</span>

<span class="n">idx</span><span class="o">-</span><span class="n">join</span> <span class="p">(</span><span class="n">inner</span> <span class="n">join</span><span class="p">)</span>
    <span class="n">outer</span><span class="p">:</span> <span class="n">temp</span><span class="p">(</span><span class="n">sort</span> <span class="n">limit</span><span class="p">)</span>
               <span class="n">subplan</span><span class="p">:</span> <span class="n">iscan</span>
                            <span class="n">class</span><span class="p">:</span> <span class="n">u</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                            <span class="n">index</span><span class="p">:</span> <span class="n">i_u_j</span> <span class="n">term</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">0</span>
               <span class="n">cost</span><span class="p">:</span>  <span class="mi">1</span> <span class="n">card</span> <span class="mi">0</span>
    <span class="n">inner</span><span class="p">:</span> <span class="n">iscan</span>
               <span class="n">class</span><span class="p">:</span> <span class="n">t</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
               <span class="n">index</span><span class="p">:</span> <span class="n">pk_t_i</span> <span class="n">term</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
               <span class="n">cost</span><span class="p">:</span>  <span class="mi">6</span> <span class="n">card</span> <span class="mi">1000</span>
    <span class="n">sort</span><span class="p">:</span>  <span class="mi">2</span> <span class="n">asc</span>
    <span class="n">cost</span><span class="p">:</span>  <span class="mi">7</span> <span class="n">card</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="optimization-using-rewrite">
<span id="tuning-rewrite"></span><h1>Optimization Using Rewrite<a class="headerlink" href="#optimization-using-rewrite" title="Permalink to this headline">¶</a></h1>
<div class="section" id="join-elimination-optimization">
<span id="id9"></span><h2>Join Elimination Optimization<a class="headerlink" href="#join-elimination-optimization" title="Permalink to this headline">¶</a></h2>
<p>The join elimination optimization is a method to reduce join operations and improve the query performance by eliminating the joins with the tables that do not affect the query results.</p>
<p>In the join elimination optimization, there are two operations:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Eliminating <strong>INNER JOIN</strong></li>
<li>Eliminating <strong>LEFT OUTER JOIN</strong></li>
</ol>
</div></blockquote>
<p>To disable the join elimination optimization, use the <strong>NO_ELIMINATE_JOIN</strong> hint.</p>
<div class="section" id="eliminating-inner-join">
<span id="eliminate-inner-join"></span><h3>Eliminating <strong>INNER JOIN</strong><a class="headerlink" href="#eliminating-inner-join" title="Permalink to this headline">¶</a></h3>
<p>The relationship between a table with a primary key (<strong>PK</strong>) and a table with a foreign key (<strong>FK</strong>) that refers to that primary key (<strong>PK</strong>) is called a parent-child relationship.
In <strong>INNER JOIN</strong> of a parent-child relationship, if there are no references to the parent table other than the join conditions, eliminating the join with the parent table does not affect the query results.
In this case, by elimination the join with the parent table, the join operation is reduced and the query performance is improved.</p>
<p>To eliminate the <strong>INNER JOIN</strong>, the following conditions must be satisfied:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Perform the <strong>INNER JOIN</strong> of the parent-child relationship.</li>
<li>All columns of the primary key (<strong>PK</strong>) and the foreign key (<strong>FK</strong>) must be used in the join condition.</li>
<li>The primary key (<strong>PK</strong>) column must be used in the same join condition as a foreign key (<strong>FK</strong>) column that refers to the corresponding primary key (<strong>PK</strong>) column.</li>
<li>All join conditions must use the equality (=) comparison.</li>
<li>There must be no references to the parent table other than the join conditions.</li>
<li>The <strong>ALL</strong> keyword must not be used when querying the tables that have an inheritance relationship.</li>
</ol>
</div></blockquote>
<p>When eliminating the join with the parent table, if the foreign key (<strong>FK</strong>) column in the child table does not have the <strong>NOT NULL</strong> constraint, the <strong>IS NOT NULL</strong> condition is added to that column.</p>
<p>The following is an example of eliminating the <strong>INNER JOIN</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="n">login</span> <span class="p">(</span><span class="s1">&#39;public&#39;</span><span class="p">)</span> <span class="k">on</span> <span class="k">class</span> <span class="n">db_user</span><span class="p">;</span>

<span class="cm">/* current_user: public */</span>
<span class="k">drop</span> <span class="k">table</span> <span class="k">if</span> <span class="k">exists</span> <span class="n">child_tbl</span><span class="p">,</span> <span class="n">parent_tbl</span><span class="p">;</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">parent_tbl</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">sub_id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span> <span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">filter</span> <span class="nb">int</span><span class="p">,</span>
    <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">parent_tbl</span>
<span class="k">select</span>
    <span class="p">((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">as</span> <span class="n">id</span><span class="p">,</span>
    <span class="p">(((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="k">as</span> <span class="n">sub_id</span><span class="p">,</span>
    <span class="s1">&#39;Parent-&#39;</span> <span class="o">||</span> <span class="n">lpad</span> <span class="p">(</span><span class="n">rownum</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">as</span> <span class="n">name</span><span class="p">,</span>
    <span class="p">((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">as</span> <span class="n">filter</span>
<span class="k">from</span> <span class="n">db_root</span>
<span class="k">connect</span> <span class="k">by</span> <span class="k">level</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">;</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">child_tbl</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span> <span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">filter</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">parent_id</span> <span class="nb">int</span> <span class="k">not</span> <span class="k">null</span><span class="p">,</span>
    <span class="n">parent_sub_id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">),</span>
    <span class="k">foreign</span> <span class="k">key</span> <span class="p">(</span><span class="n">parent_id</span><span class="p">,</span> <span class="n">parent_sub_id</span><span class="p">)</span> <span class="k">references</span> <span class="n">parent_tbl</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">child_tbl</span>
<span class="k">select</span>
    <span class="n">rownum</span> <span class="k">as</span> <span class="n">id</span><span class="p">,</span>
    <span class="s1">&#39;Child-&#39;</span> <span class="o">||</span> <span class="n">lpad</span> <span class="p">(</span><span class="n">rownum</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">as</span> <span class="n">name</span><span class="p">,</span>
    <span class="p">((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">as</span> <span class="n">filter</span><span class="p">,</span>
    <span class="n">id</span> <span class="k">as</span> <span class="n">parent_id</span><span class="p">,</span>
    <span class="n">sub_id</span> <span class="k">as</span> <span class="n">parent_sub_id</span>
<span class="k">from</span> <span class="n">parent_tbl</span><span class="p">,</span> <span class="p">(</span><span class="k">select</span> <span class="k">level</span> <span class="k">from</span> <span class="n">db_root</span> <span class="k">connect</span> <span class="k">by</span> <span class="k">level</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">);</span>

<span class="k">update</span> <span class="k">statistics</span> <span class="k">on</span> <span class="n">parent_tbl</span><span class="p">,</span> <span class="n">child_tbl</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table has been eliminated, and the <strong>IS NOT NULL</strong> condition for the <em>parent_sub_id</em> column of the <em>child_tbl</em> table has been added.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: iscan
                 class: c node[0]
                 index: fk_child_tbl_parent_id_parent_sub_id term[1]
                 filtr: term[2]
                 sargs: term[0]
                 sort:  5 asc
                 cost:  8 card 1
    sort:  2 asc
    cost:  14 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from child_tbl c where c.parent_id= ?:0  and c.filter= ?:1  and c.parent_sub_id is not null  order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
            <span class="mi">1</span>  <span class="s1">&#39;Child-    1&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">10</span>
          <span class="mi">101</span>  <span class="s1">&#39;Child-  101&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">20</span>
          <span class="mi">201</span>  <span class="s1">&#39;Child-  201&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">30</span>
          <span class="mi">301</span>  <span class="s1">&#39;Child-  301&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">40</span>
          <span class="mi">401</span>  <span class="s1">&#39;Child-  401&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">50</span>
          <span class="mi">501</span>  <span class="s1">&#39;Child-  501&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">60</span>
          <span class="mi">601</span>  <span class="s1">&#39;Child-  601&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">70</span>
          <span class="mi">701</span>  <span class="s1">&#39;Child-  701&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">80</span>
          <span class="mi">801</span>  <span class="s1">&#39;Child-  801&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">90</span>
          <span class="mi">901</span>  <span class="s1">&#39;Child-  901&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>            <span class="mi">100</span>
</pre></div>
</div>
<p>The following is an example of using the <strong>NO_ELIMINATE_JOIN</strong> hint.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile no_eliminate_join */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because the <strong>NO_ELIMINATE_JOIN</strong> hint was used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (inner join)
                 outer: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[4] (covers)
                            cost:  1 card 10
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[1] AND term[3]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  4 card 1
    sort:  2 asc
    cost:  10 card 1

Query stmt:

select /*+ NO_ELIMINATE_JOIN */ c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from parent_tbl p, child_tbl c where p.sub_id=c.parent_sub_id and p.id= ?:0  and c.parent_id= ?:1  and c.filter= ?:2  and p.id=c.parent_id order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
            <span class="mi">1</span>  <span class="s1">&#39;Child-    1&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">10</span>
          <span class="mi">101</span>  <span class="s1">&#39;Child-  101&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">20</span>
          <span class="mi">201</span>  <span class="s1">&#39;Child-  201&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">30</span>
          <span class="mi">301</span>  <span class="s1">&#39;Child-  301&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">40</span>
          <span class="mi">401</span>  <span class="s1">&#39;Child-  401&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">50</span>
          <span class="mi">501</span>  <span class="s1">&#39;Child-  501&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">60</span>
          <span class="mi">601</span>  <span class="s1">&#39;Child-  601&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">70</span>
          <span class="mi">701</span>  <span class="s1">&#39;Child-  701&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">80</span>
          <span class="mi">801</span>  <span class="s1">&#39;Child-  801&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>             <span class="mi">90</span>
          <span class="mi">901</span>  <span class="s1">&#39;Child-  901&#39;</span>                   <span class="mi">1</span>            <span class="mi">1</span>            <span class="mi">100</span>
</pre></div>
</div>
<div class="section" id="all-columns-of-the-primary-key-pk-and-the-foreign-key-fk-must-be-used-in-the-join-condition">
<span id="eliminate-inner-join-1"></span><h4>All columns of the primary key (<strong>PK</strong>) and the foreign key (<strong>FK</strong>) must be used in the join condition.<a class="headerlink" href="#all-columns-of-the-primary-key-pk-and-the-foreign-key-fk-must-be-used-in-the-join-condition" title="Permalink to this headline">¶</a></h4>
<p>The following is an example where only the <em>id</em> column of the <em>parent_tbl</em> table and the <em>parent_id</em> column of the <em>child_tbl</em> table are used as the join conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span> <span class="o">=</span> <span class="mi">20</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because the <em>sub_id</em> column of the <em>parent_tbl</em> table and the <em>parent_sub_id</em> column of the <em>child_tbl</em> table were not used as join conditions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: nl-join (cross join)
                 outer: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[2] AND term[3]
                            sargs: term[1]
                            cost:  3 card 1
                 inner: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[4] (covers)
                            cost:  1 card 10
                 cost:  4 card 10
    sort:  2 asc
    cost:  10 card 10

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from parent_tbl p, child_tbl c where p.id= ?:0  and c.parent_sub_id= ?:1  and c.parent_id= ?:2  and c.filter= ?:3  and p.id=c.parent_id order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
         <span class="mi">1102</span>  <span class="s1">&#39;Child- 1102&#39;</span>                   <span class="mi">2</span>            <span class="mi">2</span>             <span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="the-primary-key-pk-column-must-be-used-in-the-same-join-condition-as-the-foreign-key-fk-column-that-refers-to-the-corresponding-primary-key-pk">
<span id="eliminate-inner-join-2"></span><h4>The primary key (<strong>PK</strong>) column must be used in the same join condition as the foreign key (<strong>FK</strong>) column that refers to the corresponding primary key (<strong>PK</strong>).<a class="headerlink" href="#the-primary-key-pk-column-must-be-used-in-the-same-join-condition-as-the-foreign-key-fk-column-that-refers-to-the-corresponding-primary-key-pk" title="Permalink to this headline">¶</a></h4>
<p>The following is an example where the join conditions compare the <em>id</em> column with the <em>parent_sub_id</em> column, and the <em>sub_id column</em> with the <em>parent_id</em> column.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because the <em>id</em> column was not compared to the <em>parent_id</em> column, and the <em>sub_id</em> column was not compared to the <em>parent_sub_id</em> column.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (inner join)
                 outer: sscan
                            class: p node[0]
                            sargs: term[3]
                            cost:  1 card 1
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[0] AND term[4]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  5 card 1
    sort:  2 asc
    cost:  11 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from parent_tbl p, child_tbl c where p.id=c.parent_sub_id and p.sub_id= ?:0  and c.parent_id= ?:1  and c.filter= ?:2  and p.sub_id=c.parent_id order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">There</span> <span class="n">are</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span>
<span class="mi">0</span> <span class="n">row</span> <span class="n">selected</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="all-join-conditions-must-use-the-equality-comparison">
<span id="eliminate-inner-join-3"></span><h4>All join conditions must use the equality (=) comparison.<a class="headerlink" href="#all-join-conditions-must-use-the-equality-comparison" title="Permalink to this headline">¶</a></h4>
<p>The following is an example where the join conditions do not use the equality (=) comparison.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">&lt;</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span> <span class="o">=</span> <span class="mi">40</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because the comparison between the <em>sub_id</em> column of the <em>parent_tbl</em> table and the <em>parent_sub_id</em> column of the <em>child_tbl</em> table in the join condition does not use the equality (=) comparison.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: nl-join (cross join)
                 outer: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[5] AND term[6] (covers)
                            cost:  1 card 1
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[3] AND term[4]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  4 card 1
    sort:  2 asc
    cost:  10 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from parent_tbl p, child_tbl c where (p.sub_id&lt; ?:0 ) and p.id= ?:1  and c.parent_sub_id= ?:2  and c.parent_id= ?:3  and c.filter= ?:4  and p.id=c.parent_id and (p.sub_id&lt;c.parent_sub_id) order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">3304</span>  <span class="s1">&#39;Child- 3304&#39;</span>                   <span class="mi">4</span>            <span class="mi">4</span>             <span class="mi">40</span>
         <span class="mi">3304</span>  <span class="s1">&#39;Child- 3304&#39;</span>                   <span class="mi">4</span>            <span class="mi">4</span>             <span class="mi">40</span>
         <span class="mi">3304</span>  <span class="s1">&#39;Child- 3304&#39;</span>                   <span class="mi">4</span>            <span class="mi">4</span>             <span class="mi">40</span>
</pre></div>
</div>
</div>
<div class="section" id="there-must-be-no-references-to-the-parent-table-other-than-the-join-conditions">
<span id="eliminate-inner-join-4"></span><h4>There must be no references to the parent table other than the join conditions.<a class="headerlink" href="#there-must-be-no-references-to-the-parent-table-other-than-the-join-conditions" title="Permalink to this headline">¶</a></h4>
<p>The following is an example that retrieves the <em>name</em> column from the <em>parent_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">name</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because it is retrieving the values from the <em>name</em> column of the <em>parent_tbl</em> table.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (inner join)
                 outer: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[4]
                            cost:  1 card 10
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[1] AND term[3]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  4 card 1
    sort:  2 asc
    cost:  10 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id, p.[name] from parent_tbl p, child_tbl c where p.sub_id=c.parent_sub_id and p.id= ?:0  and c.parent_id= ?:1  and c.filter= ?:2  and p.id=c.parent_id order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>  <span class="n">name</span>
<span class="o">==================================================================================================</span>
         <span class="mi">4005</span>  <span class="s1">&#39;Child- 4005&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">10</span>  <span class="s1">&#39;Parent- 41&#39;</span>
         <span class="mi">4105</span>  <span class="s1">&#39;Child- 4105&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">20</span>  <span class="s1">&#39;Parent- 42&#39;</span>
         <span class="mi">4205</span>  <span class="s1">&#39;Child- 4205&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">30</span>  <span class="s1">&#39;Parent- 43&#39;</span>
         <span class="mi">4305</span>  <span class="s1">&#39;Child- 4305&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">40</span>  <span class="s1">&#39;Parent- 44&#39;</span>
         <span class="mi">4405</span>  <span class="s1">&#39;Child- 4405&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">50</span>  <span class="s1">&#39;Parent- 45&#39;</span>
         <span class="mi">4505</span>  <span class="s1">&#39;Child- 4505&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">60</span>  <span class="s1">&#39;Parent- 46&#39;</span>
         <span class="mi">4605</span>  <span class="s1">&#39;Child- 4605&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">70</span>  <span class="s1">&#39;Parent- 47&#39;</span>
         <span class="mi">4705</span>  <span class="s1">&#39;Child- 4705&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">80</span>  <span class="s1">&#39;Parent- 48&#39;</span>
         <span class="mi">4805</span>  <span class="s1">&#39;Child- 4805&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">90</span>  <span class="s1">&#39;Parent- 49&#39;</span>
         <span class="mi">4905</span>  <span class="s1">&#39;Child- 4905&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>            <span class="mi">100</span>  <span class="s1">&#39;Parent- 50&#39;</span>
</pre></div>
</div>
<p>The following is an example with a condition on the <em>filter</em> column of the <em>parent_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">5</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because it is retrieving the records where the <em>filter</em> column of the <em>parent_tbl</em> table has a value of 5.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (inner join)
                 outer: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[5]
                            sargs: term[3]
                            cost:  1 card 1
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[1] AND term[4]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  4 card 1
    sort:  2 asc
    cost:  10 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from parent_tbl p, child_tbl c where p.sub_id=c.parent_sub_id and p.id= ?:0  and p.filter= ?:1  and c.parent_id= ?:2  and c.filter= ?:3  and p.id=c.parent_id order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">4405</span>  <span class="s1">&#39;Child- 4405&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">50</span>
</pre></div>
</div>
<p>The following is an example that sorts the results based on the <em>name</em> column of the <em>parent_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">p</span><span class="p">.</span><span class="n">name</span> <span class="k">desc</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated because it is sorting the results based on the <em>name</em> column of the <em>parent_tbl</em> table in descending order.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (inner join)
                 outer: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[4]
                            cost:  1 card 10
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[1] AND term[3]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  4 card 1
    sort:  6 desc
    cost:  10 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id, p.[name] from parent_tbl p, child_tbl c where p.sub_id=c.parent_sub_id and p.id= ?:0  and c.parent_id= ?:1  and c.filter= ?:2  and p.id=c.parent_id order by 6 desc
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">4905</span>  <span class="s1">&#39;Child- 4905&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>            <span class="mi">100</span>
         <span class="mi">4805</span>  <span class="s1">&#39;Child- 4805&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">90</span>
         <span class="mi">4705</span>  <span class="s1">&#39;Child- 4705&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">80</span>
         <span class="mi">4605</span>  <span class="s1">&#39;Child- 4605&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">70</span>
         <span class="mi">4505</span>  <span class="s1">&#39;Child- 4505&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">60</span>
         <span class="mi">4405</span>  <span class="s1">&#39;Child- 4405&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">50</span>
         <span class="mi">4305</span>  <span class="s1">&#39;Child- 4305&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">40</span>
         <span class="mi">4205</span>  <span class="s1">&#39;Child- 4205&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">30</span>
         <span class="mi">4105</span>  <span class="s1">&#39;Child- 4105&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">20</span>
         <span class="mi">4005</span>  <span class="s1">&#39;Child- 4005&#39;</span>                   <span class="mi">5</span>            <span class="mi">5</span>             <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="implicit-equality">
<span id="eliminate-inner-join-5"></span><h4>Implicit Equality (=)<a class="headerlink" href="#implicit-equality" title="Permalink to this headline">¶</a></h4>
<p>Even if there are conditions related to the parent table in the <strong>WHERE</strong> clause other than the join conditions, if the column used in the join conditions is also used in those conditions, the join with the parent table can be eliminated based on implicit equality (=).
That condition must use an equality (=) comparison and be compared to a constant value.</p>
<p>The following is an example with an equality (=) comparison condition on the <em>sub_id</em> column of the <em>parent_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">6</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">6</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="mi">60</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was eliminated because the condition being queried, which retrieves records where the <em>sub_id</em> column of the <em>parent_tbl</em> table has a value of 60, is equivalent to the condition where the <em>parent_sub_id</em> column of the <em>child_tbl</em> table has a value of 60.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: iscan
                 class: c node[0]
                 index: fk_child_tbl_parent_id_parent_sub_id term[1] AND term[2]
                 filtr: term[3]
                 sargs: term[0]
                 cost:  3 card 1
    sort:  2 asc
    cost:  9 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from child_tbl c where c.parent_sub_id= ?:0  and c.parent_id= ?:1  and c.filter= ?:2  and c.parent_sub_id is not null  order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">5506</span>  <span class="s1">&#39;Child- 5506&#39;</span>                   <span class="mi">6</span>            <span class="mi">6</span>             <span class="mi">60</span>
</pre></div>
</div>
</div>
<div class="section" id="the-all-keyword-must-not-be-used-when-querying-the-tables-that-have-an-inheritance-relationship">
<span id="eliminate-inner-join-6"></span><h4>The <strong>ALL</strong> keyword must not be used when querying the tables that have an inheritance relationship.<a class="headerlink" href="#the-all-keyword-must-not-be-used-when-querying-the-tables-that-have-an-inheritance-relationship" title="Permalink to this headline">¶</a></h4>
<p>If the <strong>ALL</strong> keyword is used on either the parent or the child table that has an inheritance relationship, the join with the parent table cannot be eliminated.</p>
<p>The following is an example where the <strong>ALL</strong> keyword is used on the <em>child_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="k">all</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">7</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">7</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was not eliminated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (inner join)
                 outer: iscan
                            class: p node[0]
                            index: pk_parent_tbl_id_sub_id term[4] (covers)
                            cost:  1 card 10
                 inner: iscan
                            class: c node[1]
                            index: fk_child_tbl_parent_id_parent_sub_id term[1] AND term[3]
                            sargs: term[2]
                            cost:  3 card 1
                 cost:  4 card 1
    sort:  2 asc
    cost:  10 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from parent_tbl p,  all child_tbl c where p.sub_id=c.parent_sub_id and p.id= ?:0  and c.parent_id= ?:1  and c.filter= ?:2  and p.id=c.parent_id order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">6007</span>  <span class="s1">&#39;Child- 6007&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">10</span>
         <span class="mi">6107</span>  <span class="s1">&#39;Child- 6107&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">20</span>
         <span class="mi">6207</span>  <span class="s1">&#39;Child- 6207&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">30</span>
         <span class="mi">6307</span>  <span class="s1">&#39;Child- 6307&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">40</span>
         <span class="mi">6407</span>  <span class="s1">&#39;Child- 6407&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">50</span>
         <span class="mi">6507</span>  <span class="s1">&#39;Child- 6507&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">60</span>
         <span class="mi">6607</span>  <span class="s1">&#39;Child- 6607&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">70</span>
         <span class="mi">6707</span>  <span class="s1">&#39;Child- 6707&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">80</span>
         <span class="mi">6807</span>  <span class="s1">&#39;Child- 6807&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">90</span>
         <span class="mi">6907</span>  <span class="s1">&#39;Child- 6907&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>            <span class="mi">100</span>
</pre></div>
</div>
<p>The following is an example where the <strong>ONLY</strong> keyword is used on both the <em>parent_tbl</em> table and the <em>child_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="k">c</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">from</span>
    <span class="k">only</span> <span class="n">parent_tbl</span> <span class="n">p</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="k">only</span> <span class="n">child_tbl</span> <span class="k">c</span> <span class="k">on</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="k">and</span> <span class="n">p</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_sub_id</span>
<span class="k">where</span>
    <span class="k">c</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">7</span> <span class="k">and</span> <span class="k">c</span><span class="p">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="mi">7</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="k">c</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>parent_tbl</em> table was eliminated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: iscan
                 class: c node[0]
                 index: fk_child_tbl_parent_id_parent_sub_id term[1]
                 filtr: term[2]
                 sargs: term[0]
                 sort:  5 asc
                 cost:  8 card 1
    sort:  2 asc
    cost:  14 card 1

Query stmt:

select c.id, c.[name], c.filter, c.parent_id, c.parent_sub_id from child_tbl c where c.parent_id= ?:0  and c.filter= ?:1  and c.parent_sub_id is not null  order by 2
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>  <span class="n">name</span>                       <span class="nb">filter</span>    <span class="n">parent_id</span>  <span class="n">parent_sub_id</span>
<span class="o">============================================================================</span>
         <span class="mi">6007</span>  <span class="s1">&#39;Child- 6007&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">10</span>
         <span class="mi">6107</span>  <span class="s1">&#39;Child- 6107&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">20</span>
         <span class="mi">6207</span>  <span class="s1">&#39;Child- 6207&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">30</span>
         <span class="mi">6307</span>  <span class="s1">&#39;Child- 6307&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">40</span>
         <span class="mi">6407</span>  <span class="s1">&#39;Child- 6407&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">50</span>
         <span class="mi">6507</span>  <span class="s1">&#39;Child- 6507&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">60</span>
         <span class="mi">6607</span>  <span class="s1">&#39;Child- 6607&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">70</span>
         <span class="mi">6707</span>  <span class="s1">&#39;Child- 6707&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">80</span>
         <span class="mi">6807</span>  <span class="s1">&#39;Child- 6807&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>             <span class="mi">90</span>
         <span class="mi">6907</span>  <span class="s1">&#39;Child- 6907&#39;</span>                   <span class="mi">7</span>            <span class="mi">7</span>            <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="eliminating-left-outer-join">
<span id="eliminate-left-outer-join"></span><h3>Eliminating <strong>LEFT OUTER JOIN</strong><a class="headerlink" href="#eliminating-left-outer-join" title="Permalink to this headline">¶</a></h3>
<p>In <strong>LEFT OUTER JOIN</strong> of an N:1 relationship, if there are no references to the right table other than the join conditions, eliminating the join with the right table does not affect the query result.
In this case, by elimination the join with the right table, the join operation is reduced and the query performance is improved.</p>
<p>To eliminate the <strong>LEFT OUTER JOIN</strong>, the following conditions must be satisfied:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Perform the <strong>LEFT OUTER JOIN</strong>.</li>
<li>The right table must have the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint.</li>
<li>All columns of the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint must be used in the join conditions.</li>
<li>All join conditions must use the equality (=) comparison.</li>
<li>There must be no references to the right table ther than the join conditions.</li>
<li>The <strong>ALL</strong> keyword must not be used when querying the tables that have an inheritance relationship.</li>
</ol>
</div></blockquote>
<p>The following is an example of eliminating the <strong>LEFT OUTER JOIN</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="n">login</span> <span class="p">(</span><span class="s1">&#39;public&#39;</span><span class="p">)</span> <span class="k">on</span> <span class="k">class</span> <span class="n">db_user</span><span class="p">;</span>

<span class="cm">/* current_user: public */</span>
<span class="k">drop</span> <span class="k">table</span> <span class="k">if</span> <span class="k">exists</span> <span class="n">left_tbl</span><span class="p">,</span> <span class="n">right_tbl</span><span class="p">;</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">left_tbl</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">sub_id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">other_id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span> <span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">filter</span> <span class="nb">int</span><span class="p">,</span>
    <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">,</span> <span class="n">other_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">left_tbl</span>
<span class="k">select</span>
    <span class="p">((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">as</span> <span class="n">id</span><span class="p">,</span>
    <span class="p">(((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="k">as</span> <span class="n">sub_id</span><span class="p">,</span>
    <span class="p">(((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span> <span class="k">as</span> <span class="n">other_id</span><span class="p">,</span>
    <span class="s1">&#39;Left-&#39;</span> <span class="o">||</span> <span class="n">lpad</span> <span class="p">(</span><span class="n">rownum</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="n">name</span><span class="p">,</span>
    <span class="p">((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">as</span> <span class="n">filter</span>
<span class="k">from</span> <span class="n">db_root</span>
<span class="k">connect</span> <span class="k">by</span> <span class="k">level</span> <span class="o">&lt;=</span> <span class="mi">1000</span><span class="p">;</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">sub_id</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span> <span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">filter</span> <span class="nb">int</span><span class="p">,</span>
    <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">insert</span> <span class="k">into</span> <span class="n">right_tbl</span>
<span class="k">select</span>
    <span class="n">id</span> <span class="k">as</span> <span class="n">id</span><span class="p">,</span>
    <span class="n">sub_id</span> <span class="k">as</span> <span class="n">sub_id</span><span class="p">,</span>
    <span class="s1">&#39;Right-&#39;</span> <span class="o">||</span> <span class="n">lpad</span> <span class="p">(</span><span class="n">rownum</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">as</span> <span class="n">name</span><span class="p">,</span>
    <span class="p">((</span><span class="n">rownum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">as</span> <span class="n">filter</span>
<span class="k">from</span> <span class="p">(</span><span class="k">select</span> <span class="k">distinct</span> <span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span> <span class="k">from</span> <span class="n">left_tbl</span><span class="p">);</span>

<span class="k">update</span> <span class="k">statistics</span> <span class="k">on</span> <span class="n">left_tbl</span><span class="p">,</span> <span class="n">right_tbl</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was eliminated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: sscan
                 class: l node[0]
                 sargs: term[0]
                 cost:  6 card 1
    sort:  4 asc
    cost:  13 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left-   1&#39;</span>                     <span class="mi">1</span>
            <span class="mi">2</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 101&#39;</span>                     <span class="mi">1</span>
            <span class="mi">3</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 201&#39;</span>                     <span class="mi">1</span>
            <span class="mi">4</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 301&#39;</span>                     <span class="mi">1</span>
            <span class="mi">5</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 401&#39;</span>                     <span class="mi">1</span>
            <span class="mi">6</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 501&#39;</span>                     <span class="mi">1</span>
            <span class="mi">7</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 601&#39;</span>                     <span class="mi">1</span>
            <span class="mi">8</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 701&#39;</span>                     <span class="mi">1</span>
            <span class="mi">9</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 801&#39;</span>                     <span class="mi">1</span>
           <span class="mi">10</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 901&#39;</span>                     <span class="mi">1</span>
</pre></div>
</div>
<p>The following is an example of using the <strong>NO_ELIMINATE_JOIN</strong> hint.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile no_eliminate_join */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated because the <strong>NO_ELIMINATE_JOIN</strong> hint was used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: sscan
                            class: l node[0]
                            sargs: term[2]
                            cost:  6 card 1
                 inner: iscan
                            class: r node[1]
                            index: pk_right_tbl_id_sub_id term[0] AND term[1] (covers)
                            cost:  1 card 100
                 cost:  9 card 1
    sort:  4 asc
    cost:  15 card 1

Query stmt:

select /*+ NO_ELIMINATE_JOIN */ l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l left outer join right_tbl r on l.sub_id=r.sub_id and l.id=r.id where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left-   1&#39;</span>                     <span class="mi">1</span>
            <span class="mi">2</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 101&#39;</span>                     <span class="mi">1</span>
            <span class="mi">3</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 201&#39;</span>                     <span class="mi">1</span>
            <span class="mi">4</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 301&#39;</span>                     <span class="mi">1</span>
            <span class="mi">5</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 401&#39;</span>                     <span class="mi">1</span>
            <span class="mi">6</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 501&#39;</span>                     <span class="mi">1</span>
            <span class="mi">7</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 601&#39;</span>                     <span class="mi">1</span>
            <span class="mi">8</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 701&#39;</span>                     <span class="mi">1</span>
            <span class="mi">9</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 801&#39;</span>                     <span class="mi">1</span>
           <span class="mi">10</span>           <span class="mi">10</span>          <span class="mi">100</span>  <span class="s1">&#39;Left- 901&#39;</span>                     <span class="mi">1</span>
</pre></div>
</div>
<div class="section" id="the-right-table-must-have-the-primary-key-pk-or-the-unique-constraint">
<span id="eliminate-left-outer-join-1"></span><h4>The right table must have the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint.<a class="headerlink" href="#the-right-table-must-have-the-primary-key-pk-or-the-unique-constraint" title="Permalink to this headline">¶</a></h4>
<p>If the right table does not have the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint, it is not an N:1 relationship for the <strong>LEFT OUTER JOIN</strong>, and therefore the join with the right table cannot be eliminated.</p>
<p>The following is an example where the primary key (<strong>PK</strong>) of the <em>right_tbl</em> table is removed, and a general index is created on the <em>id</em> and the <em>sub_id</em> columns.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">drop</span> <span class="k">primary</span> <span class="k">key</span><span class="p">;</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">add</span> <span class="k">index</span> <span class="n">i_right_id_sub_id</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">);</span>
<span class="k">update</span> <span class="k">statistics</span> <span class="k">on</span> <span class="n">right_tbl</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>

<span class="k">drop</span> <span class="k">index</span> <span class="n">i_right_id_sub_id</span> <span class="k">on</span> <span class="n">right_tbl</span><span class="p">;</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">add</span> <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">);</span>
<span class="k">update</span> <span class="k">statistics</span> <span class="k">on</span> <span class="n">right_tbl</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated because the <em>right_tbl</em> table does not have the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: sscan
                            class: l node[0]
                            sargs: term[2]
                            cost:  6 card 1
                 inner: iscan
                            class: r node[1]
                            index: i_right_id_sub_id term[0] AND term[1] (covers)
                            cost:  1 card 100
                 cost:  9 card 1
    sort:  4 asc
    cost:  15 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l left outer join right_tbl r on l.sub_id=r.sub_id and l.id=r.id where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left-   2&#39;</span>                     <span class="mi">2</span>
            <span class="mi">2</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 102&#39;</span>                     <span class="mi">2</span>
            <span class="mi">3</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 202&#39;</span>                     <span class="mi">2</span>
            <span class="mi">4</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 302&#39;</span>                     <span class="mi">2</span>
            <span class="mi">5</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 402&#39;</span>                     <span class="mi">2</span>
            <span class="mi">6</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 502&#39;</span>                     <span class="mi">2</span>
            <span class="mi">7</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 602&#39;</span>                     <span class="mi">2</span>
            <span class="mi">8</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 702&#39;</span>                     <span class="mi">2</span>
            <span class="mi">9</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 802&#39;</span>                     <span class="mi">2</span>
           <span class="mi">10</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 902&#39;</span>                     <span class="mi">2</span>
</pre></div>
</div>
<p>The following is an example of removing the primary key (<strong>PK</strong>) of the <em>right_tbl</em> table and creating the <strong>UNIQUE</strong> constraint consisting of the <em>id</em> column and the <em>sub_id</em> column.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">drop</span> <span class="k">primary</span> <span class="k">key</span><span class="p">;</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">add</span> <span class="k">constraint</span> <span class="k">unique</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">);</span>
<span class="k">update</span> <span class="k">statistics</span> <span class="k">on</span> <span class="n">right_tbl</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>

<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">drop</span> <span class="k">constraint</span> <span class="n">u_right_tbl_id_sub_id</span><span class="p">;</span>
<span class="k">alter</span> <span class="k">table</span> <span class="n">right_tbl</span> <span class="k">add</span> <span class="k">primary</span> <span class="k">key</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">sub_id</span><span class="p">);</span>
<span class="k">update</span> <span class="k">statistics</span> <span class="k">on</span> <span class="n">right_tbl</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was eliminated because the <em>right_tbl</em> table does not have the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: sscan
                 class: l node[0]
                 sargs: term[0]
                 cost:  6 card 1
    sort:  4 asc
    cost:  13 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left-   2&#39;</span>                     <span class="mi">2</span>
            <span class="mi">2</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 102&#39;</span>                     <span class="mi">2</span>
            <span class="mi">3</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 202&#39;</span>                     <span class="mi">2</span>
            <span class="mi">4</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 302&#39;</span>                     <span class="mi">2</span>
            <span class="mi">5</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 402&#39;</span>                     <span class="mi">2</span>
            <span class="mi">6</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 502&#39;</span>                     <span class="mi">2</span>
            <span class="mi">7</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 602&#39;</span>                     <span class="mi">2</span>
            <span class="mi">8</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 702&#39;</span>                     <span class="mi">2</span>
            <span class="mi">9</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 802&#39;</span>                     <span class="mi">2</span>
           <span class="mi">10</span>           <span class="mi">20</span>          <span class="mi">200</span>  <span class="s1">&#39;Left- 902&#39;</span>                     <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="all-columns-of-the-primary-key-pk-or-the-unique-constraint-must-be-used-in-the-join-conditions">
<span id="eliminate-left-outer-join-2"></span><h4>All columns of the primary key (<strong>PK</strong>) or the <strong>UNIQUE</strong> constraint must be used in the join conditions.<a class="headerlink" href="#all-columns-of-the-primary-key-pk-or-the-unique-constraint-must-be-used-in-the-join-conditions" title="Permalink to this headline">¶</a></h4>
<p>The following is an example where only the <em>id</em> column of the <em>left_tbl</em> table and the <em>id</em> column of the <em>right_tbl</em> table are used as the join conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated because the <em>sub_id</em> column of the <em>left_tbl</em> table and the <em>sub_id</em> column of the <em>right_tbl</em> table were not used as the join conditions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: iscan
                            class: l node[0]
                            index: pk_left_tbl_id_sub_id_other_id term[2]
                            sargs: term[1]
                            cost:  3 card 1
                 inner: iscan
                            class: r node[1]
                            index: pk_right_tbl_id_sub_id term[0] (covers)
                            filtr: term[3]
                            cost:  1 card 10
                 sort:  2 asc, 3 asc
                 cost:  4 card 1
    sort:  4 asc
    cost:  10 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l left outer join right_tbl r on l.id=r.id and r.id= ?:0  where l.id= ?:1  and l.filter= ?:2  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
            <span class="mi">3</span>           <span class="mi">30</span>          <span class="mi">300</span>  <span class="s1">&#39;Left- 203&#39;</span>                     <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="eliminate-left-outer-join-3">
<span id="id10"></span><h4>All join conditions must use the equality (=) comparison.<a class="headerlink" href="#eliminate-left-outer-join-3" title="Permalink to this headline">¶</a></h4>
<p>The following is an example where the join conditions do not use the equality (=) comparison.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated because the comparison between the <em>sub_id</em> column of the <em>left_tbl</em> table and the <em>sub_id</em> column of the <em>right_tbl</em> table in the join conditions does not use the equality (=) comparison.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: iscan
                            class: l node[0]
                            index: pk_left_tbl_id_sub_id_other_id term[3]
                            sargs: term[2]
                            cost:  3 card 1
                 inner: iscan
                            class: r node[1]
                            index: pk_right_tbl_id_sub_id term[0] (covers)
                            filtr: term[1] AND term[4]
                            cost:  1 card 10
                 sort:  2 asc, 3 asc
                 cost:  4 card 1
    sort:  4 asc
    cost:  10 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l left outer join right_tbl r on l.id=r.id and r.id= ?:0  and (l.sub_id&lt;r.sub_id) where l.id= ?:1  and l.filter= ?:2  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">4</span>           <span class="mi">40</span>          <span class="mi">400</span>  <span class="s1">&#39;Left- 304&#39;</span>                     <span class="mi">4</span>
            <span class="mi">4</span>           <span class="mi">40</span>          <span class="mi">400</span>  <span class="s1">&#39;Left- 304&#39;</span>                     <span class="mi">4</span>
            <span class="mi">4</span>           <span class="mi">40</span>          <span class="mi">400</span>  <span class="s1">&#39;Left- 304&#39;</span>                     <span class="mi">4</span>
            <span class="mi">4</span>           <span class="mi">40</span>          <span class="mi">400</span>  <span class="s1">&#39;Left- 304&#39;</span>                     <span class="mi">4</span>
            <span class="mi">4</span>           <span class="mi">40</span>          <span class="mi">400</span>  <span class="s1">&#39;Left- 304&#39;</span>                     <span class="mi">4</span>
            <span class="mi">4</span>           <span class="mi">40</span>          <span class="mi">400</span>  <span class="s1">&#39;Left- 304&#39;</span>                     <span class="mi">4</span>
</pre></div>
</div>
</div>
<div class="section" id="there-must-be-no-references-to-the-right-table-ther-than-the-join-conditions">
<span id="eliminate-left-outer-join-4"></span><h4>There must be no references to the right table ther than the join conditions.<a class="headerlink" href="#there-must-be-no-references-to-the-right-table-ther-than-the-join-conditions" title="Permalink to this headline">¶</a></h4>
<p>The following is an example that retrieves the <em>name</em> column from the <em>right_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">name</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated because it is retrieving the values from the <em>name</em> column of the <em>right_tbl</em> table.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: sscan
                            class: l node[0]
                            sargs: term[2]
                            cost:  6 card 1
                 inner: iscan
                            class: r node[1]
                            index: pk_right_tbl_id_sub_id term[0] AND term[1]
                            cost:  1 card 100
                 cost:  9 card 1
    sort:  4 asc
    cost:  15 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter, r.[name] from left_tbl l left outer join right_tbl r on l.sub_id=r.sub_id and l.id=r.id where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>  <span class="n">name</span>
<span class="o">================================================================================================</span>
            <span class="mi">1</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left-   5&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right-  5&#39;</span>
            <span class="mi">2</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 105&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 15&#39;</span>
            <span class="mi">3</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 205&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 25&#39;</span>
            <span class="mi">4</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 305&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 35&#39;</span>
            <span class="mi">5</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 405&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 45&#39;</span>
            <span class="mi">6</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 505&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 55&#39;</span>
            <span class="mi">7</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 605&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 65&#39;</span>
            <span class="mi">8</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 705&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 75&#39;</span>
            <span class="mi">9</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 805&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 85&#39;</span>
           <span class="mi">10</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 905&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 95&#39;</span>
</pre></div>
</div>
<p>The following is an example where there are conditions on the <em>filter</em> column of the <em>right_tbl</em> table before performing the <strong>LEFT OUTER JOIN</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span> <span class="k">and</span> <span class="n">r</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was eliminated because the query is filtering the records to retrieve only those where the <em>filter</em> column of the <em>right_tbl</em> table has a value of 5 before performing the <strong>LEFT OUTER JOIN</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: sscan
                 class: l node[0]
                 sargs: term[0]
                 cost:  6 card 1
    sort:  4 asc
    cost:  13 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left-   5&#39;</span>                     <span class="mi">5</span>
            <span class="mi">2</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 105&#39;</span>                     <span class="mi">5</span>
            <span class="mi">3</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 205&#39;</span>                     <span class="mi">5</span>
            <span class="mi">4</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 305&#39;</span>                     <span class="mi">5</span>
            <span class="mi">5</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 405&#39;</span>                     <span class="mi">5</span>
            <span class="mi">6</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 505&#39;</span>                     <span class="mi">5</span>
            <span class="mi">7</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 605&#39;</span>                     <span class="mi">5</span>
            <span class="mi">8</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 705&#39;</span>                     <span class="mi">5</span>
            <span class="mi">9</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 805&#39;</span>                     <span class="mi">5</span>
           <span class="mi">10</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 905&#39;</span>                     <span class="mi">5</span>
</pre></div>
</div>
<p>The following is an example that sorts the results based on the <em>name</em> column of the <em>right_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">name</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">r</span><span class="p">.</span><span class="n">name</span> <span class="k">desc</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated because it is sorting the results based on the <em>name</em> column of the <em>right_tbl</em> table in descending order.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: sscan
                            class: l node[0]
                            sargs: term[2]
                            cost:  6 card 1
                 inner: iscan
                            class: r node[1]
                            index: pk_right_tbl_id_sub_id term[0] AND term[1]
                            cost:  1 card 100
                 cost:  9 card 1
    sort:  6 desc
    cost:  15 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter, r.[name] from left_tbl l left outer join right_tbl r on l.sub_id=r.sub_id and l.id=r.id where l.filter= ?:0  order by 6 desc
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>  <span class="n">name</span>
<span class="o">================================================================================================</span>
           <span class="mi">10</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 905&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 95&#39;</span>
            <span class="mi">9</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 805&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 85&#39;</span>
            <span class="mi">8</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 705&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 75&#39;</span>
            <span class="mi">7</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 605&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 65&#39;</span>
            <span class="mi">6</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 505&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 55&#39;</span>
            <span class="mi">5</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 405&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 45&#39;</span>
            <span class="mi">4</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 305&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 35&#39;</span>
            <span class="mi">3</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 205&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 25&#39;</span>
            <span class="mi">2</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left- 105&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right- 15&#39;</span>
            <span class="mi">1</span>           <span class="mi">50</span>          <span class="mi">500</span>  <span class="s1">&#39;Left-   5&#39;</span>                     <span class="mi">5</span>  <span class="s1">&#39;Right-  5&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="eliminate-left-outer-join-5">
<span id="id11"></span><h4>The <strong>ALL</strong> keyword must not be used when querying the tables that have an inheritance relationship.<a class="headerlink" href="#eliminate-left-outer-join-5" title="Permalink to this headline">¶</a></h4>
<p>If the <strong>ALL</strong> keyword is used on the right table that has an inheritance relationship, the join with the right table cannot be eliminated.</p>
<p>The following is an example where the <strong>ALL</strong> keyword is used on the <em>right_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="k">all</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">6</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was not eliminated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: idx-join (left outer join)
                 outer: sscan
                            class: l node[0]
                            sargs: term[2]
                            cost:  6 card 1
                 inner: iscan
                            class: r node[1]
                            index: pk_right_tbl_id_sub_id term[0] AND term[1] (covers)
                            cost:  1 card 100
                 cost:  9 card 1
    sort:  4 asc
    cost:  15 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l left outer join  all right_tbl r on l.sub_id=r.sub_id and l.id=r.id where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left-   6&#39;</span>                     <span class="mi">6</span>
            <span class="mi">2</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 106&#39;</span>                     <span class="mi">6</span>
            <span class="mi">3</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 206&#39;</span>                     <span class="mi">6</span>
            <span class="mi">4</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 306&#39;</span>                     <span class="mi">6</span>
            <span class="mi">5</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 406&#39;</span>                     <span class="mi">6</span>
            <span class="mi">6</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 506&#39;</span>                     <span class="mi">6</span>
            <span class="mi">7</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 606&#39;</span>                     <span class="mi">6</span>
            <span class="mi">8</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 706&#39;</span>                     <span class="mi">6</span>
            <span class="mi">9</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 806&#39;</span>                     <span class="mi">6</span>
           <span class="mi">10</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 906&#39;</span>                     <span class="mi">6</span>
</pre></div>
</div>
<p>The following is an example where the <strong>ONLY</strong> keyword is used on both the <em>left_tbl</em> table and the <em>right_tbl</em> table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* current_user: public */</span>
<span class="k">set</span> <span class="n">optimization</span> <span class="k">level</span> <span class="mi">513</span><span class="p">;</span>

<span class="k">select</span> <span class="cm">/*+ recompile */</span>
    <span class="n">l</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">other_id</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">l</span><span class="p">.</span><span class="n">filter</span>
<span class="k">from</span>
    <span class="k">only</span> <span class="n">left_tbl</span> <span class="k">as</span> <span class="n">l</span>
    <span class="k">left</span> <span class="k">outer</span> <span class="k">join</span> <span class="k">only</span> <span class="n">right_tbl</span> <span class="k">as</span> <span class="n">r</span> <span class="k">on</span> <span class="n">l</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span> <span class="n">l</span><span class="p">.</span><span class="n">sub_id</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">sub_id</span>
<span class="k">where</span>
    <span class="n">l</span><span class="p">.</span><span class="n">filter</span> <span class="o">=</span> <span class="mi">6</span>
<span class="k">order</span> <span class="k">by</span>
    <span class="n">l</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>
</div>
<p>The join with the <em>right_tbl</em> table was eliminated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Query plan:

temp(order by)
    subplan: sscan
                 class: l node[0]
                 sargs: term[0]
                 cost:  6 card 1
    sort:  4 asc
    cost:  13 card 1

Query stmt:

select l.id, l.sub_id, l.other_id, l.[name], l.filter from left_tbl l where l.filter= ?:0  order by 4
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="nb">id</span>       <span class="n">sub_id</span>     <span class="n">other_id</span>  <span class="n">name</span>                       <span class="nb">filter</span>
<span class="o">==========================================================================</span>
            <span class="mi">1</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left-   6&#39;</span>                     <span class="mi">6</span>
            <span class="mi">2</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 106&#39;</span>                     <span class="mi">6</span>
            <span class="mi">3</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 206&#39;</span>                     <span class="mi">6</span>
            <span class="mi">4</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 306&#39;</span>                     <span class="mi">6</span>
            <span class="mi">5</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 406&#39;</span>                     <span class="mi">6</span>
            <span class="mi">6</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 506&#39;</span>                     <span class="mi">6</span>
            <span class="mi">7</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 606&#39;</span>                     <span class="mi">6</span>
            <span class="mi">8</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 706&#39;</span>                     <span class="mi">6</span>
            <span class="mi">9</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 806&#39;</span>                     <span class="mi">6</span>
           <span class="mi">10</span>           <span class="mi">60</span>          <span class="mi">600</span>  <span class="s1">&#39;Left- 906&#39;</span>                     <span class="mi">6</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="view-merging-optimization">
<span id="view-merge"></span><h1>View Merging Optimization<a class="headerlink" href="#view-merging-optimization" title="Permalink to this headline">¶</a></h1>
<p><strong>View Merging</strong> is an optimization for reducing overhead that occur during the processing of view or inline view.
When a query includes a view, there is an overhead of creating a temporary table for that view.
And it’s impossible to perform index scan on temporary tables, leading to performance degradation.
But, by using <strong>View Merging</strong> to merge the view with table in main query, performance can be improved because index scan is available.</p>
<p>Like <em>Query 1</em> below, which use inline views, make it easier to understand the intent of the query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Query 1 */</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;USA&#39;</span><span class="p">)</span> <span class="n">a</span><span class="p">,</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">record</span> <span class="k">WHERE</span> <span class="n">medal</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
<p>If the query is executed without <strong>View Merging</strong> optimization, the join is performed with the temporary results of executing each of the inline views <em>a</em> and <em>b</em>. Temporary results cannot use indexes, resulting in performance degradation.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Query 2 */</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">emp</span> <span class="n">a</span><span class="p">,</span> <span class="n">dept</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span>
<span class="k">AND</span> <span class="n">a</span><span class="p">.</span><span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;USA&#39;</span>
<span class="k">AND</span> <span class="n">b</span><span class="p">.</span><span class="n">medal</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>When <strong>View Merging</strong> optimization is performed, <em>Query 1</em> is transformed into <em>Query 2</em>.</p>
<p>In the following cases, <strong>View Merging</strong> is not performed:</p>
<ol class="arabic simple">
<li>Using <strong>NO_MERGE</strong> hint on a view.</li>
<li>The view includes a <strong>CONNECT BY</strong> clause.</li>
<li>The view includes a <strong>DISTINCT</strong> clause.</li>
<li>The view is <strong>CTE</strong> (Common Table Expressions).</li>
<li>Using <strong>OUTER JOIN</strong> with a view.</li>
<li>The view using aggregate or analytic functions.</li>
<li>Using <strong>ROWNUM, LIMIT</strong>, or <strong>GROUPBY_NUM(), INST_NUM(), ORDERBY_NUM()</strong>.</li>
<li>The view using <strong>Correlated Subquery</strong>.</li>
<li>The view includes methods.</li>
<li>The view includes <strong>RANDOM(), DRANDOM(), SYS_GUID()</strong>.</li>
</ol>
<p>The following is an example that uses <strong>NO_MERGE</strong> hint on a view.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="cm">/*+ NO_MERGE*/</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;USA&#39;</span><span class="p">)</span> <span class="n">a</span><span class="p">,</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="cm">/*+ NO_MERGE*/</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">record</span> <span class="k">WHERE</span> <span class="n">medal</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
<p>If the <strong>NO_MERGE</strong> hint is used on a view, <strong>View Merging</strong> is not performed.</p>
<p>The following is an example that includes the <strong>CONNECT BY</strong> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Creating a tree table and then inserting data</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">tree</span><span class="p">(</span><span class="n">id</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">mgrid</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">32</span><span class="p">),</span> <span class="n">birthyear</span> <span class="nb">INT</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">&#39;Kim&#39;</span><span class="p">,</span> <span class="mi">1963</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">&#39;Moy&#39;</span><span class="p">,</span> <span class="mi">1958</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Jonas&#39;</span><span class="p">,</span> <span class="mi">1976</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Smith&#39;</span><span class="p">,</span> <span class="mi">1974</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;Verma&#39;</span><span class="p">,</span> <span class="mi">1973</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;Foster&#39;</span><span class="p">,</span> <span class="mi">1972</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">tree</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;Brown&#39;</span><span class="p">,</span> <span class="mi">1981</span><span class="p">);</span>

<span class="c1">-- Executing a hierarchical query with CONNECT BY clause</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tree</span> <span class="k">WHERE</span> <span class="n">birthyear</span> <span class="o">=</span> <span class="mi">1973</span><span class="p">)</span> <span class="n">t</span>
<span class="k">CONNECT</span> <span class="k">BY</span> <span class="k">PRIOR</span> <span class="n">t</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">t</span><span class="p">.</span><span class="n">mgrid</span><span class="p">;</span>
</pre></div>
</div>
<p>Due to the use of the <strong>CONNECT BY</strong> in the above query, <strong>View Merging</strong> cannot be performed.</p>
<p>The following is an example where a view includes the <strong>DISTINCT</strong> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">host_year</span> <span class="k">FROM</span> <span class="n">record</span><span class="p">)</span> <span class="n">T</span><span class="p">;</span>
</pre></div>
</div>
<p>Due to the <strong>DISTINCT</strong> clause used within the view in the above query, <strong>View Merging</strong> cannot be performed.</p>
<p>The following is an example that the view is <strong>CTE</strong> (Common Table Expressions).</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span> <span class="n">cte</span> <span class="k">AS</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">cte</span> <span class="k">WHERE</span> <span class="n">cte</span><span class="p">.</span><span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;USA&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>When using <strong>CTE</strong> as above, <strong>View Merging</strong> optimization cannot be performed.</p>
<p>The following is an example performing an <strong>OUTER JOIN</strong> with a view.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">athlete</span> <span class="n">a</span>
<span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">record</span> <span class="k">WHERE</span> <span class="n">host_year</span> <span class="o">=</span> <span class="mi">2020</span><span class="p">)</span> <span class="n">b</span>
<span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
<p>In cases where an <strong>OUTER JOIN</strong> is performed as above, <strong>View Merging</strong> cannot be performed.</p>
<p>The following is an example using aggregate or analytic functions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">host_year</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">record</span> <span class="k">WHERE</span> <span class="n">medal</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span> <span class="n">a</span><span class="p">;</span>
</pre></div>
</div>
<p>When using aggregate or analytic functions in views as above, <strong>View Merging</strong> optimization cannot be performed.</p>
<p>The following is an example using <strong>ROWNUM, LIMIT</strong> or <strong>GROUPBY_NUM(), INST_NUM(), ORDERBY_NUM()</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">gender</span><span class="p">,</span> <span class="n">rownum</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">rownum</span> <span class="o">&lt;</span> <span class="mi">15</span><span class="p">)</span> <span class="n">a</span>
<span class="k">WHERE</span> <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>When using <strong>ROWNUM, LIMIT</strong> or <strong>GROUPBY_NUM(), INST_NUM(), ORDERBY_NUM()</strong> in views as above, <strong>View Merging</strong> optimization cannot be performed.</p>
<p>The following is an example using <strong>Correlated Subquery</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">athlete</span> <span class="n">a</span><span class="p">,</span>
<span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">record</span> <span class="n">r</span> <span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">)</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<p>When using <strong>Correlated Subquery</strong> as above, <strong>View Merging</strong> optimization cannot be performed.</p>
<p>The following is an example where a view includes <strong>RANDOM(), DRANDOM(), SYS_GUID()</strong>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span>    <span class="p">(</span><span class="k">SELECT</span> <span class="n">RANDOM</span> <span class="p">(),</span> <span class="n">code</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;USA&#39;</span><span class="p">)</span> <span class="n">a</span><span class="p">,</span>
        <span class="p">(</span><span class="k">SELECT</span> <span class="n">SYS_GUID</span> <span class="p">(),</span> <span class="n">athlete_code</span> <span class="k">FROM</span> <span class="n">record</span> <span class="k">WHERE</span> <span class="n">medal</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
<p>When using <strong>RANDOM(), DRANDOM(), SYS_GUID()</strong> in views as above, <strong>View Merging</strong> optimization cannot be performed.</p>
<div class="section" id="predicate-push">
<span id="pred-push"></span><h2>Predicate Push<a class="headerlink" href="#predicate-push" title="Permalink to this headline">¶</a></h2>
<p><strong>Predicate Push</strong> is an optimization that pushes the predicate of the main query into the view.</p>
<p>By applying <strong>Predicate Push</strong> to the subquery, the amount of data queried in the subquery is reduced.</p>
<p>For instance, when performing a join using the join condition <em>a.code = r.athlete_code</em> as in the query below, if the external predicate can be pushed into the query block, the amount of data to be joined can be reduced.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">score</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">cnt</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">)</span> <span class="n">a</span><span class="p">,</span> <span class="n">record</span> <span class="n">r</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">athlete_code</span>
<span class="k">AND</span> <span class="n">a</span><span class="p">.</span><span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;KOR&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>There are no predicates in the inline-view of the query above. If the query rewrite doesn’t work,
the <em>athlete</em> table would have been fully scanned, creating a temporary result, joined, and filtering with the condition <em>a.nation_code = ‘KOR’</em>.</p>
<p>However, if the query is rewritten as follows by using <strong>Predicate Push</strong>, it can be optimized to reduce the amount of data being queried.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">score</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">cnt</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;KOR&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">,</span> <span class="n">nation_code</span> <span class="p">)</span> <span class="n">a</span><span class="p">,</span> <span class="n">record</span> <span class="n">r</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">athlete_code</span><span class="p">;</span>
</pre></div>
</div>
<p>In the following cases, <strong>Predicate Push</strong> is not performed:</p>
<ol class="arabic">
<li><p class="first">Using <strong>NO_PUSH_PRED</strong> hint on main query.</p>
</li>
<li><p class="first">Contains <strong>CONNECT BY</strong> on main query.</p>
</li>
<li><p class="first">Using aggregate or analytic functions on view.</p>
</li>
<li><p class="first">Using <strong>ROWNUM, LIMIT</strong>, or <strong>GROUPBY_NUM(), INST_NUM(), ORDERBY_NUM()</strong> on view.</p>
</li>
<li><p class="first">Using <strong>Correlated Subquery</strong>.</p>
</li>
<li><p class="first">Using subqueries in predicates.</p>
</li>
<li><p class="first">The view includes methods.</p>
</li>
<li><p class="first">When the predicate to be pushed or the target for <strong>Predicate Push</strong> within the view uses <strong>RANDOM (), DRANDOM (), SYS_GUID ()</strong>.</p>
</li>
<li><p class="first">When performing an <strong>OUTER JOIN</strong> and either the predicate to be pushed or the target for <strong>Predicate Push</strong> within the view uses:</p>
<blockquote>
<div><ul class="simple">
<li>Predicates written in the <strong>ON</strong> clause.</li>
<li>Using <strong>NULL</strong> transformation functions. This includes <strong>COALESCE (), NVL (), NVL2 (), DECODE (), IF (), IFNULL (), CONCAT_WS ()</strong>.</li>
<li><strong>IS NULL ,CASE</strong> statements are also not targets for <strong>Predicate Push</strong>.</li>
</ul>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>NULL</strong> transformation function includes the following functions:</p>
<ul class="simple">
<li><strong>COALESCE ()</strong></li>
<li><strong>NVL ()</strong></li>
<li><strong>NVL2 ()</strong></li>
<li><strong>DECODE ()</strong></li>
<li><strong>IF ()</strong></li>
<li><strong>IFNULL ()</strong></li>
<li><strong>CONCAT_WS ()</strong></li>
</ul>
<p class="last">Furthermore, <strong>IS NULL ,CASE</strong> statements are also not targets for <strong>Predicate Push</strong>.</p>
</div>
<p>The following is an example that uses <strong>NO_PUSH_PRED</strong> hint on main query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="cm">/*+ NO_PUSH_PRED*/</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">score</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">cnt</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">name</span><span class="p">,</span> <span class="n">nation_code</span><span class="p">)</span> <span class="n">a</span><span class="p">,</span> <span class="n">record</span> <span class="n">r</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">athlete_code</span>
<span class="k">AND</span> <span class="n">a</span><span class="p">.</span><span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;KOR&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>If the <strong>NO_PUSH_PRED</strong> hint is used on main query, <strong>Predicate Push</strong> is not performed.</p>
<p>The following is an example that performs an <strong>OUTER JOIN</strong> with the predicate to be pushed in the <strong>ON</strong> clause condition.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">score</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">athlete</span> <span class="k">WHERE</span> <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span> <span class="n">a</span>
    <span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">record</span> <span class="n">r</span> <span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">athlete_code</span> <span class="k">AND</span> <span class="n">a</span><span class="p">.</span><span class="n">nation_code</span> <span class="o">=</span> <span class="s1">&#39;KOR&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>In this case, <em>a.nation_code = ‘KOR’</em> exists in the <strong>ON</strong> clause during the <strong>LEFT OUTER JOIN</strong>. Such a predicate within the <strong>ON</strong> clause is not a target for <strong>Predicate Push</strong>.</p>
<p>The following is an example that performs an <strong>OUTER JOIN</strong> where either the predicate to be pushed or the target for <strong>Predicate Push</strong> within the view uses the <strong>NULL</strong> transformation function.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">r</span><span class="p">.</span><span class="n">score</span>
<span class="k">FROM</span> <span class="n">athlete</span> <span class="n">a</span>
        <span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="p">(</span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">record</span> <span class="k">WHERE</span> <span class="n">medal</span> <span class="o">=</span> <span class="s1">&#39;G&#39;</span><span class="p">)</span> <span class="n">r</span> <span class="k">ON</span> <span class="n">a</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">athlete_code</span>
<span class="k">WHERE</span> <span class="n">NVL</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">score</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>When performing an <strong>OUTER JOIN</strong> and either the predicate to be pushed or the target for <strong>Predicate Push</strong> within the view uses a <strong>NULL</strong> transformation function, it’s not a target for <strong>Predicate Push</strong>.</p>
</div>
</div>
<div class="section" id="query-cache">
<span id="id12"></span><h1>QUERY CACHE<a class="headerlink" href="#query-cache" title="Permalink to this headline">¶</a></h1>
<p>The <strong>QUERY_CACHE</strong> hint can be used to enhance the performance for the query which is executed repeatedly. The query is cached in dedicated memory area and its results are also cached at the separated disk space. The hint is applied to SELECT query only; however, for the following cases, the hint is not applicable to the query and the hint is meaningless:</p>
<ul class="simple">
<li>a system time or date related attribute in the query as below
ex) SELECT SYSDATE, ADDDATE(SYSDATE,INTERVAL -24 HOUR), ADDDATE(SYSDATE, -1);</li>
<li>a SERIAL related attribute is in the query</li>
<li>a column-path related attribute is in the query</li>
<li>a method is in the query</li>
<li>a stored procedure or a stored function is in the query</li>
<li>a system tables like dual, _db_attribute, and so on, is in the query</li>
<li>a system function like sys_guid() is in the query</li>
</ul>
<p>When the hint is set and a new SELECT query is processed, the query cache is looked up if the query appears in the query cache. The queries are considered identical in case they use the same query text and the same bind values under the same database. If the cached query is not found, the query will be processed and then cached newly with its result. If the query is found from the cache, the results will be fetched from the cached area. AT the CSQL, we can measure the enhancement easily to execute the query repeatedly using the COUNT function as below example. The query and its results will be cached at the first appearance, so the response time is slower than the next same query. The second query’s result is fetched from the cached area, so the response time is much faster than the prior same query’s one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">QUERY_CACHE</span> <span class="o">*/</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">game</span><span class="p">;</span>

<span class="o">===</span> <span class="o">&lt;</span><span class="n">Result</span> <span class="n">of</span> <span class="n">SELECT</span> <span class="n">Command</span> <span class="ow">in</span> <span class="n">Line</span> <span class="mi">1</span><span class="o">&gt;</span> <span class="o">===</span>

     <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="o">=============</span>
     <span class="mi">8653</span>

<span class="mi">1</span> <span class="n">row</span> <span class="n">selected</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.107082</span> <span class="n">sec</span><span class="p">)</span> <span class="n">Committed</span><span class="o">.</span>

<span class="mi">1</span> <span class="n">command</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">successfully</span> <span class="n">processed</span><span class="o">.</span>

<span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">QUERY_CACHE</span> <span class="o">*/</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">game</span><span class="p">;</span>

<span class="o">===</span> <span class="o">&lt;</span><span class="n">Result</span> <span class="n">of</span> <span class="n">SELECT</span> <span class="n">Command</span> <span class="ow">in</span> <span class="n">Line</span> <span class="mi">1</span><span class="o">&gt;</span> <span class="o">===</span>

     <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="o">=============</span>
     <span class="mi">8653</span>

<span class="mi">1</span> <span class="n">row</span> <span class="n">selected</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.003932</span> <span class="n">sec</span><span class="p">)</span> <span class="n">Committed</span><span class="o">.</span>

<span class="mi">1</span> <span class="n">command</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">successfully</span> <span class="n">processed</span><span class="o">.</span>
</pre></div>
</div>
<p>The user can check the query to be cached or not by putting the session command <em>;info qcache’</em> in CSQL as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>csql&gt; ;info qcache

LIST_CACHE {
  n_hts 1010
  n_entries 1  n_pages 1
  lookup_counter 1
  hit_counter 1
  miss_counter 0
  full_counter 0
}

list_hts[0] 0x6a74d10
HTABLE NAME = list file cache (DB_VALUE list), SIZE = 211, REHASH_AT = 147,
NENTRIES = 1, NPREALLOC = 0, NCOLLISIONS = 0

HASH AT 0
LIST_CACHE_ENTRY (0x6c46d18) {
  param_values = [ ]
  list_id = { type_list { 1 integer/1 } tuple_cnt 1 page_cnt 1 first_vpid { 65 32766 } last_vpid { 65 32766 } lasttpl_len 24 query_id 2
  temp_vfid { 64 32766 } }
  uncommitted_marker = false
  tran_isolation = 4
  tran_index_array = [ ]
  last_ta_idx = 0
  query_string = select /*+ QUERY_CACHE */ count(*) from [game] [game]?193=&quot;en_US&quot;;194=&quot;en_US&quot;;249=&quot;Asia/Seoul&quot;;user=0|833|1
  time_created = 11/23/20 16:07:12.779703
  time_last_used = 11/23/20 16:07:22.772330
  ref_count = 1
  deletion_marker = false
}
</pre></div>
</div>
<p>The cached query is shown as <strong>query_string</strong> in the middle of the result screen. Each of the <strong>n_entries</strong> and <strong>n_pages</strong> represents the number of cached queries and the number of pages in the cached results. The <strong>n_entries</strong> is limited to the value of configuration parameter <strong>max_query_cache_entries</strong> and the <strong>n_pages</strong> is limited to the value of <strong>query_cache_size_in_pages</strong>. If the <strong>n_entries</strong> is overflown or the <strong>n_pages</strong> is overflown, some victims among the cache entries are selected and they are uncached. The number of victims is about 20% of <strong>max_query_cache_entries</strong> value and of the <strong>query_cache_size_in_pages</strong> value.</p>
<div class="section" id="subquery-cache-correlated">
<span id="correlated-subquery-cache"></span><h2>SUBQUERY CACHE (correlated)<a class="headerlink" href="#subquery-cache-correlated" title="Permalink to this headline">¶</a></h2>
<p>Subquery cache optimization can enhance the performance of queries including correlated subqueries by caching each subquery’s results in private memory space per subquery.
This optimization is enabled by default.
To disable it during query execution, use the NO_SUBQUERY_CACHE hint on the target subquery.</p>
<p>When the correlated subquery is in the SELECT clause, subquery cache is enabled.
The processing mechanism of the cache is as follows:
If the column values ​​of the search conditions of the re-executed correlated subquery are the same, the cached results are used instead of executing the subquery.
If the cached value cannot be found in the subquery cache, after executing the subquery, the retrieved column value and results are stored in the subquery cache.</p>
<p>When executing a query using <a class="reference internal" href="#query-profiling"><span class="std std-ref">query profiling</span></a>, the profile results for the subquery cache are displayed as part of the profile for correlated subqueries.</p>
<p>The following example displays subquery cache profiling information, when performing a correlated subquery.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">RECOMPILE</span> <span class="n">NO_MERGE</span> <span class="o">*/</span>
        <span class="p">(</span><span class="n">SELECT</span> <span class="n">t1_pk</span> <span class="n">FROM</span> <span class="n">t1</span> <span class="n">b</span> <span class="n">WHERE</span> <span class="n">b</span><span class="o">.</span><span class="n">t1_pk</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">c3</span><span class="p">)</span>
      <span class="n">FROM</span> <span class="n">t1</span> <span class="n">a</span>
      <span class="n">WHERE</span> <span class="n">a</span><span class="o">.</span><span class="n">c2</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">Trace</span> <span class="n">Statistics</span><span class="p">:</span>
  <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">108</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">103639</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">SCAN</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t1</span><span class="p">),</span> <span class="p">(</span><span class="n">heap</span> <span class="n">time</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">100384</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">99000</span><span class="p">)</span>
    <span class="n">SUBQUERY</span> <span class="p">(</span><span class="n">correlated</span><span class="p">)</span>
      <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">2970</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">SCAN</span> <span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t1</span><span class="o">.</span><span class="n">pk_t1</span><span class="p">),</span> <span class="p">(</span><span class="n">btree</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">1980</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readkeys</span><span class="p">:</span> <span class="mi">990</span><span class="p">,</span> <span class="n">filteredkeys</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">990</span><span class="p">,</span> <span class="n">covered</span><span class="p">:</span> <span class="n">true</span><span class="p">)</span>
        <span class="n">SUBQUERY_CACHE</span> <span class="p">(</span><span class="n">hit</span><span class="p">:</span> <span class="mi">98010</span><span class="p">,</span> <span class="n">miss</span><span class="p">:</span> <span class="mi">990</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="mi">269384</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="n">enabled</span><span class="p">)</span>
</pre></div>
</div>
<p>Descriptions for each item are as follows:</p>
<ul class="simple">
<li><strong>hit</strong>: The number of retrieves from the cache without executing the query.</li>
<li><strong>miss</strong>: The number of times the result of a query execution is stored into the cache (the number of times a query result is not found in the cache).</li>
<li><strong>size</strong>: The memory size used by the subquery cache.</li>
<li><strong>status</strong>: The activation status of the subquery cache at the end of executing the query.</li>
</ul>
<p>During query execution, if the <strong>size</strong> of the subquery cache exceeds the set value, or the <strong>size</strong> does not exceed the set value but the <strong>miss</strong>/<strong>hit</strong> ratio exceeds 9 (the miss rate is determined to be high), the subquery cache is disabled, and the <strong>status</strong> of the profiling information is marked as disabled.</p>
<p>The following example contains queries that count the results of a correlated subquery that is executed repeatedly to check for performance improvements depending on whether subquery caching is used.
The following query creates data to perform the example queries.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prepare data</span>
<span class="n">csql</span><span class="o">&gt;</span> <span class="n">DROP</span> <span class="n">TABLE</span> <span class="n">IF</span> <span class="n">EXISTS</span> <span class="n">t1</span><span class="p">;</span>

<span class="n">csql</span><span class="o">&gt;</span> <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">t1</span> <span class="n">AS</span>
        <span class="n">SELECT</span>
                <span class="n">ROWNUM</span> <span class="n">AS</span> <span class="n">t1_pk</span><span class="p">,</span>
                <span class="n">MOD</span><span class="p">(</span><span class="n">ROWNUM</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="n">AS</span> <span class="n">c1</span><span class="p">,</span>
                <span class="n">MOD</span><span class="p">(</span><span class="n">ROWNUM</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="n">AS</span> <span class="n">c2</span><span class="p">,</span>
                <span class="n">MOD</span><span class="p">(</span><span class="n">ROWNUM</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="n">AS</span> <span class="n">c3</span>
        <span class="n">FROM</span>
                <span class="n">db_class</span> <span class="n">a</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">b</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">c</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">d</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">e</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">f</span>
        <span class="n">LIMIT</span> <span class="mi">100000</span><span class="p">;</span>

<span class="n">csql</span><span class="o">&gt;</span> <span class="n">ALTER</span> <span class="n">TABLE</span> <span class="n">t1</span> <span class="n">ADD</span> <span class="n">CONSTRAINT</span> <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">pk_t1</span> <span class="p">(</span><span class="n">t1_pk</span><span class="p">);</span>

<span class="n">csql</span><span class="o">&gt;</span> <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">t2</span> <span class="n">AS</span>
        <span class="n">SELECT</span>
                <span class="n">ROWNUM</span> <span class="k">as</span> <span class="n">c1</span><span class="p">,</span>
                <span class="mi">1</span> <span class="k">as</span> <span class="n">c2</span><span class="p">,</span>
                <span class="n">TO_CHAR</span><span class="p">(</span><span class="n">ROWNUM</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;0999&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">code</span>
        <span class="n">FROM</span>
                <span class="n">db_class</span> <span class="n">a</span><span class="p">,</span> <span class="n">db_class</span> <span class="n">b</span>
        <span class="n">LIMIT</span> <span class="mi">10</span><span class="p">;</span>

<span class="n">csql</span><span class="o">&gt;</span> <span class="n">update</span> <span class="n">statistics</span> <span class="n">on</span> <span class="n">t1</span> <span class="k">with</span> <span class="n">fullscan</span><span class="p">;</span>

<span class="n">csql</span><span class="o">&gt;</span> <span class="p">;</span><span class="n">trace</span> <span class="n">on</span>
</pre></div>
</div>
<p>Query #1 is executed using subquery cache optimization, while Query #2 is executed without subquery cache optimization by using the NO_SUBQUERY_CACHE hint.
A comparison of the results from the two queries reveals that subquery cache optimization improves response performance.</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Query #1</strong></th>
<th class="head"><strong>Query #2</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
       <span class="n">FROM</span> <span class="p">(</span>
              <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">RECOMPILE</span> <span class="n">NO_MERGE</span> <span class="o">*/</span>
                     <span class="p">(</span><span class="n">SELECT</span> <span class="n">t1_pk</span> <span class="n">FROM</span> <span class="n">t1</span> <span class="n">b</span> <span class="n">WHERE</span> <span class="n">b</span><span class="o">.</span><span class="n">t1_pk</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">c3</span><span class="p">)</span>
                <span class="n">FROM</span> <span class="n">t1</span> <span class="n">a</span>
               <span class="n">WHERE</span> <span class="n">a</span><span class="o">.</span><span class="n">c2</span> <span class="o">&gt;=</span> <span class="mi">1</span>
            <span class="p">);</span>

<span class="o">===</span> <span class="o">&lt;</span><span class="n">Result</span> <span class="n">of</span> <span class="n">SELECT</span> <span class="n">Command</span> <span class="ow">in</span> <span class="n">Line</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="o">===</span>

             <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="o">======================</span>
                <span class="mi">99000</span>

<span class="mi">1</span> <span class="n">row</span> <span class="n">selected</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.128251</span> <span class="n">sec</span><span class="p">)</span> <span class="n">Committed</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.000010</span> <span class="n">sec</span><span class="p">)</span>

<span class="mi">1</span> <span class="n">command</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">successfully</span> <span class="n">processed</span><span class="o">.</span>
</pre></div>
</div>
</td>
<td><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
       <span class="n">FROM</span> <span class="p">(</span>
              <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">RECOMPILE</span> <span class="n">NO_MERGE</span> <span class="o">*/</span>
                    <span class="p">(</span><span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">NO_SUBQUERY_CACHE</span> <span class="o">*/</span> <span class="n">t1_pk</span> <span class="n">FROM</span> <span class="n">t1</span> <span class="n">b</span> <span class="n">WHERE</span> <span class="n">b</span><span class="o">.</span><span class="n">t1_pk</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">c3</span><span class="p">)</span>
                <span class="n">FROM</span> <span class="n">t1</span> <span class="n">a</span>
               <span class="n">WHERE</span> <span class="n">a</span><span class="o">.</span><span class="n">c2</span> <span class="o">&gt;=</span> <span class="mi">1</span>
            <span class="p">);</span>

<span class="o">===</span> <span class="o">&lt;</span><span class="n">Result</span> <span class="n">of</span> <span class="n">SELECT</span> <span class="n">Command</span> <span class="ow">in</span> <span class="n">Line</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="o">===</span>

             <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="o">======================</span>
                <span class="mi">99000</span>

<span class="mi">1</span> <span class="n">row</span> <span class="n">selected</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.626199</span> <span class="n">sec</span><span class="p">)</span> <span class="n">Committed</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.000011</span> <span class="n">sec</span><span class="p">)</span>

<span class="mi">1</span> <span class="n">command</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">successfully</span> <span class="n">processed</span><span class="o">.</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Subquery cache optimization does not work in the following scenarios:</p>
<ul class="simple">
<li>When the correlated subquery contains another correlated subquery. (However, subquery cache optimization is performed for the innermost correlated subquery that does not contain other correlated subqueries.)</li>
<li>When the subquery is not scalar subquery.</li>
<li>When the subquery includes a CONNECT BY clause.</li>
<li>When the subquery includes OID-related features.</li>
<li>When the subquery includes the <strong>NO_SUBQUERY_CACHE</strong> hint.</li>
<li>When the subquery cache memory size exceeds the configured size (default: 2MB).</li>
<li>When the subquery contains functions that produce different results with each execution, such as random() or sys_guid().</li>
</ul>
<p>The following example shows that subquery caching is enabled only for the innermost correlated subquery and disabled for the outer correlated subquery.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="o">/*+</span> <span class="n">recompile</span> <span class="o">*/</span>
        <span class="p">(</span>
            <span class="n">SELECT</span>
                <span class="p">(</span>
                    <span class="n">SELECT</span> <span class="n">c</span><span class="o">.</span><span class="n">code</span>
                    <span class="n">FROM</span> <span class="n">t2</span> <span class="n">c</span>
                    <span class="n">WHERE</span> <span class="n">c</span><span class="o">.</span><span class="n">c1</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">c1</span>
                <span class="p">)</span>
            <span class="n">FROM</span> <span class="n">t1</span> <span class="n">b</span>
            <span class="n">WHERE</span> <span class="n">b</span><span class="o">.</span><span class="n">t1_pk</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">c1</span>
        <span class="p">)</span> <span class="n">s</span>
        <span class="n">FROM</span> <span class="n">t1</span> <span class="n">a</span>
        <span class="n">WHERE</span> <span class="n">a</span><span class="o">.</span><span class="n">c3</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">Trace</span> <span class="n">Statistics</span><span class="p">:</span>
    <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">56</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">100785</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">SCAN</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t1</span><span class="p">),</span> <span class="p">(</span><span class="n">heap</span> <span class="n">time</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">100384</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">SUBQUERY</span> <span class="p">(</span><span class="n">correlated</span><span class="p">)</span>
        <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">401</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">SCAN</span> <span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t1</span><span class="o">.</span><span class="n">pk_t1</span><span class="p">),</span> <span class="p">(</span><span class="n">btree</span> <span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readkeys</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="n">filteredkeys</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span> <span class="p">(</span><span class="n">lookup</span> <span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">SUBQUERY</span> <span class="p">(</span><span class="n">correlated</span><span class="p">)</span>
            <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">SCAN</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t2</span><span class="p">),</span> <span class="p">(</span><span class="n">heap</span> <span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">SUBQUERY_CACHE</span> <span class="p">(</span><span class="n">hit</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="n">miss</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="mi">150704</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="n">enabled</span><span class="p">)</span>
</pre></div>
</div>
<p>The following example shows that subquery cache optimization is disabled when the correlated subquery includes random() functions, which yield different results with each execution.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csql</span><span class="o">&gt;</span> <span class="n">WITH</span> <span class="n">cte_1</span> <span class="n">AS</span>
        <span class="p">(</span><span class="n">SELECT</span>
            <span class="n">DISTINCT</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">t2</span> <span class="n">b</span> <span class="n">WHERE</span> <span class="n">b</span><span class="o">.</span><span class="n">c1</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">c1</span> <span class="n">AND</span> <span class="n">b</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="n">v</span>
            <span class="n">FROM</span> <span class="n">t1</span> <span class="n">a</span>
            <span class="n">WHERE</span> <span class="n">a</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="p">)</span> <span class="n">SELECT</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">cte_1</span><span class="p">;</span>

<span class="n">Trace</span> <span class="n">Statistics</span><span class="p">:</span>
    <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">101384</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">SCAN</span> <span class="p">(</span><span class="n">temp</span> <span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="n">SUBQUERY</span> <span class="p">(</span><span class="n">uncorrelated</span><span class="p">)</span>
        <span class="n">CTE</span> <span class="p">(</span><span class="n">non_recursive_part</span><span class="p">)</span>
            <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">101384</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">SCAN</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t1</span><span class="p">),</span> <span class="p">(</span><span class="n">heap</span> <span class="n">time</span><span class="p">:</span> <span class="mi">59</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">100384</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">1000</span><span class="p">)</span>
            <span class="n">ORDERBY</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="n">page</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">SUBQUERY</span> <span class="p">(</span><span class="n">correlated</span><span class="p">)</span>
                <span class="n">SELECT</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">fetch_time</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">SCAN</span> <span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n">dba</span><span class="o">.</span><span class="n">t2</span><span class="p">),</span> <span class="p">(</span><span class="n">heap</span> <span class="n">time</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">fetch</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">ioread</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">readrows</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="partition_index.html" class="btn btn-neutral float-right" title="Partitioning" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="tuning_index.html" class="btn btn-neutral float-left" title="Query Optimization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016, CUBRID Corparation..
      <span class="lastupdated">
        Last updated on Nov 22, 2024.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>